"use strict";var fp=Object.defineProperty,pp=(re,vt,O)=>vt in re?fp(re,vt,{enumerable:!0,configurable:!0,writable:!0,value:O}):re[vt]=O,D=(re,vt,O)=>(pp(re,"symbol"!=typeof vt?vt+"":vt,O),O);(self.webpackChunkapplication=self.webpackChunkapplication||[]).push([[214],{6214:(re,vt,O)=>{O.r(vt),O.d(vt,{ExpenseModule:()=>up});var z=O(6895),Wi=O(6239),ot=O(7579),dt=O(2722),R=O(6492);function le(n){return n+.5|0}const wt=(n,e,t)=>Math.max(Math.min(n,t),e);function Me(n){return wt(le(2.55*n),0,255)}function Ft(n){return wt(le(255*n),0,255)}function kt(n){return wt(le(n/2.55)/100,0,1)}function Jn(n){return wt(le(100*n),0,100)}const mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Gi=[..."0123456789ABCDEF"],Uo=n=>Gi[15&n],qo=n=>Gi[(240&n)>>4]+Gi[15&n],Je=n=>(240&n)>>4==(15&n);const Jo=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ta(n,e,t){const i=e*Math.min(t,1-t),a=(s,o=(s+n/30)%12)=>t-i*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function tr(n,e,t){const i=(a,s=(a+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function er(n,e,t){const i=ta(n,1,.5);let a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)i[a]*=1-e-t,i[a]+=e;return i}function Zi(n){const t=n.r/255,i=n.g/255,a=n.b/255,s=Math.max(t,i,a),o=Math.min(t,i,a),r=(s+o)/2;let c,d,h;return s!==o&&(h=s-o,d=r>.5?h/(2-s-o):h/(s+o),c=function ir(n,e,t,i,a){return n===a?(e-t)/i+(e<t?6:0):e===a?(t-n)/i+2:(n-e)/i+4}(t,i,a,h,s),c=60*c+.5),[0|c,d||0,r]}function Ui(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Ft)}function qi(n,e,t){return Ui(ta,n,e,t)}function ea(n){return(n%360+360)%360}const ia={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},na={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ti;const dr=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,$i=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,ce=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ei(n,e,t){if(n){let i=Zi(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,0===e?360:1)),i=qi(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function aa(n,e){return n&&Object.assign(e||{},n)}function sa(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ft(n[3]))):(e=aa(n,{r:0,g:0,b:0,a:1})).a=Ft(e.a),e}function pr(n){return"r"===n.charAt(0)?function hr(n){const e=dr.exec(n);let i,a,s,t=255;if(e){if(e[7]!==i){const o=+e[7];t=e[8]?Me(o):wt(255*o,0,255)}return i=+e[1],a=+e[3],s=+e[5],i=255&(e[2]?Me(i):wt(i,0,255)),a=255&(e[4]?Me(a):wt(a,0,255)),s=255&(e[6]?Me(s):wt(s,0,255)),{r:i,g:a,b:s,a:t}}}(n):function sr(n){const e=Jo.exec(n);let i,t=255;if(!e)return;e[5]!==i&&(t=e[6]?Me(+e[5]):Ft(+e[5]));const a=ea(+e[2]),s=+e[3]/100,o=+e[4]/100;return i="hwb"===e[1]?function nr(n,e,t){return Ui(er,n,e,t)}(a,s,o):"hsv"===e[1]?function ar(n,e,t){return Ui(tr,n,e,t)}(a,s,o):qi(a,s,o),{r:i[0],g:i[1],b:i[2],a:t}}(n)}class de{constructor(e){if(e instanceof de)return e;const t=typeof e;let i;"object"===t?i=sa(e):"string"===t&&(i=function Xo(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*mt[n[1]],g:255&17*mt[n[2]],b:255&17*mt[n[3]],a:5===e?17*mt[n[4]]:255}:(7===e||9===e)&&(t={r:mt[n[1]]<<4|mt[n[2]],g:mt[n[3]]<<4|mt[n[4]],b:mt[n[5]]<<4|mt[n[6]],a:9===e?mt[n[7]]<<4|mt[n[8]]:255})),t}(e)||function cr(n){ti||(ti=function lr(){const n={},e=Object.keys(na),t=Object.keys(ia);let i,a,s,o,r;for(i=0;i<e.length;i++){for(o=r=e[i],a=0;a<t.length;a++)s=t[a],r=r.replace(s,ia[s]);s=parseInt(na[o],16),n[r]=[s>>16&255,s>>8&255,255&s]}return n}(),ti.transparent=[0,0,0,0]);const e=ti[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||pr(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=aa(this._rgb);return e&&(e.a=kt(e.a)),e}set rgb(e){this._rgb=sa(e)}rgbString(){return this._valid?function ur(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${kt(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function Qo(n){var e=(n=>Je(n.r)&&Je(n.g)&&Je(n.b)&&Je(n.a))(n)?Uo:qo;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function rr(n){if(!n)return;const e=Zi(n),t=e[0],i=Jn(e[1]),a=Jn(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${a}%, ${kt(n.a)})`:`hsl(${t}, ${i}%, ${a}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,a=e.rgb;let s;const o=t===s?.5:t,r=2*o-1,c=i.a-a.a,d=((r*c==-1?r:(r+c)/(1+r*c))+1)/2;s=1-d,i.r=255&d*i.r+s*a.r+.5,i.g=255&d*i.g+s*a.g+.5,i.b=255&d*i.b+s*a.b+.5,i.a=o*i.a+(1-o)*a.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function fr(n,e,t){const i=ce(kt(n.r)),a=ce(kt(n.g)),s=ce(kt(n.b));return{r:Ft($i(i+t*(ce(kt(e.r))-i))),g:Ft($i(a+t*(ce(kt(e.g))-a))),b:Ft($i(s+t*(ce(kt(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new de(this.rgb)}alpha(e){return this._rgb.a=Ft(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=le(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ei(this._rgb,2,e),this}darken(e){return ei(this._rgb,2,-e),this}saturate(e){return ei(this._rgb,1,e),this}desaturate(e){return ei(this._rgb,1,-e),this}rotate(e){return function or(n,e){var t=Zi(n);t[0]=ea(t[0]+e),t=qi(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function At(){}const mr=(()=>{let n=0;return()=>n++})();function L(n){return null==n}function j(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function V(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function $(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function ht(n,e){return $(n)?n:e}function I(n,e){return typeof n>"u"?e:n}const oa=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Y(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function H(n,e,t,i){let a,s,o;if(j(n))if(s=n.length,i)for(a=s-1;a>=0;a--)e.call(t,n[a],a);else for(a=0;a<s;a++)e.call(t,n[a],a);else if(V(n))for(o=Object.keys(n),s=o.length,a=0;a<s;a++)e.call(t,n[o[a]],o[a])}function ii(n,e){let t,i,a,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(a=n[t],s=e[t],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function ni(n){if(j(n))return n.map(ni);if(V(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let a=0;for(;a<i;++a)e[t[a]]=ni(n[t[a]]);return e}return n}function ra(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function _r(n,e,t,i){if(!ra(n))return;const a=e[n],s=t[n];V(a)&&V(s)?De(a,s,i):e[n]=ni(s)}function De(n,e,t){const i=j(e)?e:[e],a=i.length;if(!V(n))return n;const s=(t=t||{}).merger||_r;let o;for(let r=0;r<a;++r){if(o=i[r],!V(o))continue;const c=Object.keys(o);for(let d=0,h=c.length;d<h;++d)s(c[d],n,o,t)}return n}function Ce(n,e){return De(n,e,{merger:br})}function br(n,e,t){if(!ra(n))return;const i=e[n],a=t[n];V(i)&&V(a)?Ce(i,a):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ni(a))}const la={"":n=>n,x:n=>n.x,y:n=>n.y};function Lt(n,e){return(la[e]||(la[e]=function vr(n){const e=function yr(n){const e=n.split("."),t=[];let i="";for(const a of e)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}(n);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e)))(n)}function Xi(n){return n.charAt(0).toUpperCase()+n.slice(1)}const we=n=>typeof n<"u",Vt=n=>"function"==typeof n,ca=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},W=Math.PI,G=2*W,Mr=G+W,ai=Number.POSITIVE_INFINITY,Dr=W/180,X=W/2,Wt=W/4,da=2*W/3,Bt=Math.log10,xt=Math.sign;function ke(n,e,t){return Math.abs(n-e)<t}function ha(n){const e=Math.round(n);n=ke(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Bt(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function he(n){return!function wr(n){return"symbol"==typeof n||"object"==typeof n&&null!==n&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function ua(n,e,t){let i,a,s;for(i=0,a=n.length;i<a;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function gt(n){return n*(W/180)}function Ki(n){return n*(180/W)}function fa(n){if(!$(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function pa(n,e){const t=e.x-n.x,i=e.y-n.y,a=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*W&&(s+=G),{angle:s,distance:a}}function Qi(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Ar(n,e){return(n-e+Mr)%G-W}function ut(n){return(n%G+G)%G}function Ae(n,e,t,i){const a=ut(n),s=ut(e),o=ut(t),r=ut(s-a),c=ut(o-a),d=ut(a-s),h=ut(a-o);return a===s||a===o||i&&s===o||r>c&&d<h}function J(n,e,t){return Math.max(e,Math.min(t,n))}function St(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Ji(n,e,t){t=t||(o=>n[o]<e);let s,i=n.length-1,a=0;for(;i-a>1;)s=a+i>>1,t(s)?a=s:i=s;return{lo:a,hi:i}}const Et=(n,e,t,i)=>Ji(n,t,i?a=>{const s=n[a][e];return s<t||s===t&&n[a+1][e]===t}:a=>n[a][e]<t),Er=(n,e,t)=>Ji(n,t,i=>n[i][e]>=t),ma=["push","pop","shift","splice","unshift"];function ga(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,a=i.indexOf(e);-1!==a&&i.splice(a,1),!(i.length>0)&&(ma.forEach(s=>{delete n[s]}),delete n._chartjs)}function _a(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const ba=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function ya(n,e){let t=[],i=!1;return function(...a){t=a,i||(i=!0,ba.call(window,()=>{i=!1,n.apply(e,t)}))}}const tn=n=>"start"===n?"left":"end"===n?"right":"center",it=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function va(n,e,t){const i=e.length;let a=0,s=i;if(n._sorted){const{iScale:o,vScale:r,_parsed:c}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=o.axis,{min:u,max:f,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(a=Math.min(Et(c,h,u).lo,t?i:Et(e,h,o.getPixelForValue(u)).lo),d){const g=c.slice(0,a+1).reverse().findIndex(_=>!L(_[r.axis]));a-=Math.max(0,g)}a=J(a,0,i-1)}if(m){let g=Math.max(Et(c,o.axis,f,!0).hi+1,t?0:Et(e,h,o.getPixelForValue(f),!0).hi+1);if(d){const _=c.slice(g-1).findIndex(b=>!L(b[r.axis]));g+=Math.max(0,_)}s=J(g,a,i)-a}else s=i-a}return{start:a,count:s}}function xa(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=a,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,a),s}const si=n=>0===n||1===n,Ma=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*G/t),Da=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*G/t)+1,Se={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*X),easeOutSine:n=>Math.sin(n*X),easeInOutSine:n=>-.5*(Math.cos(W*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>si(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>si(n)?n:Ma(n,.075,.3),easeOutElastic:n=>si(n)?n:Da(n,.075,.3),easeInOutElastic:n=>si(n)?n:n<.5?.5*Ma(2*n,.1125,.45):.5+.5*Da(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-Se.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Se.easeInBounce(2*n):.5*Se.easeOutBounce(2*n-1)+.5};function en(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Ca(n){return en(n)?n:new de(n)}function nn(n){return en(n)?n:new de(n).saturate(.5).darken(.1).hexString()}const Pr=["x","y","borderWidth","radius","tension"],Fr=["color","borderColor","backgroundColor"],wa=new Map;function Ee(n,e,t){return function Br(n,e){e=e||{};const t=n+JSON.stringify(e);let i=wa.get(t);return i||(i=new Intl.NumberFormat(n,e),wa.set(t,i)),i}(e,t).format(n)}const ka={values:n=>j(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const i=this.chart.options.locale;let a,s=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),s=function Hr(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const o=Bt(Math.abs(s)),r=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:a,minimumFractionDigits:r,maximumFractionDigits:r};return Object.assign(c,this.options.ticks.format),Ee(n,i,c)},logarithmic(n,e,t){if(0===n)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Bt(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?ka.numeric.call(this,n,e,t):""}};var oi={formatters:ka};const Gt=Object.create(null),an=Object.create(null);function Te(n,e){if(!e)return n;const t=e.split(".");for(let i=0,a=t.length;i<a;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function sn(n,e,t){return"string"==typeof e?De(Te(n,e),t):De(Te(n,""),e)}class zr{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>nn(a.backgroundColor),this.hoverBorderColor=(i,a)=>nn(a.borderColor),this.hoverColor=(i,a)=>nn(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return sn(this,e,t)}get(e){return Te(this,e)}describe(e,t){return sn(an,e,t)}override(e,t){return sn(Gt,e,t)}route(e,t,i,a){const s=Te(this,e),o=Te(this,i),r="_"+t;Object.defineProperties(s,{[r]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[r],d=o[a];return V(c)?Object.assign({},d,c):I(c,d)},set(c){this[r]=c}}})}apply(e){e.forEach(t=>t(this))}}var Z=new zr({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Lr(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),n.set("animations",{colors:{type:"color",properties:Fr},numbers:{type:"number",properties:Pr}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function Vr(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Nr(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:oi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function ri(n,e,t,i,a){let s=e[a];return s||(s=e[a]=n.measureText(a).width,t.push(a)),s>i&&(i=s),i}function jr(n,e,t,i){let a=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(a=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let o=0;const r=t.length;let c,d,h,u,f;for(c=0;c<r;c++)if(u=t[c],null==u||j(u)){if(j(u))for(d=0,h=u.length;d<h;d++)f=u[d],null!=f&&!j(f)&&(o=ri(n,a,s,o,f))}else o=ri(n,a,s,o,u);n.restore();const p=s.length/2;if(p>t.length){for(c=0;c<p;c++)delete a[s[c]];s.splice(0,p)}return o}function Zt(n,e,t){const i=n.currentDevicePixelRatio,a=0!==t?Math.max(t/2,.5):0;return Math.round((e-a)*i)/i+a}function Aa(n,e){!e&&!n||((e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function on(n,e,t,i){Sa(n,e,t,i,null)}function Sa(n,e,t,i,a){let s,o,r,c,d,h,u,f;const p=e.pointStyle,m=e.rotation,g=e.radius;let _=(m||0)*Dr;if(p&&"object"==typeof p&&(s=p.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(t,i),n.rotate(_),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),void n.restore();if(!(isNaN(g)||g<=0)){switch(n.beginPath(),p){default:a?n.ellipse(t,i,a/2,g,0,0,G):n.arc(t,i,g,0,G),n.closePath();break;case"triangle":h=a?a/2:g,n.moveTo(t+Math.sin(_)*h,i-Math.cos(_)*g),_+=da,n.lineTo(t+Math.sin(_)*h,i-Math.cos(_)*g),_+=da,n.lineTo(t+Math.sin(_)*h,i-Math.cos(_)*g),n.closePath();break;case"rectRounded":d=.516*g,c=g-d,o=Math.cos(_+Wt)*c,u=Math.cos(_+Wt)*(a?a/2-d:c),r=Math.sin(_+Wt)*c,f=Math.sin(_+Wt)*(a?a/2-d:c),n.arc(t-u,i-r,d,_-W,_-X),n.arc(t+f,i-o,d,_-X,_),n.arc(t+u,i+r,d,_,_+X),n.arc(t-f,i+o,d,_+X,_+W),n.closePath();break;case"rect":if(!m){c=Math.SQRT1_2*g,h=a?a/2:c,n.rect(t-h,i-c,2*h,2*c);break}_+=Wt;case"rectRot":u=Math.cos(_)*(a?a/2:g),o=Math.cos(_)*g,r=Math.sin(_)*g,f=Math.sin(_)*(a?a/2:g),n.moveTo(t-u,i-r),n.lineTo(t+f,i-o),n.lineTo(t+u,i+r),n.lineTo(t-f,i+o),n.closePath();break;case"crossRot":_+=Wt;case"cross":u=Math.cos(_)*(a?a/2:g),o=Math.cos(_)*g,r=Math.sin(_)*g,f=Math.sin(_)*(a?a/2:g),n.moveTo(t-u,i-r),n.lineTo(t+u,i+r),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o);break;case"star":u=Math.cos(_)*(a?a/2:g),o=Math.cos(_)*g,r=Math.sin(_)*g,f=Math.sin(_)*(a?a/2:g),n.moveTo(t-u,i-r),n.lineTo(t+u,i+r),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o),_+=Wt,u=Math.cos(_)*(a?a/2:g),o=Math.cos(_)*g,r=Math.sin(_)*g,f=Math.sin(_)*(a?a/2:g),n.moveTo(t-u,i-r),n.lineTo(t+u,i+r),n.moveTo(t+f,i-o),n.lineTo(t-f,i+o);break;case"line":o=a?a/2:Math.cos(_)*g,r=Math.sin(_)*g,n.moveTo(t-o,i-r),n.lineTo(t+o,i+r);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(_)*(a?a/2:g),i+Math.sin(_)*g);break;case!1:n.closePath()}n.fill(),e.borderWidth>0&&n.stroke()}}function Tt(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function li(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function ci(n){n.restore()}function Wr(n,e,t,i,a){if(!e)return n.lineTo(t.x,t.y);if("middle"===a){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===a!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Gr(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function Ur(n,e,t,i,a){if(a.strikethrough||a.underline){const s=n.measureText(i),o=e-s.actualBoundingBoxLeft,r=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,h=a.strikethrough?(c+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(o,h),n.lineTo(r,h),n.stroke()}}function qr(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Ut(n,e,t,i,a,s={}){const o=j(e)?e:[e],r=s.strokeWidth>0&&""!==s.strokeColor;let c,d;for(n.save(),n.font=a.string,function Zr(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),L(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),c=0;c<o.length;++c)d=o[c],s.backdrop&&qr(n,s.backdrop),r&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),L(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,t,i,s.maxWidth)),n.fillText(d,t,i,s.maxWidth),Ur(n,t,i,d,s),i+=Number(a.lineHeight);n.restore()}function Oe(n,e){const{x:t,y:i,w:a,h:s,radius:o}=e;n.arc(t+o.topLeft,i+o.topLeft,o.topLeft,1.5*W,W,!0),n.lineTo(t,i+s-o.bottomLeft),n.arc(t+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,W,X,!0),n.lineTo(t+a-o.bottomRight,i+s),n.arc(t+a-o.bottomRight,i+s-o.bottomRight,o.bottomRight,X,0,!0),n.lineTo(t+a,i+o.topRight),n.arc(t+a-o.topRight,i+o.topRight,o.topRight,0,-X,!0),n.lineTo(t+o.topLeft,i)}const $r=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Xr=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Kr(n,e){const t=(""+n).match($r);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const Qr=n=>+n||0;function rn(n,e){const t={},i=V(e),a=i?Object.keys(e):e,s=V(n)?i?o=>I(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of a)t[o]=Qr(s(o));return t}function Ea(n){return rn(n,{top:"y",right:"x",bottom:"y",left:"x"})}function qt(n){return rn(n,["topLeft","topRight","bottomLeft","bottomRight"])}function nt(n){const e=Ea(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Q(n,e){let t=I((n=n||{}).size,(e=e||Z.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=I(n.style,e.style);i&&!(""+i).match(Xr)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:I(n.family,e.family),lineHeight:Kr(I(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:I(n.weight,e.weight),string:""};return a.string=function Yr(n){return!n||L(n.size)||L(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(a),a}function Ie(n,e,t,i){let s,o,r,a=!0;for(s=0,o=n.length;s<o;++s)if(r=n[s],void 0!==r&&(void 0!==e&&"function"==typeof r&&(r=r(e),a=!1),void 0!==t&&j(r)&&(r=r[t%r.length],a=!1),void 0!==r))return i&&!a&&(i.cacheable=!1),r}function Ht(n,e){return Object.assign(Object.create(n),e)}function ln(n,e=[""],t,i,a=(()=>n[0])){const s=t||n;typeof i>"u"&&(i=Pa("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:a,override:r=>ln([r,...n],e,s,i)};return new Proxy(o,{deleteProperty:(r,c)=>(delete r[c],delete r._keys,delete n[0][c],!0),get:(r,c)=>Oa(r,c,()=>function rl(n,e,t,i){let a;for(const s of e)if(a=Pa(tl(s,n),t),typeof a<"u")return cn(n,a)?dn(t,i,n,a):a}(c,e,n,r)),getOwnPropertyDescriptor:(r,c)=>Reflect.getOwnPropertyDescriptor(r._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(r,c)=>Fa(r).includes(c),ownKeys:r=>Fa(r),set(r,c,d){const h=r._storage||(r._storage=a());return r[c]=h[c]=d,delete r._keys,!0}})}function ue(n,e,t,i){const a={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Ta(n,i),setContext:s=>ue(n,s,t,i),override:s=>ue(n.override(s),e,t,i)};return new Proxy(a,{deleteProperty:(s,o)=>(delete s[o],delete n[o],!0),get:(s,o,r)=>Oa(s,o,()=>function el(n,e,t){const{_proxy:i,_context:a,_subProxy:s,_descriptors:o}=n;let r=i[e];return Vt(r)&&o.isScriptable(e)&&(r=function il(n,e,t,i){const{_proxy:a,_context:s,_subProxy:o,_stack:r}=t;if(r.has(n))throw new Error("Recursion detected: "+Array.from(r).join("->")+"->"+n);r.add(n);let c=e(s,o||i);return r.delete(n),cn(n,c)&&(c=dn(a._scopes,a,n,c)),c}(e,r,n,t)),j(r)&&r.length&&(r=function nl(n,e,t,i){const{_proxy:a,_context:s,_subProxy:o,_descriptors:r}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(V(e[0])){const c=e,d=a._scopes.filter(h=>h!==c);e=[];for(const h of c){const u=dn(d,a,n,h);e.push(ue(u,s,o&&o[n],r))}}return e}(e,r,n,o.isIndexable)),cn(e,r)&&(r=ue(r,a,s&&s[e],o)),r}(s,o,r)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(s,o,r)=>(n[o]=r,delete s[o],!0)})}function Ta(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:a=e.allKeys}=n;return{allKeys:a,scriptable:t,indexable:i,isScriptable:Vt(t)?t:()=>t,isIndexable:Vt(i)?i:()=>i}}const tl=(n,e)=>n?n+Xi(e):e,cn=(n,e)=>V(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Oa(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||"constructor"===e)return n[e];const i=t();return n[e]=i,i}function Ia(n,e,t){return Vt(n)?n(e,t):n}const al=(n,e)=>!0===n?e:"string"==typeof n?Lt(e,n):void 0;function sl(n,e,t,i,a){for(const s of e){const o=al(t,s);if(o){n.add(o);const r=Ia(o._fallback,t,a);if(typeof r<"u"&&r!==t&&r!==i)return r}else if(!1===o&&typeof i<"u"&&t!==i)return null}return!1}function dn(n,e,t,i){const a=e._rootScopes,s=Ia(e._fallback,t,i),o=[...n,...a],r=new Set;r.add(i);let c=Ra(r,o,t,s||t,i);return!(null===c||typeof s<"u"&&s!==t&&(c=Ra(r,o,s,c,i),null===c))&&ln(Array.from(r),[""],a,s,()=>function ol(n,e,t){const i=n._getTarget();e in i||(i[e]={});const a=i[e];return j(a)&&V(t)?t:a||{}}(e,t,i))}function Ra(n,e,t,i,a){for(;t;)t=sl(n,e,t,i,a);return t}function Pa(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Fa(n){let e=n._keys;return e||(e=n._keys=function ll(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(i);return Array.from(e)}(n._scopes)),e}function La(n,e,t,i){const{iScale:a}=n,{key:s="r"}=this._parsing,o=new Array(i);let r,c,d,h;for(r=0,c=i;r<c;++r)d=r+t,h=e[d],o[r]={r:a.parse(Lt(h,s),d)};return o}const cl=Number.EPSILON||1e-14,fe=(n,e)=>e<n.length&&!n[e].skip&&n[e],Va=n=>"x"===n?"y":"x";function dl(n,e,t,i){const a=n.skip?e:n,s=e,o=t.skip?e:t,r=Qi(s,a),c=Qi(o,s);let d=r/(r+c),h=c/(r+c);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const u=i*d,f=i*h;return{previous:{x:s.x-u*(o.x-a.x),y:s.y-u*(o.y-a.y)},next:{x:s.x+f*(o.x-a.x),y:s.y+f*(o.y-a.y)}}}function di(n,e,t){return Math.max(Math.min(n,t),e)}function ml(n,e,t,i,a){let s,o,r,c;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),"monotone"===e.cubicInterpolationMode)!function fl(n,e="x"){const t=Va(e),i=n.length,a=Array(i).fill(0),s=Array(i);let o,r,c,d=fe(n,0);for(o=0;o<i;++o)if(r=c,c=d,d=fe(n,o+1),c){if(d){const h=d[e]-c[e];a[o]=0!==h?(d[t]-c[t])/h:0}s[o]=r?d?xt(a[o-1])!==xt(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}(function hl(n,e,t){const i=n.length;let a,s,o,r,c,d=fe(n,0);for(let h=0;h<i-1;++h)if(c=d,d=fe(n,h+1),c&&d){if(ke(e[h],0,cl)){t[h]=t[h+1]=0;continue}a=t[h]/e[h],s=t[h+1]/e[h],r=Math.pow(a,2)+Math.pow(s,2),!(r<=9)&&(o=3/Math.sqrt(r),t[h]=a*o*e[h],t[h+1]=s*o*e[h])}})(n,a,s),function ul(n,e,t="x"){const i=Va(t),a=n.length;let s,o,r,c=fe(n,0);for(let d=0;d<a;++d){if(o=r,r=c,c=fe(n,d+1),!r)continue;const h=r[t],u=r[i];o&&(s=(h-o[t])/3,r[`cp1${t}`]=h-s,r[`cp1${i}`]=u-s*e[d]),c&&(s=(c[t]-h)/3,r[`cp2${t}`]=h+s,r[`cp2${i}`]=u+s*e[d])}}(n,s,e)}(n,a);else{let d=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)r=n[s],c=dl(d,r,n[Math.min(s+1,o-(i?0:1))%o],e.tension),r.cp1x=c.previous.x,r.cp1y=c.previous.y,r.cp2x=c.next.x,r.cp2y=c.next.y,d=r}e.capBezierPoints&&function pl(n,e){let t,i,a,s,o,r=Tt(n[0],e);for(t=0,i=n.length;t<i;++t)o=s,s=r,r=t<i-1&&Tt(n[t+1],e),s&&(a=n[t],o&&(a.cp1x=di(a.cp1x,e.left,e.right),a.cp1y=di(a.cp1y,e.top,e.bottom)),r&&(a.cp2x=di(a.cp2x,e.left,e.right),a.cp2y=di(a.cp2y,e.top,e.bottom)))}(n,t)}function hn(){return typeof window<"u"&&typeof document<"u"}function un(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function hi(n,e,t){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*e.parentNode[t])):i=n,i}const ui=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),_l=["top","right","bottom","left"];function $t(n,e,t){const i={};t=t?"-"+t:"";for(let a=0;a<4;a++){const s=_l[a];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Xt(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,a=ui(t),s="border-box"===a.boxSizing,o=$t(a,"padding"),r=$t(a,"border","width"),{x:c,y:d,box:h}=function yl(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:a,offsetY:s}=i;let r,c,o=!1;if(((n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot))(a,s,n.target))r=a,c=s;else{const d=e.getBoundingClientRect();r=i.clientX-d.left,c=i.clientY-d.top,o=!0}return{x:r,y:c,box:o}}(n,t),u=o.left+(h&&r.left),f=o.top+(h&&r.top);let{width:p,height:m}=e;return s&&(p-=o.width+r.width,m-=o.height+r.height),{x:Math.round((c-u)/p*t.width/i),y:Math.round((d-f)/m*t.height/i)}}const fi=n=>Math.round(10*n)/10;function Ba(n,e,t){const i=e||1,a=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||o.height!==a||o.width!==s)&&(n.currentDevicePixelRatio=i,o.height=a,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const Ml=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};hn()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function Ha(n,e){const t=function gl(n,e){return ui(n).getPropertyValue(e)}(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Kt(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Dl(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:"middle"===i?t<.5?n.y:e.y:"after"===i?t<1?n.y:e.y:t>0?e.y:n.y}}function Cl(n,e,t,i){const a={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},o=Kt(n,a,t),r=Kt(a,s,t),c=Kt(s,e,t),d=Kt(o,r,t),h=Kt(r,c,t);return Kt(d,h,t)}function pe(n,e,t){return n?function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}}(e,t):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}}function Na(n,e){let t,i;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function za(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Ya(n){return"angle"===n?{between:Ae,compare:Ar,normalize:ut}:{between:St,compare:(e,t)=>e-t,normalize:e=>e}}function ja({start:n,end:e,count:t,loop:i,style:a}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t==0,style:a}}function Wa(n,e,t){if(!t)return[n];const{property:i,start:a,end:s}=t,o=e.length,{compare:r,between:c,normalize:d}=Ya(i),{start:h,end:u,loop:f,style:p}=function Al(n,e,t){const{property:i,start:a,end:s}=t,{between:o,normalize:r}=Ya(i),c=e.length;let f,p,{start:d,end:h,loop:u}=n;if(u){for(d+=c,h+=c,f=0,p=c;f<p&&o(r(e[d%c][i]),a,s);++f)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:u,style:n.style}}(n,e,t),m=[];let b,y,M,g=!1,_=null;for(let k=h,S=h;k<=u;++k)y=e[k%o],!y.skip&&(b=d(y[i]),b!==M&&(g=c(b,a,s),null===_&&(g||c(a,M,b)&&0!==r(a,M))&&(_=0===r(b,a)?k:S),null!==_&&(!g||0===r(s,b)||c(s,M,b))&&(m.push(ja({start:_,end:k,loop:f,count:o,style:p})),_=null),S=k,M=b));return null!==_&&m.push(ja({start:_,end:u,loop:f,count:o,style:p})),m}function Ga(n,e){const t=[],i=n.segments;for(let a=0;a<i.length;a++){const s=Wa(i[a],n.points,e);s.length&&t.push(...s)}return t}function Ua(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Il(n,e){if(!e)return!1;const t=[],i=function(a,s){return en(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function pi(n,e,t){return n.options.clip?n[t]:e[t]}function qa(n,e){const t=e._clip;if(t.disabled)return!1;const i=function Rl(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:pi(t,e,"left"),right:pi(t,e,"right"),top:pi(i,e,"top"),bottom:pi(i,e,"bottom")}:e}(e,n.chartArea);return{left:!1===t.left?0:i.left-(!0===t.left?0:t.left),right:!1===t.right?n.width:i.right+(!0===t.right?0:t.right),top:!1===t.top?0:i.top-(!0===t.top?0:t.top),bottom:!1===t.bottom?n.height:i.bottom+(!0===t.bottom?0:t.bottom)}}class Pl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,a){const o=t.duration;t.listeners[a].forEach(r=>r({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(i-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ba.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const s=i.items;let c,o=s.length-1,r=!1;for(;o>=0;--o)c=s[o],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),r=!0):(s[o]=s[s.length-1],s.pop());r&&(a.draw(),this._notify(a,i,e,"progress")),s.length||(i.running=!1,this._notify(a,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ot=new Pl;const $a="transparent",Fl={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const i=Ca(n||$a),a=i.valid&&Ca(e||$a);return a&&a.valid?a.mix(i,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class Ll{constructor(e,t,i,a){const s=t[i];a=Ie([e.to,a,s,e.from]);const o=Ie([e.from,s,a]);this._active=!0,this._fn=e.fn||Fl[e.type||typeof o],this._easing=Se[e.easing]||Se.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const a=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Ie([e.to,t,a,e.from]),this._from=Ie([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,a=this._prop,s=this._from,o=this._loop,r=this._to;let c;if(this._active=s!==r&&(o||t<i),!this._active)return this._target[a]=r,void this._notify(!0);t<0?this._target[a]=s:(c=t/i%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,r,c))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][t]()}}class Xa{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!V(e))return;const t=Object.keys(Z.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!V(s))return;const o={};for(const r of t)o[r]=s[r];(j(s.properties)&&s.properties||[a]).forEach(r=>{(r===a||!i.has(r))&&i.set(r,o)})})}_animateOptions(e,t){const i=t.options,a=function Bl(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,i);if(!a)return[];const s=this._createAnimations(a,i);return i.$shared&&function Vl(n,e){const t=[],i=Object.keys(e);for(let a=0;a<i.length;a++){const s=n[i[a]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,a=[],s=e.$animations||(e.$animations={}),o=Object.keys(t),r=Date.now();let c;for(c=o.length-1;c>=0;--c){const d=o[c];if("$"===d.charAt(0))continue;if("options"===d){a.push(...this._animateOptions(e,t));continue}const h=t[d];let u=s[d];const f=i.get(d);if(u){if(f&&u.active()){u.update(f,h,r);continue}u.cancel()}f&&f.duration?(s[d]=u=new Ll(f,e,d,h),a.push(u)):e[d]=h}return a}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(Ot.add(this._chart,i),!0):void 0}}function Ka(n,e){const t=n&&n.options||{},i=t.reverse,a=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:i?s:a,end:i?a:s}}function Qa(n,e){const t=[],i=n._getSortedDatasetMetas(e);let a,s;for(a=0,s=i.length;a<s;++a)t.push(i[a].index);return t}function Ja(n,e,t,i={}){const a=n.keys,s="single"===i.mode;let o,r,c,d;if(null===e)return;let h=!1;for(o=0,r=a.length;o<r;++o){if(c=+a[o],c===t){if(h=!0,i.all)continue;break}d=n.values[c],$(d)&&(s||0===e||xt(e)===xt(d))&&(e+=d)}return h||i.all?e:0}function fn(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function Wl(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function ts(n,e,t,i){for(const a of e.getMatchingVisibleMetas(i).reverse()){const s=n[a.index];if(t&&s>0||!t&&s<0)return a.index}return null}function es(n,e){const{chart:t,_cachedMeta:i}=n,a=t._stacks||(t._stacks={}),{iScale:s,vScale:o,index:r}=i,c=s.axis,d=o.axis,h=function Yl(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,o,i),u=e.length;let f;for(let p=0;p<u;++p){const m=e[p],{[c]:g,[d]:_}=m;f=(m._stacks||(m._stacks={}))[d]=Wl(a,h,g),f[r]=_,f._top=ts(f,o,!0,i.type),f._bottom=ts(f,o,!1,i.type),(f._visualValues||(f._visualValues={}))[r]=_}}function pn(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function Re(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const a of e){const s=a._stacks;if(!s||void 0===s[i]||void 0===s[i][t])return;delete s[i][t],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[t]&&delete s[i]._visualValues[t]}}}const mn=n=>"reset"===n||"none"===n,is=(n,e)=>e?n:Object.assign({},n);class _t{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=fn(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Re(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),a=(u,f,p,m)=>"x"===u?f:"r"===u?m:p,s=t.xAxisID=I(i.xAxisID,pn(e,"x")),o=t.yAxisID=I(i.yAxisID,pn(e,"y")),r=t.rAxisID=I(i.rAxisID,pn(e,"r")),c=t.indexAxis,d=t.iAxisID=a(c,s,o,r),h=t.vAxisID=a(c,o,s,r);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ga(this._data,this),e._stacked&&Re(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(V(t))this._data=function zl(n,e){const{iScale:t,vScale:i}=e,a="x"===t.axis?"x":"y",s="x"===i.axis?"x":"y",o=Object.keys(n),r=new Array(o.length);let c,d,h;for(c=0,d=o.length;c<d;++c)h=o[c],r[c]={[a]:h,[s]:n[h]};return r}(t,this._cachedMeta);else if(i!==t){if(i){ga(i,this);const a=this._cachedMeta;Re(a),a._parsed=[]}t&&Object.isExtensible(t)&&function Or(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ma.forEach(t=>{const i="_onData"+Xi(t),a=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const o=a.apply(this,s);return n._chartjs.listeners.forEach(r=>{"function"==typeof r[i]&&r[i](...s)}),o}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const s=t._stacked;t._stacked=fn(t.vScale,t),t.stack!==i.stack&&(a=!0,Re(t),t.stack=i.stack),this._resyncElements(e),(a||s!==t._stacked)&&(es(this,t._parsed),t._stacked=fn(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:a}=this,{iScale:s,_stacked:o}=i,r=s.axis;let h,u,f,c=0===e&&t===a.length||i._sorted,d=e>0&&i._parsed[e-1];if(!1===this._parsing)i._parsed=a,i._sorted=!0,f=a;else{f=j(a[e])?this.parseArrayData(i,a,e,t):V(a[e])?this.parseObjectData(i,a,e,t):this.parsePrimitiveData(i,a,e,t);const p=()=>null===u[r]||d&&u[r]<d[r];for(h=0;h<t;++h)i._parsed[h+e]=u=f[h],c&&(p()&&(c=!1),d=u);i._sorted=c}o&&es(this,f)}parsePrimitiveData(e,t,i,a){const{iScale:s,vScale:o}=e,r=s.axis,c=o.axis,d=s.getLabels(),h=s===o,u=new Array(a);let f,p,m;for(f=0,p=a;f<p;++f)m=f+i,u[f]={[r]:h||s.parse(d[m],m),[c]:o.parse(t[m],m)};return u}parseArrayData(e,t,i,a){const{xScale:s,yScale:o}=e,r=new Array(a);let c,d,h,u;for(c=0,d=a;c<d;++c)h=c+i,u=t[h],r[c]={x:s.parse(u[0],h),y:o.parse(u[1],h)};return r}parseObjectData(e,t,i,a){const{xScale:s,yScale:o}=e,{xAxisKey:r="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let h,u,f,p;for(h=0,u=a;h<u;++h)f=h+i,p=t[f],d[h]={x:s.parse(Lt(p,r),f),y:o.parse(Lt(p,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this._cachedMeta,o=t[e.axis];return Ja({keys:Qa(this.chart,!0),values:t._stacks[e.axis]._visualValues},o,s.index,{mode:i})}updateRangeFromParsed(e,t,i,a){const s=i[t.axis];let o=null===s?NaN:s;const r=a&&i._stacks[t.axis];a&&r&&(a.values=r,o=Ja(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const i=this._cachedMeta,a=i._parsed,s=i._sorted&&e===i.iScale,o=a.length,r=this._getOtherScale(e),c=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:Qa(this.chart,!0),values:null})(t,i),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=function jl(n){const{min:e,max:t,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}(r);let f,p;function m(){p=a[f];const g=p[r.axis];return!$(p[e.axis])||h>g||u<g}for(f=0;f<o&&(m()||(this.updateRangeFromParsed(d,e,p,c),!s));++f);if(s)for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(d,e,p,c);break}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let a,s,o;for(a=0,s=t.length;a<s;++a)o=t[a][e.axis],$(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,a=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function Nl(n){let e,t,i,a;return V(n)?(e=n.top,t=n.right,i=n.bottom,a=n.left):e=t=i=a=n,{top:e,right:t,bottom:i,left:a,disabled:!1===n}}(I(this.options.clip,function Hl(n,e,t){if(!1===t)return!1;const i=Ka(n,t),a=Ka(e,t);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this._cachedMeta,a=i.data||[],s=this.chart.chartArea,o=[],r=this._drawStart||0,c=this._drawCount||a.length-r,d=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,r,c),h=r;h<r+c;++h){const u=a[h];u.hidden||(u.active&&d?o.push(u):u.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=function Zl(n,e,t){return Ht(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function Gl(n,e){return Ht(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const a="active"===t,s=this._cachedDataOpts,o=e+"-"+t,r=s[o],c=this.enableOptionSharing&&we(i);if(r)return is(r,c);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),u=a?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),h),p=Object.keys(Z.elements[e]),g=d.resolveNamedOptions(f,p,()=>this.getContext(i,a,t),u);return g.$shared&&(g.$shared=c,s[o]=Object.freeze(is(g,c))),g}_resolveAnimations(e,t,i){const a=this.chart,s=this._cachedDataOpts,o=`animation-${t}`,r=s[o];if(r)return r;let c;if(!1!==a.options.animation){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,t),f=h.getOptionScopes(this.getDataset(),u);c=h.createResolver(f,this.getContext(e,i,t))}const d=new Xa(a,c&&c.animations);return c&&c._cacheable&&(s[o]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||mn(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),a=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(t,s)||s!==a;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:o}}updateElement(e,t,i,a){mn(a)?Object.assign(e,i):this._resolveAnimations(t,a).update(e,i)}updateSharedOptions(e,t,i){e&&!mn(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,a){e.active=a;const s=this.getStyle(t,a);this._resolveAnimations(t,i,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[r,c,d]of this._syncList)this[r](c,d);this._syncList=[];const a=i.length,s=t.length,o=Math.min(s,a);o&&this.parse(0,o),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,t,i=!0){const a=this._cachedMeta,s=a.data,o=e+t;let r;const c=d=>{for(d.length+=t,r=d.length-1;r>=o;r--)d[r]=d[r-t]};for(c(s),r=e;r<o;++r)s[r]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,a){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(e,t);i._stacked&&Re(i,a)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,a]=e;this[t](i,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function $l(n){const e=n.iScale,t=function ql(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let a=0,s=t.length;a<s;a++)i=i.concat(t[a].controller.getAllParsedValues(n));n._cache.$bar=_a(i.sort((a,s)=>a-s))}return n._cache.$bar}(e,n.type);let a,s,o,r,i=e._length;const c=()=>{32767===o||-32768===o||(we(r)&&(i=Math.min(i,Math.abs(o-r)||i)),r=o)};for(a=0,s=t.length;a<s;++a)o=e.getPixelForValue(t[a]),c();for(r=void 0,a=0,s=e.ticks.length;a<s;++a)o=e.getPixelForTick(a),c();return i}function ns(n,e,t,i){return j(n)?function Ql(n,e,t,i){const a=t.parse(n[0],i),s=t.parse(n[1],i),o=Math.min(a,s),r=Math.max(a,s);let c=o,d=r;Math.abs(o)>Math.abs(r)&&(c=r,d=o),e[t.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:s,min:o,max:r}}(n,e,t,i):e[t.axis]=t.parse(n,i),e}function as(n,e,t,i){const a=n.iScale,s=n.vScale,o=a.getLabels(),r=a===s,c=[];let d,h,u,f;for(d=t,h=t+i;d<h;++d)f=e[d],u={},u[a.axis]=r||a.parse(o[d],d),c.push(ns(f,u,s,d));return c}function gn(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function ec(n,e,t,i){let a=e.borderSkipped;const s={};if(!a)return void(n.borderSkipped=s);if(!0===a)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:r,reverse:c,top:d,bottom:h}=function tc(n){let e,t,i,a,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(a="end",s="start"):(a="start",s="end"),{start:t,end:i,reverse:e,top:a,bottom:s}}(n);"middle"===a&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?a=d:(t._bottom||0)===i?a=h:(s[ss(h,o,r,c)]=!0,a=d)),s[ss(a,o,r,c)]=!0,n.borderSkipped=s}function ss(n,e,t,i){return i?(n=function ic(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=os(n,t,e)):n=os(n,e,t),n}function os(n,e,t){return"start"===n?e:"end"===n?t:n}function nc(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}D(_t,"defaults",{}),D(_t,"datasetElementType",null),D(_t,"dataElementType",null);class mi extends _t{parsePrimitiveData(e,t,i,a){return as(e,t,i,a)}parseArrayData(e,t,i,a){return as(e,t,i,a)}parseObjectData(e,t,i,a){const{iScale:s,vScale:o}=e,{xAxisKey:r="x",yAxisKey:c="y"}=this._parsing,d="x"===s.axis?r:c,h="x"===o.axis?r:c,u=[];let f,p,m,g;for(f=i,p=i+a;f<p;++f)g=t[f],m={},m[s.axis]=s.parse(Lt(g,d),f),u.push(ns(Lt(g,h),m,o,f));return u}updateRangeFromParsed(e,t,i,a){super.updateRangeFromParsed(e,t,i,a);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:a}=t,s=this.getParsed(e),o=s._custom,r=gn(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,a){const s="reset"===a,{index:o,_cachedMeta:{vScale:r}}=this,c=r.getBasePixel(),d=r.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(t,a);for(let p=t;p<t+i;p++){const m=this.getParsed(p),g=s||L(m[r.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),_=this._calculateBarIndexPixels(p,h),b=(m._stacks||{})[r.axis],y={horizontal:d,base:g.base,enableBorderRadius:!b||gn(m._custom)||o===b._top||o===b._bottom,x:d?g.head:_.center,y:d?_.center:g.head,height:d?_.size:Math.abs(g.size),width:d?Math.abs(g.size):_.size};f&&(y.options=u||this.resolveDataElementOptions(p,e[p].active?"active":a));const M=y.options||e[p].options;ec(y,M,b,o),nc(y,M,h.ratio),this.updateElement(e[p],p,y,a)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,o=[],r=this._cachedMeta.controller.getParsed(t),c=r&&r[i.axis],d=h=>{const u=h._parsed.find(p=>p[i.axis]===c),f=u&&u[h.vScale.axis];if(L(f)||isNaN(f))return!0};for(const h of a)if((void 0===t||!d(h))&&((!1===s||-1===o.indexOf(h.stack)||void 0===s&&void 0===h.stack)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const a=this._getStacks(e,i),s=void 0!==t?a.indexOf(t):-1;return-1===s?a.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,a=[];let s,o;for(s=0,o=t.data.length;s<o;++s)a.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const r=e.barThickness;return{min:r||$l(t),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:a},options:{base:s,minBarLength:o}}=this,r=s||0,c=this.getParsed(e),d=c._custom,h=gn(d);let m,g,u=c[t.axis],f=0,p=i?this.applyStack(t,c,i):u;p!==u&&(f=p-u,p=u),h&&(u=d.barStart,p=d.barEnd-d.barStart,0!==u&&xt(u)!==xt(d.barEnd)&&(f=0),f+=u);const _=L(s)||h?f:s;let b=t.getPixelForValue(_);if(m=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):b,g=m-b,Math.abs(g)<o){g=function Jl(n,e,t){return 0!==n?xt(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(g,t,r)*o,u===r&&(b-=g/2);const y=t.getPixelForDecimal(0),M=t.getPixelForDecimal(1),x=Math.min(y,M),v=Math.max(y,M);b=Math.max(Math.min(b,v),x),m=b+g,i&&!h&&(c._stacks[t.axis]._visualValues[a]=t.getValueForPixel(m)-t.getValueForPixel(b))}if(b===t.getPixelForValue(r)){const y=xt(g)*t.getLineWidthForValue(r)/2;b+=y,g-=y}return{size:g,base:b,head:m,center:m+g/2}}_calculateBarIndexPixels(e,t){const i=t.scale,a=this.options,s=a.skipNull,o=I(a.maxBarThickness,1/0);let r,c;if(t.grouped){const d=s?this._getStackCount(e):t.stackCount,h="flex"===a.barThickness?function Kl(n,e,t,i){const a=e.pixels,s=a[n];let o=n>0?a[n-1]:null,r=n<a.length-1?a[n+1]:null;const c=t.categoryPercentage;null===o&&(o=s-(null===r?e.end-e.start:r-s)),null===r&&(r=s+s-o);const d=s-(s-Math.min(o,r))/2*c;return{chunk:Math.abs(r-o)/2*c/i,ratio:t.barPercentage,start:d}}(e,t,a,d):function Xl(n,e,t,i){const a=t.barThickness;let s,o;return L(a)?(s=e.min*t.categoryPercentage,o=t.barPercentage):(s=a*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[n]-s/2}}(e,t,a,d),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);r=h.start+h.chunk*u+h.chunk/2,c=Math.min(o,h.chunk*h.ratio)}else r=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(o,t.min*t.ratio);return{base:r-c/2,head:r+c/2,center:r,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,a=i.length;let s=0;for(;s<a;++s)null!==this.getParsed(s)[t.axis]&&!i[s].hidden&&i[s].draw(this._ctx)}}D(mi,"id","bar"),D(mi,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),D(mi,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class gi extends _t{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,a){const s=super.parsePrimitiveData(e,t,i,a);for(let o=0;o<s.length;o++)s[o]._custom=this.resolveDataElementOptions(o+i).radius;return s}parseArrayData(e,t,i,a){const s=super.parseArrayData(e,t,i,a);for(let o=0;o<s.length;o++)s[o]._custom=I(t[i+o][2],this.resolveDataElementOptions(o+i).radius);return s}parseObjectData(e,t,i,a){const s=super.parseObjectData(e,t,i,a);for(let o=0;o<s.length;o++){const r=t[i+o];s[o]._custom=I(r&&r.r&&+r.r,this.resolveDataElementOptions(o+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:s}=t,o=this.getParsed(e),r=a.getLabelForValue(o.x),c=s.getLabelForValue(o.y),d=o._custom;return{label:i[e]||"",value:"("+r+", "+c+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,a){const s="reset"===a,{iScale:o,vScale:r}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,a),h=o.axis,u=r.axis;for(let f=t;f<t+i;f++){const p=e[f],m=!s&&this.getParsed(f),g={},_=g[h]=s?o.getPixelForDecimal(.5):o.getPixelForValue(m[h]),b=g[u]=s?r.getBasePixel():r.getPixelForValue(m[u]);g.skip=isNaN(_)||isNaN(b),d&&(g.options=c||this.resolveDataElementOptions(f,p.active?"active":a),s&&(g.options.radius=0)),this.updateElement(p,f,g,a)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let a=super.resolveDataElementOptions(e,t);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return"active"!==t&&(a.radius=0),a.radius+=I(i&&i._custom,s),a}}D(gi,"id","bubble"),D(gi,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),D(gi,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Qt extends _t{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=i;else{let o,r,s=c=>+i[c];if(V(i[e])){const{key:c="value"}=this._parsing;s=d=>+Lt(i[d],c)}for(o=e,r=e+t;o<r;++o)a._parsed[o]=s(o)}}_getRotation(){return gt(this.options.rotation-90)}_getCircumference(){return gt(this.options.circumference)}_getRotationExtents(){let e=G,t=-G;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,s=a._getRotation(),o=a._getCircumference();e=Math.min(e,s),t=Math.max(t,s+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,a=this._cachedMeta,s=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,r=Math.max((Math.min(i.width,i.height)-o)/2,0),c=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/e)(this.options.cutout,r),1),d=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=function ac(n,e,t){let i=1,a=1,s=0,o=0;if(e<G){const r=n,c=r+e,d=Math.cos(r),h=Math.sin(r),u=Math.cos(c),f=Math.sin(c),p=(M,x,v)=>Ae(M,r,c,!0)?1:Math.max(x,x*t,v,v*t),m=(M,x,v)=>Ae(M,r,c,!0)?-1:Math.min(x,x*t,v,v*t),g=p(0,d,u),_=p(X,h,f),b=m(W,d,u),y=m(W+X,h,f);i=(g-b)/2,a=(_-y)/2,s=-(g+b)/2,o=-(_+y)/2}return{ratioX:i,ratioY:a,offsetX:s,offsetY:o}}(u,h,c),y=Math.max(Math.min((i.width-o)/f,(i.height-o)/p)/2,0),M=oa(this.options.radius,y),v=(M-Math.max(M*c,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*M,this.offsetY=g*M,a.total=this.calculateTotal(),this.outerRadius=M-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,a=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===a._parsed[e]||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/G)}updateElements(e,t,i,a){const s="reset"===a,o=this.chart,r=o.chartArea,h=(r.left+r.right)/2,u=(r.top+r.bottom)/2,f=s&&o.options.animation.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(t,a);let y,b=this._getRotation();for(y=0;y<t;++y)b+=this._circumference(y,s);for(y=t;y<t+i;++y){const M=this._circumference(y,s),x=e[y],v={x:h+this.offsetX,y:u+this.offsetY,startAngle:b,endAngle:b+M,circumference:M,outerRadius:m,innerRadius:p};_&&(v.options=g||this.resolveDataElementOptions(y,x.active?"active":a)),b+=M,this.updateElement(x,y,v,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let a,i=0;for(a=0;a<t.length;a++){const s=e._parsed[a];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!t[a].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?G*(Math.abs(e)/t):0}getLabelAndValue(e){const i=this.chart,a=i.data.labels||[],s=Ee(this._cachedMeta._parsed[e],i.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let a,s,o,r,c;if(!e)for(a=0,s=i.data.datasets.length;a<s;++a)if(i.isDatasetVisible(a)){o=i.getDatasetMeta(a),e=o.data,r=o.controller;break}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=r.resolveDataElementOptions(a),"inner"!==c.borderAlign&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,a=e.length;i<a;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(I(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}D(Qt,"id","doughnut"),D(Qt,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),D(Qt,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),D(Qt,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:a}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class _i extends _t{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:a=[],_dataset:s}=t,o=this.chart._animationsDisabled;let{start:r,count:c}=va(t,a,o);this._drawStart=r,this._drawCount=c,xa(t)&&(r=0,c=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=a;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:d},e),this.updateElements(a,r,c,e)}updateElements(e,t,i,a){const s="reset"===a,{iScale:o,vScale:r,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(t,a),f=o.axis,p=r.axis,{spanGaps:m,segment:g}=this.options,_=he(m)?m:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||"none"===a,y=t+i,M=e.length;let x=t>0&&this.getParsed(t-1);for(let v=0;v<M;++v){const C=e[v],w=b?C:{};if(v<t||v>=y){w.skip=!0;continue}const k=this.getParsed(v),S=L(k[p]),P=w[f]=o.getPixelForValue(k[f],v),F=w[p]=s||S?r.getBasePixel():r.getPixelForValue(c?this.applyStack(r,k,c):k[p],v);w.skip=isNaN(P)||isNaN(F)||S,w.stop=v>0&&Math.abs(k[f]-x[f])>_,g&&(w.parsed=k,w.raw=d.data[v]),u&&(w.options=h||this.resolveDataElementOptions(v,C.active?"active":a)),b||this.updateElement(C,v,w,a),x=k}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return i;const s=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}D(_i,"id","line"),D(_i,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),D(_i,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Pe extends _t{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const i=this.chart,a=i.data.labels||[],s=Ee(this._cachedMeta._parsed[e].r,i.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,t,i,a){return La.bind(this)(e,t,i,a)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,a=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(a/2,0),r=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,t,i,a){const s="reset"===a,o=this.chart,c=o.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,u=d.yCenter,f=d.getIndexAngle(0)-.5*W;let m,p=f;const g=360/this.countVisibleElements();for(m=0;m<t;++m)p+=this._computeAngle(m,a,g);for(m=t;m<t+i;m++){const _=e[m];let b=p,y=p+this._computeAngle(m,a,g),M=o.getDataVisibility(m)?d.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=y,s&&(c.animateScale&&(M=0),c.animateRotate&&(b=y=f));const x={x:h,y:u,innerRadius:0,outerRadius:M,startAngle:b,endAngle:y,options:this.resolveDataElementOptions(m,_.active?"active":a)};this.updateElement(_,m,x,a)}}countVisibleElements(){let t=0;return this._cachedMeta.data.forEach((i,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?gt(this.resolveDataElementOptions(e,t).angle||i):0}}D(Pe,"id","polarArea"),D(Pe,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),D(Pe,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:a}}=e.legend.options;return t.labels.map((s,o)=>{const c=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class _n extends Qt{}D(_n,"id","pie"),D(_n,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class bi extends _t{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,a){return La.bind(this)(e,t,i,a)}update(e){const t=this._cachedMeta,i=t.dataset,a=t.data||[],s=t.iScale.getLabels();if(i.points=a,"resize"!==e){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:s.length===a.length,options:o},e)}this.updateElements(a,0,a.length,e)}updateElements(e,t,i,a){const s=this._cachedMeta.rScale,o="reset"===a;for(let r=t;r<t+i;r++){const c=e[r],d=this.resolveDataElementOptions(r,c.active?"active":a),h=s.getPointPositionForValue(r,this.getParsed(r).r),u=o?s.xCenter:h.x,f=o?s.yCenter:h.y,p={x:u,y:f,angle:h.angle,skip:isNaN(u)||isNaN(f),options:d};this.updateElement(c,r,p,a)}}}D(bi,"id","radar"),D(bi,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),D(bi,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class yi extends _t{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:s}=t,o=this.getParsed(e),r=a.getLabelForValue(o.x),c=s.getLabelForValue(o.y);return{label:i[e]||"",value:"("+r+", "+c+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,a=this.chart._animationsDisabled;let{start:s,count:o}=va(t,i,a);if(this._drawStart=s,this._drawCount=o,xa(t)&&(s=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:r,_dataset:c}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!c._decimated,r.points=i;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,a){const s="reset"===a,{iScale:o,vScale:r,_stacked:c,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(t,a),u=this.getSharedOptions(h),f=this.includeOptions(a,u),p=o.axis,m=r.axis,{spanGaps:g,segment:_}=this.options,b=he(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||"none"===a;let M=t>0&&this.getParsed(t-1);for(let x=t;x<t+i;++x){const v=e[x],C=this.getParsed(x),w=y?v:{},k=L(C[m]),S=w[p]=o.getPixelForValue(C[p],x),P=w[m]=s||k?r.getBasePixel():r.getPixelForValue(c?this.applyStack(r,C,c):C[m],x);w.skip=isNaN(S)||isNaN(P)||k,w.stop=x>0&&Math.abs(C[p]-M[p])>b,_&&(w.parsed=C,w.raw=d.data[x]),f&&(w.options=u||this.resolveDataElementOptions(x,v.active?"active":a)),y||this.updateElement(v,x,w,a),M=C}this.updateSharedOptions(u,a,h)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let r=0;for(let c=t.length-1;c>=0;--c)r=Math.max(r,t[c].size(this.resolveDataElementOptions(c))/2);return r>0&&r}const i=e.dataset,a=i.options&&i.options.borderWidth||0;if(!t.length)return a;const s=t[0].size(this.resolveDataElementOptions(0)),o=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,s,o)/2}}D(yi,"id","scatter"),D(yi,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),D(yi,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var sc=Object.freeze({__proto__:null,BarController:mi,BubbleController:gi,DoughnutController:Qt,LineController:_i,PieController:_n,PolarAreaController:Pe,RadarController:bi,ScatterController:yi});function Jt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bn{constructor(e){D(this,"options"),this.options=e||{}}static override(e){Object.assign(bn.prototype,e)}init(){}formats(){return Jt()}parse(){return Jt()}format(){return Jt()}add(){return Jt()}diff(){return Jt()}startOf(){return Jt()}endOf(){return Jt()}}var oc__date=bn;function rc(n,e,t,i){const{controller:a,data:s,_sorted:o}=n,r=a._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(r&&e===r.axis&&"r"!==e&&o&&s.length){const d=r._reversePixels?Er:Et;if(!i){const h=d(s,e,t);if(c){const{vScale:u}=a._cachedMeta,{_parsed:f}=n,p=f.slice(0,h.lo+1).reverse().findIndex(g=>!L(g[u.axis]));h.lo-=Math.max(0,p);const m=f.slice(h.hi).findIndex(g=>!L(g[u.axis]));h.hi+=Math.max(0,m)}return h}if(a._sharedOptions){const h=s[0],u="function"==typeof h.getRange&&h.getRange(e);if(u){const f=d(s,e,t-u),p=d(s,e,t+u);return{lo:f.lo,hi:p.hi}}}}return{lo:0,hi:s.length-1}}function Fe(n,e,t,i,a){const s=n.getSortedVisibleDatasetMetas(),o=t[e];for(let r=0,c=s.length;r<c;++r){const{index:d,data:h}=s[r],{lo:u,hi:f}=rc(s[r],e,o,a);for(let p=u;p<=f;++p){const m=h[p];m.skip||i(m,d,p)}}}function yn(n,e,t,i,a){const s=[];return!a&&!n.isPointInArea(e)||Fe(n,t,e,function(r,c,d){!a&&!Tt(r,n.chartArea,0)||r.inRange(e.x,e.y,i)&&s.push({element:r,datasetIndex:c,index:d})},!0),s}function vn(n,e,t,i,a,s){return s||n.isPointInArea(e)?"r"!==t||i?function dc(n,e,t,i,a,s){let o=[];const r=function lc(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(i,a){const s=e?Math.abs(i.x-a.x):0,o=t?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(t);let c=Number.POSITIVE_INFINITY;return Fe(n,t,e,function d(h,u,f){const p=h.inRange(e.x,e.y,a);if(i&&!p)return;const m=h.getCenterPoint(a);if(!s&&!n.isPointInArea(m)&&!p)return;const _=r(e,m);_<c?(o=[{element:h,datasetIndex:u,index:f}],c=_):_===c&&o.push({element:h,datasetIndex:u,index:f})}),o}(n,e,t,i,a,s):function cc(n,e,t,i){let a=[];return Fe(n,t,e,function s(o,r,c){const{startAngle:d,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:u}=pa(o,{x:e.x,y:e.y});Ae(u,d,h)&&a.push({element:o,datasetIndex:r,index:c})}),a}(n,e,t,a):[]}function rs(n,e,t,i,a){const s=[],o="x"===t?"inXRange":"inYRange";let r=!1;return Fe(n,t,e,(c,d,h)=>{c[o]&&c[o](e[t],a)&&(s.push({element:c,datasetIndex:d,index:h}),r=r||c.inRange(e.x,e.y,a))}),i&&!r?[]:s}var hc={evaluateInteractionItems:Fe,modes:{index(n,e,t,i){const a=Xt(e,n),s=t.axis||"x",o=t.includeInvisible||!1,r=t.intersect?yn(n,a,s,i,o):vn(n,a,s,!1,i,o),c=[];return r.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const h=r[0].index,u=d.data[h];u&&!u.skip&&c.push({element:u,datasetIndex:d.index,index:h})}),c):[]},dataset(n,e,t,i){const a=Xt(e,n),s=t.axis||"xy",o=t.includeInvisible||!1;let r=t.intersect?yn(n,a,s,i,o):vn(n,a,s,!1,i,o);if(r.length>0){const c=r[0].datasetIndex,d=n.getDatasetMeta(c).data;r=[];for(let h=0;h<d.length;++h)r.push({element:d[h],datasetIndex:c,index:h})}return r},point:(n,e,t,i)=>yn(n,Xt(e,n),t.axis||"xy",i,t.includeInvisible||!1),nearest:(n,e,t,i)=>vn(n,Xt(e,n),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(n,e,t,i)=>rs(n,Xt(e,n),"x",t.intersect,i),y:(n,e,t,i)=>rs(n,Xt(e,n),"y",t.intersect,i)}};const ls=["left","top","right","bottom"];function Le(n,e){return n.filter(t=>t.pos===e)}function cs(n,e){return n.filter(t=>-1===ls.indexOf(t.pos)&&t.box.axis===e)}function Ve(n,e){return n.sort((t,i)=>{const a=e?i:t,s=e?t:i;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function ds(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function hs(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function gc(n,e,t,i){const{pos:a,box:s}=t,o=n.maxPadding;if(!V(a)){t.size&&(n[a]-=t.size);const u=i[t.stack]||{size:0,count:1};u.size=Math.max(u.size,t.horizontal?s.height:s.width),t.size=u.size/u.count,n[a]+=t.size}s.getPadding&&hs(o,s.getPadding());const r=Math.max(0,e.outerWidth-ds(o,n,"left","right")),c=Math.max(0,e.outerHeight-ds(o,n,"top","bottom")),d=r!==n.w,h=c!==n.h;return n.w=r,n.h=c,t.horizontal?{same:d,other:h}:{same:h,other:d}}function bc(n,e){const t=e.maxPadding;return function i(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{s[o]=Math.max(e[o],t[o])}),s}(n?["left","right"]:["top","bottom"])}function Be(n,e,t,i){const a=[];let s,o,r,c,d,h;for(s=0,o=n.length,d=0;s<o;++s){r=n[s],c=r.box,c.update(r.width||e.w,r.height||e.h,bc(r.horizontal,e));const{same:u,other:f}=gc(e,t,r,i);d|=u&&a.length,h=h||f,c.fullSize||a.push(r)}return d&&Be(a,e,t,i)||h}function vi(n,e,t,i,a){n.top=t,n.left=e,n.right=e+i,n.bottom=t+a,n.width=i,n.height=a}function us(n,e,t,i){const a=t.padding;let{x:s,y:o}=e;for(const r of n){const c=r.box,d=i[r.stack]||{count:1,placed:0,weight:1},h=r.stackWeight/d.weight||1;if(r.horizontal){const u=e.w*h,f=d.size||c.height;we(d.start)&&(o=d.start),c.fullSize?vi(c,a.left,o,t.outerWidth-a.right-a.left,f):vi(c,e.left+d.placed,o,u,f),d.start=o,d.placed+=u,o=c.bottom}else{const u=e.h*h,f=d.size||c.width;we(d.start)&&(s=d.start),c.fullSize?vi(c,s,a.top,f,t.outerHeight-a.bottom-a.top):vi(c,s,e.top+d.placed,f,u),d.start=s,d.placed+=u,s=c.right}}e.x=s,e.y=o}var at={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const a=nt(n.options.layout.padding),s=Math.max(e-a.width,0),o=Math.max(t-a.height,0),r=function mc(n){const e=function uc(n){const e=[];let t,i,a,s,o,r;for(t=0,i=(n||[]).length;t<i;++t)a=n[t],({position:s,options:{stack:o,stackWeight:r=1}}=a),e.push({index:t,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&s+o,stackWeight:r});return e}(n),t=Ve(e.filter(d=>d.box.fullSize),!0),i=Ve(Le(e,"left"),!0),a=Ve(Le(e,"right")),s=Ve(Le(e,"top"),!0),o=Ve(Le(e,"bottom")),r=cs(e,"x"),c=cs(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:a.concat(c).concat(o).concat(r),chartArea:Le(e,"chartArea"),vertical:i.concat(a).concat(c),horizontal:s.concat(o).concat(r)}}(n.boxes),c=r.vertical,d=r.horizontal;H(n.boxes,g=>{"function"==typeof g.beforeLayout&&g.beforeLayout()});const h=c.reduce((g,_)=>_.box.options&&!1===_.box.options.display?g:g+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},a);hs(f,nt(i));const p=Object.assign({maxPadding:f,w:s,h:o,x:a.left,y:a.top},a),m=function pc(n,e){const t=function fc(n){const e={};for(const t of n){const{stack:i,pos:a,stackWeight:s}=t;if(!i||!ls.includes(a))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=e;let s,o,r;for(s=0,o=n.length;s<o;++s){r=n[s];const{fullSize:c}=r.box,d=t[r.stack],h=d&&r.stackWeight/d.weight;r.horizontal?(r.width=h?h*i:c&&e.availableWidth,r.height=a):(r.width=i,r.height=h?h*a:c&&e.availableHeight)}return t}(c.concat(d),u);Be(r.fullSize,p,u,m),Be(c,p,u,m),Be(d,p,u,m)&&Be(c,p,u,m),function _c(n){const e=n.maxPadding;function t(i){const a=Math.max(e[i]-n[i],0);return n[i]+=a,a}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(p),us(r.leftAndTop,p,u,m),p.x+=p.w,p.y+=p.h,us(r.rightAndBottom,p,u,m),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},H(r.chartArea,g=>{const _=g.box;Object.assign(_,n.chartArea),_.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class fs{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,a){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):i)}}isAttached(e){return!0}updateConfig(e){}}class yc extends fs{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const xi="$chartjs",vc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},ps=n=>null===n||""===n,ms=!!Ml&&{passive:!0};function Dc(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,ms)}function Mi(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function wc(n,e,t){const i=n.canvas,a=new MutationObserver(s=>{let o=!1;for(const r of s)o=o||Mi(r.addedNodes,i),o=o&&!Mi(r.removedNodes,i);o&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function kc(n,e,t){const i=n.canvas,a=new MutationObserver(s=>{let o=!1;for(const r of s)o=o||Mi(r.removedNodes,i),o=o&&!Mi(r.addedNodes,i);o&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}const He=new Map;let gs=0;function _s(){const n=window.devicePixelRatio;n!==gs&&(gs=n,He.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Ec(n,e,t){const i=n.canvas,a=i&&un(i);if(!a)return;const s=ya((r,c)=>{const d=a.clientWidth;t(r,c),d<a.clientWidth&&t()},window),o=new ResizeObserver(r=>{const c=r[0],d=c.contentRect.width,h=c.contentRect.height;0===d&&0===h||s(d,h)});return o.observe(a),function Ac(n,e){He.size||window.addEventListener("resize",_s),He.set(n,e)}(n,s),o}function xn(n,e,t){t&&t.disconnect(),"resize"===e&&function Sc(n){He.delete(n),He.size||window.removeEventListener("resize",_s)}(n)}function Tc(n,e,t){const i=n.canvas,a=ya(s=>{null!==n.ctx&&t(function Cc(n,e){const t=vc[n.type]||n.type,{x:i,y:a}=Xt(n,e);return{type:t,chart:e,native:n,x:void 0!==i?i:null,y:void 0!==a?a:null}}(s,n))},n);return function Mc(n,e,t){n&&n.addEventListener(e,t,ms)}(i,e,a),a}class Oc extends fs{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function xc(n,e){const t=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[xi]={initial:{height:i,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",ps(a)){const s=Ha(n,"width");void 0!==s&&(n.width=s)}if(ps(i))if(""===n.style.height)n.height=n.width/(e||2);else{const s=Ha(n,"height");void 0!==s&&(n.height=s)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[xi])return!1;const i=t[xi].initial;["height","width"].forEach(s=>{const o=i[s];L(o)?t.removeAttribute(s):t.setAttribute(s,o)});const a=i.style||{};return Object.keys(a).forEach(s=>{t.style[s]=a[s]}),t.width=t.width,delete t[xi],!0}addEventListener(e,t,i){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:wc,detach:kc,resize:Ec}[t]||Tc)(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),a=i[t];a&&(({attach:xn,detach:xn,resize:xn}[t]||Dc)(e,t,a),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,a){return function xl(n,e,t,i){const a=ui(n),s=$t(a,"margin"),o=hi(a.maxWidth,n,"clientWidth")||ai,r=hi(a.maxHeight,n,"clientHeight")||ai,c=function vl(n,e,t){let i,a;if(void 0===e||void 0===t){const s=n&&un(n);if(s){const o=s.getBoundingClientRect(),r=ui(s),c=$t(r,"border","width"),d=$t(r,"padding");e=o.width-d.width-c.width,t=o.height-d.height-c.height,i=hi(r.maxWidth,s,"clientWidth"),a=hi(r.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:i||ai,maxHeight:a||ai}}(n,e,t);let{width:d,height:h}=c;if("content-box"===a.boxSizing){const f=$t(a,"border","width"),p=$t(a,"padding");d-=p.width+f.width,h-=p.height+f.height}return d=Math.max(0,d-s.width),h=Math.max(0,i?d/i:h-s.height),d=fi(Math.min(d,o,c.maxWidth)),h=fi(Math.min(h,r,c.maxHeight)),d&&!h&&(h=fi(d/2)),(void 0!==e||void 0!==t)&&i&&c.height&&h>c.height&&(h=c.height,d=fi(Math.floor(h*i))),{width:d,height:h}}(e,t,i,a)}isAttached(e){const t=e&&un(e);return!(!t||!t.isConnected)}}class bt{constructor(){D(this,"x"),D(this,"y"),D(this,"active",!1),D(this,"options"),D(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return he(this.x)&&he(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const a={};return e.forEach(s=>{a[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),a}}function Di(n,e,t,i,a){const s=I(i,0),o=Math.min(I(a,n.length),n.length);let c,d,h,r=0;for(t=Math.ceil(t),a&&(c=a-i,t=c/Math.floor(c/t)),h=s;h<0;)r++,h=Math.round(s+r*t);for(d=Math.max(s,0);d<o;d++)d===h&&(e.push(n[d]),r++,h=Math.round(s+r*t))}D(bt,"defaults",{}),D(bt,"defaultRoutes");const bs=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t,ys=(n,e)=>Math.min(e||n,n);function vs(n,e){const t=[],i=n.length/e,a=n.length;let s=0;for(;s<a;s+=i)t.push(n[Math.floor(s)]);return t}function Nc(n,e,t){const i=n.ticks.length,a=Math.min(e,i-1),s=n._startPixel,o=n._endPixel,r=1e-6;let d,c=n.getPixelForTick(a);if(!(t&&(d=1===i?Math.max(c-s,o-c):0===e?(n.getPixelForTick(1)-c)/2:(c-n.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<s-r||c>o+r)))return c}function Ne(n){return n.drawTicks?n.tickLength:0}function xs(n,e){if(!n.display)return 0;const t=Q(n.font,e),i=nt(n.padding);return(j(n.text)?n.text.length:1)*t.lineHeight+i.height}function Wc(n,e,t){let i=tn(n);return(t&&"right"!==e||!t&&"right"===e)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class te extends bt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:a}=this;return e=ht(e,Number.POSITIVE_INFINITY),t=ht(t,Number.NEGATIVE_INFINITY),i=ht(i,Number.POSITIVE_INFINITY),a=ht(a,Number.NEGATIVE_INFINITY),{min:ht(e,i),max:ht(t,a),minDefined:$(e),maxDefined:$(t)}}getMinMax(e){let o,{min:t,max:i,minDefined:a,maxDefined:s}=this.getUserBounds();if(a&&s)return{min:t,max:i};const r=this.getMatchingVisibleMetas();for(let c=0,d=r.length;c<d;++c)o=r[c].controller.getMinMax(this,e),a||(t=Math.min(t,o.min)),s||(i=Math.max(i,o.max));return t=s&&t>i?i:t,i=a&&t>i?t:i,{min:ht(t,ht(i,t)),max:ht(i,ht(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Y(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:a,grace:s,ticks:o}=this.options,r=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Jr(n,e,t){const{min:i,max:a}=n,s=oa(e,(a-i)/2),o=(r,c)=>t&&0===r?0:r+c;return{min:o(i,-Math.abs(s)),max:o(a,s)}}(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=r<this.ticks.length;this._convertTicksToLabels(c?vs(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function Rc(n,e){const t=n.options.ticks,i=function Pc(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),a=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?function Lc(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}(e):[],o=s.length,r=s[0],c=s[o-1],d=[];if(o>a)return function Vc(n,e,t,i){let o,a=0,s=t[0];for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(e.push(n[o]),a++,s=t[a*i])}(e,d,s,o/a),d;const h=function Fc(n,e,t){const i=function Bc(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),a=e.length/t;if(!i)return Math.max(a,1);const s=function Cr(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i==0&&(e.push(i),e.push(n/i));return t===(0|t)&&e.push(t),e.sort((a,s)=>a-s).pop(),e}(i);for(let o=0,r=s.length-1;o<r;o++){const c=s[o];if(c>a)return c}return Math.max(a,1)}(s,e,a);if(o>0){let u,f;const p=o>1?Math.round((c-r)/(o-1)):null;for(Di(e,d,h,L(p)?0:r-p,r),u=0,f=o-1;u<f;u++)Di(e,d,h,s[u],s[u+1]);return Di(e,d,h,c,L(p)?e.length:c+p),d}return Di(e,d,h),d}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,e=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Y(this.options.afterUpdate,[this])}beforeSetDimensions(){Y(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Y(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Y(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Y(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,a,s;for(i=0,a=e.length;i<a;i++)s=e[i],s.label=Y(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Y(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Y(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=ys(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,s=t.maxRotation;let r,c,d,o=a;if(!this._isVisible()||!t.display||a>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=a);const h=this._getLabelSizes(),u=h.widest.width,f=h.highest.height,p=J(this.chart.width-u,0,this.maxWidth);r=e.offset?this.maxWidth/i:p/(i-1),u+6>r&&(r=p/(i-(e.offset?.5:1)),c=this.maxHeight-Ne(e.grid)-t.padding-xs(e.title,this.chart.options.font),d=Math.sqrt(u*u+f*f),o=Ki(Math.min(Math.asin(J((h.highest.height+6)/r,-1,1)),Math.asin(J(c/d,-1,1))-Math.asin(J(f/d,-1,1)))),o=Math.max(a,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Y(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Y(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:a,grid:s}}=this,o=this._isVisible(),r=this.isHorizontal();if(o){const c=xs(a,t.options.font);if(r?(e.width=this.maxWidth,e.height=Ne(s)+c):(e.height=this.maxHeight,e.width=Ne(s)+c),i.display&&this.ticks.length){const{first:d,last:h,widest:u,highest:f}=this._getLabelSizes(),p=2*i.padding,m=gt(this.labelRotation),g=Math.cos(m),_=Math.sin(m);r?e.height=Math.min(this.maxHeight,e.height+(i.mirror?0:_*u.width+g*f.height)+p):e.width=Math.min(this.maxWidth,e.width+(i.mirror?0:g*u.width+_*f.height)+p),this._calculatePadding(d,h,_,g)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,a){const{ticks:{align:s,padding:o},position:r}=this.options,c=0!==this.labelRotation,d="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;c?d?(f=a*e.width,p=i*t.height):(f=i*e.height,p=a*t.width):"start"===s?p=t.width:"end"===s?f=e.width:"inner"!==s&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-u+o)*this.width/(this.width-u),0)}else{let h=t.height/2,u=e.height/2;"start"===s?(h=0,u=e.height):"end"===s&&(h=t.height,u=0),this.paddingTop=h+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Y(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)L(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=vs(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:a,_longestTextCache:s}=this,o=[],r=[],c=Math.floor(t/ys(t,i));let u,f,p,m,g,_,b,y,M,x,v,d=0,h=0;for(u=0;u<t;u+=c){if(m=e[u].label,g=this._resolveTickFontOptions(u),a.font=_=g.string,b=s[_]=s[_]||{data:{},gc:[]},y=g.lineHeight,M=x=0,L(m)||j(m)){if(j(m))for(f=0,p=m.length;f<p;++f)v=m[f],!L(v)&&!j(v)&&(M=ri(a,b.data,b.gc,M,v),x+=y)}else M=ri(a,b.data,b.gc,M,m),x=y;o.push(M),r.push(x),d=Math.max(M,d),h=Math.max(x,h)}!function zc(n,e){H(n,t=>{const i=t.gc,a=i.length/2;let s;if(a>e){for(s=0;s<a;++s)delete t.data[i[s]];i.splice(0,a)}})}(s,t);const C=o.indexOf(d),w=r.indexOf(h),k=S=>({width:o[S]||0,height:r[S]||0});return{first:k(0),last:k(t-1),widest:k(C),highest:k(w),widths:o,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function Sr(n){return J(n,-32768,32767)}(this._alignToPixels?Zt(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function jc(n,e,t){return Ht(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=function Yc(n,e){return Ht(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=gt(this.labelRotation),i=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,r=s?s.widest.width+o:0,c=s?s.highest.height+o:0;return this.isHorizontal()?c*i>r*a?r/i:c/a:c*a<r*i?c/i:r/a}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,a=this.options,{grid:s,position:o,border:r}=a,c=s.offset,d=this.isHorizontal(),u=this.ticks.length+(c?1:0),f=Ne(s),p=[],m=r.setContext(this.getContext()),g=m.display?m.width:0,_=g/2,b=function(q){return Zt(i,q,g)};let y,M,x,v,C,w,k,S,P,F,B,et;if("top"===o)y=b(this.bottom),w=this.bottom-f,S=y-_,F=b(e.top)+_,et=e.bottom;else if("bottom"===o)y=b(this.top),F=e.top,et=b(e.bottom)-_,w=y+_,S=this.top+f;else if("left"===o)y=b(this.right),C=this.right-f,k=y-_,P=b(e.left)+_,B=e.right;else if("right"===o)y=b(this.left),P=e.left,B=b(e.right)-_,C=y+_,k=this.left+f;else if("x"===t){if("center"===o)y=b((e.top+e.bottom)/2+.5);else if(V(o)){const q=Object.keys(o)[0];y=b(this.chart.scales[q].getPixelForValue(o[q]))}F=e.top,et=e.bottom,w=y+_,S=w+f}else if("y"===t){if("center"===o)y=b((e.left+e.right)/2);else if(V(o)){const q=Object.keys(o)[0];y=b(this.chart.scales[q].getPixelForValue(o[q]))}C=y-_,k=C-f,P=e.left,B=e.right}const pt=I(a.ticks.maxTicksLimit,u),N=Math.max(1,Math.ceil(u/pt));for(M=0;M<u;M+=N){const q=this.getContext(M),K=s.setContext(q),yt=r.setContext(q),st=K.lineWidth,ve=K.color,ji=yt.dash||[],xe=yt.dashOffset,Ke=K.tickWidth,se=K.tickColor,Qe=K.tickBorderDash||[],oe=K.tickBorderDashOffset;x=Nc(this,M,c),void 0!==x&&(v=Zt(i,x,st),d?C=k=P=B=v:w=S=F=et=v,p.push({tx1:C,ty1:w,tx2:k,ty2:S,x1:P,y1:F,x2:B,y2:et,width:st,color:ve,borderDash:ji,borderDashOffset:xe,tickWidth:Ke,tickColor:se,tickBorderDash:Qe,tickBorderDashOffset:oe}))}return this._ticksLength=u,this._borderValue=y,p}_computeLabelItems(e){const t=this.axis,i=this.options,{position:a,ticks:s}=i,o=this.isHorizontal(),r=this.ticks,{align:c,crossAlign:d,padding:h,mirror:u}=s,f=Ne(i.grid),p=f+h,m=u?-h:p,g=-gt(this.labelRotation),_=[];let b,y,M,x,v,C,w,k,S,P,F,B,et="middle";if("top"===a)C=this.bottom-m,w=this._getXAxisLabelAlignment();else if("bottom"===a)C=this.top+m,w=this._getXAxisLabelAlignment();else if("left"===a){const N=this._getYAxisLabelAlignment(f);w=N.textAlign,v=N.x}else if("right"===a){const N=this._getYAxisLabelAlignment(f);w=N.textAlign,v=N.x}else if("x"===t){if("center"===a)C=(e.top+e.bottom)/2+p;else if(V(a)){const N=Object.keys(a)[0];C=this.chart.scales[N].getPixelForValue(a[N])+p}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===a)v=(e.left+e.right)/2-p;else if(V(a)){const N=Object.keys(a)[0];v=this.chart.scales[N].getPixelForValue(a[N])}w=this._getYAxisLabelAlignment(f).textAlign}"y"===t&&("start"===c?et="top":"end"===c&&(et="bottom"));const pt=this._getLabelSizes();for(b=0,y=r.length;b<y;++b){M=r[b],x=M.label;const N=s.setContext(this.getContext(b));k=this.getPixelForTick(b)+s.labelOffset,S=this._resolveTickFontOptions(b),P=S.lineHeight,F=j(x)?x.length:1;const q=F/2,K=N.color,yt=N.textStrokeColor,st=N.textStrokeWidth;let ji,ve=w;if(o?(v=k,"inner"===w&&(ve=b===y-1?this.options.reverse?"left":"right":0===b?this.options.reverse?"right":"left":"center"),B="top"===a?"near"===d||0!==g?-F*P+P/2:"center"===d?-pt.highest.height/2-q*P+P:P/2-pt.highest.height:"near"===d||0!==g?P/2:"center"===d?pt.highest.height/2-q*P:pt.highest.height-F*P,u&&(B*=-1),0!==g&&!N.showLabelBackdrop&&(v+=P/2*Math.sin(g))):(C=k,B=(1-F)*P/2),N.showLabelBackdrop){const xe=nt(N.backdropPadding),Ke=pt.heights[b],se=pt.widths[b];let Qe=B-xe.top,oe=0-xe.left;switch(et){case"middle":Qe-=Ke/2;break;case"bottom":Qe-=Ke}switch(w){case"center":oe-=se/2;break;case"right":oe-=se;break;case"inner":b===y-1?oe-=se:b>0&&(oe-=se/2)}ji={left:oe,top:Qe,width:se+xe.width,height:Ke+xe.height,color:N.backdropColor}}_.push({label:x,font:S,textOffset:B,options:{rotation:g,color:K,strokeColor:yt,strokeWidth:st,textAlign:ve,textBaseline:et,translation:[v,C],backdrop:ji}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-gt(this.labelRotation))return"top"===e?"left":"right";let a="center";return"start"===t.align?a="left":"end"===t.align?a="right":"inner"===t.align&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:a,padding:s}}=this.options,r=e+s,c=this._getLabelSizes().widest.width;let d,h;return"left"===t?a?(h=this.right+s,"near"===i?d="left":"center"===i?(d="center",h+=c/2):(d="right",h+=c)):(h=this.right-r,"near"===i?d="right":"center"===i?(d="center",h-=c/2):(d="left",h=this.left)):"right"===t?a?(h=this.left+s,"near"===i?d="right":"center"===i?(d="center",h-=c/2):(d="left",h-=c)):(h=this.left+r,"near"===i?d="left":"center"===i?(d="center",h+=c/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:a,width:s,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,a,s,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const r=(c,d,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(s=0,o=a.length;s<o;++s){const c=a[s];t.drawOnChartArea&&r({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&r({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:a}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const r=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,h,u,f;this.isHorizontal()?(d=Zt(e,this.left,o)-o/2,h=Zt(e,this.right,r)+r/2,u=f=c):(u=Zt(e,this.top,o)-o/2,f=Zt(e,this.bottom,r)+r/2,d=h=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,u),t.lineTo(h,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&li(i,a);const s=this.getLabelItems(e);for(const o of s)Ut(i,o.label,0,o.textOffset,o.font,o.options);a&&ci(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:a}}=this;if(!i.display)return;const s=Q(i.font),o=nt(i.padding),r=i.align;let c=s.lineHeight/2;"bottom"===t||"center"===t||V(t)?(c+=o.bottom,j(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:d,titleY:h,maxWidth:u,rotation:f}=function Gc(n,e,t,i){const{top:a,left:s,bottom:o,right:r,chart:c}=n,{chartArea:d,scales:h}=c;let f,p,m,u=0;const g=o-a,_=r-s;if(n.isHorizontal()){if(p=it(i,s,r),V(t)){const b=Object.keys(t)[0];m=h[b].getPixelForValue(t[b])+g-e}else m="center"===t?(d.bottom+d.top)/2+g-e:bs(n,t,e);f=r-s}else{if(V(t)){const b=Object.keys(t)[0];p=h[b].getPixelForValue(t[b])-_+e}else p="center"===t?(d.left+d.right)/2-_+e:bs(n,t,e);m=it(i,o,a),u="left"===t?-X:X}return{titleX:p,titleY:m,maxWidth:f,rotation:u}}(this,c,t,r);Ut(e,i.text,0,0,s,{color:i.color,maxWidth:u,rotation:f,textAlign:Wc(r,t,a),textBaseline:"middle",translation:[d,h]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=I(e.grid&&e.grid.z,-1),a=I(e.border&&e.border.z,0);return this._isVisible()&&this.draw===te.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let s,o;for(s=0,o=t.length;s<o;++s){const r=t[s];r[i]===this.id&&(!e||r.type===e)&&a.push(r)}return a}_resolveTickFontOptions(e){return Q(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ci{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function qc(n){return"id"in n&&"defaults"in n})(t)&&(i=this.register(t));const a=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,function Zc(n,e,t){const i=De(Object.create(null),[t?Z.get(t):{},Z.get(e),n.defaults]);Z.set(e,i),n.defaultRoutes&&function Uc(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),a=i.pop(),s=[n].concat(i).join("."),o=e[t].split("."),r=o.pop(),c=o.join(".");Z.route(s,a,c,r)})}(e,n.defaultRoutes),n.descriptors&&Z.describe(e,n.descriptors)}(e,o,i),this.override&&Z.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,a=this.scope;i in t&&delete t[i],a&&i in Z[a]&&(delete Z[a][i],this.override&&delete Gt[i])}}class $c{constructor(){this.controllers=new Ci(_t,"datasets",!0),this.elements=new Ci(bt,"elements"),this.plugins=new Ci(Object,"plugins"),this.scales=new Ci(te,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(a=>{const s=i||this._getRegistryForType(a);i||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):H(a,o=>{const r=i||this._getRegistryForType(o);this._exec(e,r,o)})})}_exec(e,t,i){const a=Xi(e);Y(i["before"+a],[],i),t[e](i),Y(i["after"+a],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const a=t.get(e);if(void 0===a)throw new Error('"'+e+'" is not a registered '+i+".");return a}}var Mt=new $c;class Xc{constructor(){this._init=[]}notify(e,t,i,a){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,i,a){a=a||{};for(const s of e){const o=s.plugin;if(!1===Y(o[i],[t,a,s.options],o)&&a.cancelable)return!1}return!0}invalidate(){L(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,a=I(i.options&&i.options.plugins,{}),s=function Kc(n){const e={},t=[],i=Object.keys(Mt.plugins.items);for(let s=0;s<i.length;s++)t.push(Mt.getPlugin(i[s]));const a=n.plugins||[];for(let s=0;s<a.length;s++){const o=a[s];-1===t.indexOf(o)&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}(i);return!1!==a||t?function Jc(n,{plugins:e,localIds:t},i,a){const s=[],o=n.getContext();for(const r of e){const c=r.id,d=Qc(i[c],a);null!==d&&s.push({plugin:r,options:td(n.config,{plugin:r,local:t[c]},d,o)})}return s}(e,s,a,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,a=(s,o)=>s.filter(r=>!o.some(c=>r.plugin.id===c.plugin.id));this._notify(a(t,i),e,"stop"),this._notify(a(i,t),e,"start")}}function Qc(n,e){return e||!1!==n?!0===n?{}:n:null}function td(n,{plugin:e,local:t},i,a){const s=n.pluginScopeKeys(e),o=n.getOptionScopes(i,s);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Mn(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(Z.datasets[n]||{}).indexAxis||"x"}function Ms(n){if("x"===n||"y"===n||"r"===n)return n}function nd(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function Dn(n,...e){if(Ms(n))return n;for(const t of e){const i=t.axis||nd(t.position)||n.length>1&&Ms(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ds(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function Cs(n){const e=n.options||(n.options={});e.plugins=I(e.plugins,{}),e.scales=function sd(n,e){const t=Gt[n.type]||{scales:{}},i=e.scales||{},a=Mn(n.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const r=i[o];if(!V(r))return console.error(`Invalid scale configuration for scale: ${o}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const c=Dn(o,r,function ad(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return Ds(n,"x",t[0])||Ds(n,"y",t[0])}return{}}(o,n),Z.scales[r.type]),d=function id(n,e){return n===e?"_index_":"_value_"}(c,a),h=t.scales||{};s[o]=Ce(Object.create(null),[{axis:c},r,h[c],h[d]])}),n.data.datasets.forEach(o=>{const r=o.type||n.type,c=o.indexAxis||Mn(r,e),h=(Gt[r]||{}).scales||{};Object.keys(h).forEach(u=>{const f=function ed(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(u,c),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),Ce(s[p],[{axis:f},i[p],h[u]])})}),Object.keys(s).forEach(o=>{const r=s[o];Ce(r,[Z.scales[r.type],Z.scale])}),s}(n,e)}function ws(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const ks=new Map,As=new Set;function wi(n,e){let t=ks.get(n);return t||(t=e(),ks.set(n,t),As.add(t)),t}const ze=(n,e,t)=>{const i=Lt(e,t);void 0!==i&&n.add(i)};class rd{constructor(e){this._config=function od(n){return(n=n||{}).data=ws(n.data),Cs(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=ws(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Cs(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return wi(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return wi(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return wi(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return wi(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let a=i.get(e);return(!a||t)&&(a=new Map,i.set(e,a)),a}getOptionScopes(e,t,i){const{options:a,type:s}=this,o=this._cachedScopes(e,i),r=o.get(t);if(r)return r;const c=new Set;t.forEach(h=>{e&&(c.add(e),h.forEach(u=>ze(c,e,u))),h.forEach(u=>ze(c,a,u)),h.forEach(u=>ze(c,Gt[s]||{},u)),h.forEach(u=>ze(c,Z,u)),h.forEach(u=>ze(c,an,u))});const d=Array.from(c);return 0===d.length&&d.push(Object.create(null)),As.has(t)&&o.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,Gt[t]||{},Z.datasets[t]||{},{type:t},Z,an]}resolveNamedOptions(e,t,i,a=[""]){const s={$shared:!0},{resolver:o,subPrefixes:r}=Ss(this._resolverCache,e,a);let c=o;(function cd(n,e){const{isScriptable:t,isIndexable:i}=Ta(n);for(const a of e){const s=t(a),o=i(a),r=(o||s)&&n[a];if(s&&(Vt(r)||ld(r))||o&&j(r))return!0}return!1})(o,t)&&(s.$shared=!1,c=ue(o,i=Vt(i)?i():i,this.createResolver(e,i,r)));for(const d of t)s[d]=c[d];return s}createResolver(e,t,i=[""],a){const{resolver:s}=Ss(this._resolverCache,e,i);return V(t)?ue(s,t,void 0,a):s}}function Ss(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const a=t.join();let s=i.get(a);return s||(s={resolver:ln(e,t),subPrefixes:t.filter(r=>!r.toLowerCase().includes("hover"))},i.set(a,s)),s}const ld=n=>V(n)&&Object.getOwnPropertyNames(n).some(e=>Vt(n[e])),hd=["top","bottom","left","right","chartArea"];function Es(n,e){return"top"===n||"bottom"===n||-1===hd.indexOf(n)&&"x"===e}function Ts(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Os(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Y(t&&t.onComplete,[n],e)}function ud(n){const e=n.chart,t=e.options.animation;Y(t&&t.onProgress,[n],e)}function Is(n){return hn()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ki={},Rs=n=>{const e=Is(n);return Object.values(ki).filter(t=>t.canvas===e).pop()};function fd(n,e,t){const i=Object.keys(n);for(const a of i){const s=+a;if(s>=e){const o=n[a];delete n[a],(t>0||s>e)&&(n[s+t]=o)}}}class It{static register(...e){Mt.add(...e),Ps()}static unregister(...e){Mt.remove(...e),Ps()}constructor(e,t){const i=this.config=new rd(t),a=Is(e),s=Rs(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function Ic(n){return!hn()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?yc:Oc}(a)),this.platform.updateConfig(i);const r=this.platform.acquireContext(a,o.aspectRatio),c=r&&r.canvas,d=c&&c.height,h=c&&c.width;this.id=mr(),this.ctx=r,this.canvas=c,this.width=h,this.height=d,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Xc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Ir(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],ki[this.id]=this,r&&c?(Ot.listen(this,"complete",Os),Ot.listen(this,"progress",ud),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:a,_aspectRatio:s}=this;return L(e)?t&&s?s:a?i/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Mt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ba(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Aa(this.canvas,this.ctx),this}stop(){return Ot.stop(this),this}resize(e,t){Ot.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,o=this.platform.getMaximumSize(this.canvas,e,t,i.maintainAspectRatio&&this.aspectRatio),r=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Ba(this,r,!0)&&(this.notifyPlugins("resize",{size:o}),Y(i.onResize,[this,o],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){H(this.options.scales||{},(i,a)=>{i.id=a})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,a=Object.keys(i).reduce((o,r)=>(o[r]=!1,o),{});let s=[];t&&(s=s.concat(Object.keys(t).map(o=>{const r=t[o],c=Dn(o,r),d="r"===c,h="x"===c;return{options:r,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),H(s,o=>{const r=o.options,c=r.id,d=Dn(c,r),h=I(r.type,o.dtype);(void 0===r.position||Es(r.position,d)!==Es(o.dposition))&&(r.position=o.dposition),a[c]=!0;let u=null;c in i&&i[c].type===h?u=i[c]:(u=new(Mt.getScale(h))({id:c,type:h,ctx:this.ctx,chart:this}),i[u.id]=u),u.init(r,e)}),H(a,(o,r)=>{o||delete i[r]}),H(i,o=>{at.configure(this,o,o.options),at.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((a,s)=>a.index-s.index),i>t){for(let a=t;a<i;++a)this._destroyDatasetMeta(a);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Ts("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,a)=>{0===t.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=t.length;i<a;i++){const s=t[i];let o=this.getDatasetMeta(i);const r=s.type||this.config.type;if(o.type&&o.type!==r&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=r,o.indexAxis=s.indexAxis||Mn(r,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const c=Mt.getController(r),{datasetElementType:d,dataElementType:h}=Z.datasets[r];Object.assign(c,{dataElementType:Mt.getElement(h),datasetElementType:d&&Mt.getElement(d)}),o.controller=new c(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){H(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:u}=this.getDatasetMeta(d),f=!a&&-1===s.indexOf(u);u.buildOrUpdateElements(f),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),a||H(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Ts("z","_idx"));const{_active:r,_lastEvent:c}=this;c?this._eventHandler(c,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){H(this.scales,e=>{at.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ca(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:s}of t)fd(e,a,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,r)=>r+","+o.splice(1).join(","))),a=i(0);for(let s=1;s<t;s++)if(!ca(a,i(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;at.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],H(this.boxes,a=>{i&&"chartArea"===a.position||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Vt(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),a={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(i.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Ot.has(this)?this.attached&&!Ot.running(this)&&Ot.start(this):(this.draw(),Os({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let a,s;for(a=0,s=t.length;a<s;++a){const o=t[a];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},a=qa(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(a&&li(t,a),e.controller.draw(),a&&ci(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Tt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,a){const s=hc.modes[t];return"function"==typeof s?s(this,e,i,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let a=i.filter(s=>s&&s._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Ht(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const a=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,a);we(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(r=>r.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ot.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Aa(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ki[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,o)=>{t.addEventListener(this,s,o),e[s]=o},a=(s,o,r)=>{s.offsetX=o,s.offsetY=r,this._eventHandler(s)};H(this.options.events,s=>i(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let o;const r=()=>{a("attach",r),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),i("attach",r)},t.isAttached(this.canvas)?r():o()}unbindEvents(){H(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},H(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const a=i?"set":"remove";let s,o,r,c;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),r=0,c=e.length;r<c;++r){o=e[r];const d=o&&this.getDatasetMeta(o.datasetIndex).controller;d&&d[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const r=this.getDatasetMeta(s);if(!r)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:r.data[o],index:o}});!ii(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,i){const a=this.options.hover,s=(c,d)=>c.filter(h=>!d.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),o=s(t,e),r=i?e:s(e,t);o.length&&this.updateHoverStyle(o,a.mode,!1),r.length&&a.mode&&this.updateHoverStyle(r,a.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,a))return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:a=[],options:s}=this,r=this._getActiveElements(e,a,i,t),c=function xr(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),d=function pd(n,e,t,i){return t&&"mouseout"!==n.type?i?e:n:null}(e,this._lastEvent,i,c);i&&(this._lastEvent=null,Y(s.onHover,[e,r,this],this),c&&Y(s.onClick,[e,r,this],this));const h=!ii(r,a);return(h||t)&&(this._active=r,this._updateHoverStyles(r,a,t)),this._lastEvent=d,h}_getActiveElements(e,t,i,a){if("mouseout"===e.type)return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}function Ps(){return H(It.instances,n=>n._plugins.invalidate())}function me(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Ai(n,e,t,i,a,s){const{x:o,y:r,startAngle:c,pixelMargin:d,innerRadius:h}=e,u=Math.max(e.outerRadius+i+t-d,0),f=h>0?h+i+t+d:0;let p=0;const m=a-c;if(i){const K=((h>0?h-i:0)+(u>0?u-i:0))/2;p=(m-(0!==K?m*K/(K+i):m))/2}const _=(m-Math.max(.001,m*u-t/W)/u)/2,b=c+_+p,y=a-_-p,{outerStart:M,outerEnd:x,innerStart:v,innerEnd:C}=function _d(n,e,t,i){const a=function gd(n){return rn(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,o=Math.min(s,i*e/2),r=c=>{const d=(t-Math.min(s,c))*i/2;return J(c,0,Math.min(s,d))};return{outerStart:r(a.outerStart),outerEnd:r(a.outerEnd),innerStart:J(a.innerStart,0,o),innerEnd:J(a.innerEnd,0,o)}}(e,f,u,y-b),w=u-M,k=u-x,S=b+M/w,P=y-x/k,F=f+v,B=f+C,et=b+v/F,pt=y-C/B;if(n.beginPath(),s){const N=(S+P)/2;if(n.arc(o,r,u,S,N),n.arc(o,r,u,N,P),x>0){const st=me(k,P,o,r);n.arc(st.x,st.y,x,P,y+X)}const q=me(B,y,o,r);if(n.lineTo(q.x,q.y),C>0){const st=me(B,pt,o,r);n.arc(st.x,st.y,C,y+X,pt+Math.PI)}const K=(y-C/f+(b+v/f))/2;if(n.arc(o,r,f,y-C/f,K,!0),n.arc(o,r,f,K,b+v/f,!0),v>0){const st=me(F,et,o,r);n.arc(st.x,st.y,v,et+Math.PI,b-X)}const yt=me(w,b,o,r);if(n.lineTo(yt.x,yt.y),M>0){const st=me(w,S,o,r);n.arc(st.x,st.y,M,b-X,S)}}else{n.moveTo(o,r);const N=Math.cos(S)*u+o,q=Math.sin(S)*u+r;n.lineTo(N,q);const K=Math.cos(P)*u+o,yt=Math.sin(P)*u+r;n.lineTo(K,yt)}n.closePath()}D(It,"defaults",Z),D(It,"instances",ki),D(It,"overrides",Gt),D(It,"registry",Mt),D(It,"version","4.4.9"),D(It,"getChart",Rs);class Ye extends bt{constructor(t){super(),D(this,"circumference"),D(this,"endAngle"),D(this,"fullCircles"),D(this,"innerRadius"),D(this,"outerRadius"),D(this,"pixelMargin"),D(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,a){const s=this.getProps(["x","y"],a),{angle:o,distance:r}=pa(s,{x:t,y:i}),{startAngle:c,endAngle:d,innerRadius:h,outerRadius:u,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),p=(this.options.spacing+this.options.borderWidth)/2,m=I(f,d-c),g=Ae(o,c,d)&&c!==d,_=m>=G||g,b=St(r,h+p,u+p);return _&&b}getCenterPoint(t){const{x:i,y:a,startAngle:s,endAngle:o,innerRadius:r,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:h}=this.options,u=(s+o)/2,f=(r+c+h+d)/2;return{x:i+Math.cos(u)*f,y:a+Math.sin(u)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:a}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,r=i.circular;if(this.pixelMargin="inner"===i.borderAlign?.33:0,this.fullCircles=a>G?Math.floor(a/G):0,0===a||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const h=s*(1-Math.sin(Math.min(W,a||0)));t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,function bd(n,e,t,i,a){const{fullCircles:s,startAngle:o,circumference:r}=e;let c=e.endAngle;if(s){Ai(n,e,t,i,c,a);for(let d=0;d<s;++d)n.fill();isNaN(r)||(c=o+(r%G||G))}Ai(n,e,t,i,c,a),n.fill()}(t,this,h,o,r),function yd(n,e,t,i,a){const{fullCircles:s,startAngle:o,circumference:r,options:c}=e,{borderWidth:d,borderJoinStyle:h,borderDash:u,borderDashOffset:f}=c,p="inner"===c.borderAlign;if(!d)return;n.setLineDash(u||[]),n.lineDashOffset=f,p?(n.lineWidth=2*d,n.lineJoin=h||"round"):(n.lineWidth=d,n.lineJoin=h||"bevel");let m=e.endAngle;if(s){Ai(n,e,t,i,m,a);for(let g=0;g<s;++g)n.stroke();isNaN(r)||(m=o+(r%G||G))}p&&function md(n,e,t){const{startAngle:i,pixelMargin:a,x:s,y:o,outerRadius:r,innerRadius:c}=e;let d=a/r;n.beginPath(),n.arc(s,o,r,i-d,t+d),c>a?(d=a/c,n.arc(s,o,c,t+d,i-d,!0)):n.arc(s,o,a,t+X,i-X),n.closePath(),n.clip()}(n,e,m),s||(Ai(n,e,t,i,m,a),n.stroke())}(t,this,h,o,r),t.restore()}}function Fs(n,e,t=e){n.lineCap=I(t.borderCapStyle,e.borderCapStyle),n.setLineDash(I(t.borderDash,e.borderDash)),n.lineDashOffset=I(t.borderDashOffset,e.borderDashOffset),n.lineJoin=I(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=I(t.borderWidth,e.borderWidth),n.strokeStyle=I(t.borderColor,e.borderColor)}function vd(n,e,t){n.lineTo(t.x,t.y)}function Ls(n,e,t={}){const i=n.length,{start:a=0,end:s=i-1}=t,{start:o,end:r}=e,c=Math.max(a,o),d=Math.min(s,r);return{count:i,start:c,loop:e.loop,ilen:d<c&&!(a<o&&s<o||a>r&&s>r)?i+d-c:d-c}}function Md(n,e,t,i){const{points:a,options:s}=e,{count:o,start:r,loop:c,ilen:d}=Ls(a,t,i),h=function xd(n){return n.stepped?Wr:n.tension||"monotone"===n.cubicInterpolationMode?Gr:vd}(s);let p,m,g,{move:u=!0,reverse:f}=i||{};for(p=0;p<=d;++p)m=a[(r+(f?d-p:p))%o],!m.skip&&(u?(n.moveTo(m.x,m.y),u=!1):h(n,g,m,f,s.stepped),g=m);return c&&(m=a[(r+(f?d:0))%o],h(n,g,m,f,s.stepped)),!!c}function Dd(n,e,t,i){const a=e.points,{count:s,start:o,ilen:r}=Ls(a,t,i),{move:c=!0,reverse:d}=i||{};let f,p,m,g,_,b,h=0,u=0;const y=x=>(o+(d?r-x:x))%s,M=()=>{g!==_&&(n.lineTo(h,_),n.lineTo(h,g),n.lineTo(h,b))};for(c&&(p=a[y(0)],n.moveTo(p.x,p.y)),f=0;f<=r;++f){if(p=a[y(f)],p.skip)continue;const x=p.x,v=p.y,C=0|x;C===m?(v<g?g=v:v>_&&(_=v),h=(u*h+x)/++u):(M(),n.lineTo(x,v),m=C,u=0,g=_=v),b=v}M()}function Cn(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?Md:Dd}D(Ye,"id","arc"),D(Ye,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),D(Ye,"defaultRoutes",{backgroundColor:"backgroundColor"}),D(Ye,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const Ad="function"==typeof Path2D;class Nt extends bt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(ml(this._points,i,e,i.spanGaps?this._loop:this._fullLoop,t),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Tl(n,e){const t=n.points,i=n.options.spanGaps,a=t.length;if(!a)return[];const s=!!n._loop,{start:o,end:r}=function Sl(n,e,t,i){let a=0,s=e-1;if(t&&!i)for(;a<e&&!n[a].skip;)a++;for(;a<e&&n[a].skip;)a++;for(a%=e,t&&(s+=a);s>a&&n[s%e].skip;)s--;return s%=e,{start:a,end:s}}(t,a,s,i);return function Za(n,e,t,i){return i&&i.setContext&&t?function Ol(n,e,t,i){const a=n._chart.getContext(),s=Ua(n.options),{_datasetIndex:o,options:{spanGaps:r}}=n,c=t.length,d=[];let h=s,u=e[0].start,f=u;function p(m,g,_,b){const y=r?-1:1;if(m!==g){for(m+=c;t[m%c].skip;)m-=y;for(;t[g%c].skip;)g+=y;m%c!=g%c&&(d.push({start:m%c,end:g%c,loop:_,style:b}),h=b,u=g%c)}}for(const m of e){u=r?u:m.start;let _,g=t[u%c];for(f=u+1;f<=m.end;f++){const b=t[f%c];_=Ua(i.setContext(Ht(a,{type:"segment",p0:g,p1:b,p0DataIndex:(f-1)%c,p1DataIndex:f%c,datasetIndex:o}))),Il(_,h)&&p(u,f-1,m.loop,h),g=b,h=_}u<f-1&&p(u,f-1,m.loop,h)}return d}(n,e,t,i):e}(n,!0===i?[{start:o,end:r,loop:s}]:function El(n,e,t,i){const a=n.length,s=[];let c,o=e,r=n[e];for(c=e+1;c<=t;++c){const d=n[c%a];d.skip||d.stop?r.skip||(s.push({start:e%a,end:(c-1)%a,loop:i=!1}),e=o=d.stop?c:null):(o=c,r.skip&&(e=c)),r=d}return null!==o&&s.push({start:e%a,end:o%a,loop:i}),s}(t,o,r<o?r+a:r,!!n._fullLoop&&0===o&&r===a-1),t,e)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,i=e.length;return i&&this.points[e[i-1].end]}interpolate(e,t){const i=this.options,a=e[t],s=this.points,o=Ga(this,{property:t,start:a,end:a});if(!o.length)return;const r=[],c=function Cd(n){return n.stepped?Dl:n.tension||"monotone"===n.cubicInterpolationMode?Cl:Kt}(i);let d,h;for(d=0,h=o.length;d<h;++d){const{start:u,end:f}=o[d],p=s[u],m=s[f];if(p===m){r.push(p);continue}const _=c(p,m,Math.abs((a-p[t])/(m[t]-p[t])),i.stepped);_[t]=e[t],r.push(_)}return 1===r.length?r[0]:r}pathSegment(e,t,i){return Cn(this)(e,this,t,i)}path(e,t,i){const a=this.segments,s=Cn(this);let o=this._loop;t=t||0,i=i||this.points.length-t;for(const r of a)o&=s(e,this,r,{start:t,end:t+i-1});return!!o}draw(e,t,i,a){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Sd(n,e,t,i){Ad&&!e.options.segment?function wd(n,e,t,i){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,i)&&a.closePath()),Fs(n,e.options),n.stroke(a)}(n,e,t,i):function kd(n,e,t,i){const{segments:a,options:s}=e,o=Cn(e);for(const r of a)Fs(n,s,r.style),n.beginPath(),o(n,e,r,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}(n,e,t,i)}(e,this,i,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Vs(n,e,t,i){const a=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<a.radius+a.hitRadius}D(Nt,"id","line"),D(Nt,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),D(Nt,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),D(Nt,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Si extends bt{constructor(t){super(),D(this,"parsed"),D(this,"skip"),D(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,a){const s=this.options,{x:o,y:r}=this.getProps(["x","y"],a);return Math.pow(t-o,2)+Math.pow(i-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return Vs(this,t,"x",i)}inYRange(t,i){return Vs(this,t,"y",i)}getCenterPoint(t){const{x:i,y:a}=this.getProps(["x","y"],t);return{x:i,y:a}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const a=this.options;this.skip||a.radius<.1||!Tt(this,i,this.size(a)/2)||(t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.fillStyle=a.backgroundColor,on(t,a,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Bs(n,e){const{x:t,y:i,base:a,width:s,height:o}=n.getProps(["x","y","base","width","height"],e);let r,c,d,h,u;return n.horizontal?(u=o/2,r=Math.min(t,a),c=Math.max(t,a),d=i-u,h=i+u):(u=s/2,r=t-u,c=t+u,d=Math.min(i,a),h=Math.max(i,a)),{left:r,top:d,right:c,bottom:h}}function zt(n,e,t,i){return n?0:J(e,t,i)}function wn(n,e,t,i){const a=null===e,s=null===t,r=n&&!(a&&s)&&Bs(n,i);return r&&(a||St(e,r.left,r.right))&&(s||St(t,r.top,r.bottom))}function Rd(n,e){n.rect(e.x,e.y,e.w,e.h)}function kn(n,e,t={}){const i=n.x!==t.x?-e:0,a=n.y!==t.y?-e:0;return{x:n.x+i,y:n.y+a,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-i),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-a),radius:n.radius}}D(Si,"id","point"),D(Si,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),D(Si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Ei extends bt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:a}}=this,{inner:s,outer:o}=function Od(n){const e=Bs(n),t=e.right-e.left,i=e.bottom-e.top,a=function Ed(n,e,t){const a=n.borderSkipped,s=Ea(n.options.borderWidth);return{t:zt(a.top,s.top,0,t),r:zt(a.right,s.right,0,e),b:zt(a.bottom,s.bottom,0,t),l:zt(a.left,s.left,0,e)}}(n,t/2,i/2),s=function Td(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,s=qt(a),o=Math.min(e,t),r=n.borderSkipped,c=i||V(a);return{topLeft:zt(!c||r.top||r.left,s.topLeft,0,o),topRight:zt(!c||r.top||r.right,s.topRight,0,o),bottomLeft:zt(!c||r.bottom||r.left,s.bottomLeft,0,o),bottomRight:zt(!c||r.bottom||r.right,s.bottomRight,0,o)}}(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}(this),r=function Id(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?Oe:Rd;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),r(e,kn(o,t,s)),e.clip(),r(e,kn(s,-t,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),r(e,kn(s,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,i){return wn(this,e,t,i)}inXRange(e,t){return wn(this,e,null,t)}inYRange(e,t){return wn(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+a)/2:t,y:s?i:(i+a)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}D(Ei,"id","bar"),D(Ei,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),D(Ei,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Pd=Object.freeze({__proto__:null,ArcElement:Ye,BarElement:Ei,LineElement:Nt,PointElement:Si});const An=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Hs=An.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ns(n){return An[n%An.length]}function zs(n){return Hs[n%Hs.length]}function Ys(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}var zd={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:a}=n.config,{elements:s}=a,o=Ys(i)||function Hd(n){return n&&(n.borderColor||n.backgroundColor)}(a)||s&&Ys(s)||function Nd(){return"rgba(0,0,0,0.1)"!==Z.borderColor||"rgba(0,0,0,0.1)"!==Z.backgroundColor}();if(!t.forceOverride&&o)return;const r=function Bd(n){let e=0;return(t,i)=>{const a=n.getDatasetMeta(i).controller;a instanceof Qt?e=function Ld(n,e){return n.backgroundColor=n.data.map(()=>Ns(e++)),e}(t,e):a instanceof Pe?e=function Vd(n,e){return n.backgroundColor=n.data.map(()=>zs(e++)),e}(t,e):a&&(e=function Fd(n,e){return n.borderColor=Ns(e),n.backgroundColor=zs(e),++e}(t,e))}}(n);i.forEach(r)}};function js(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function Ws(n){n.data.datasets.forEach(e=>{js(e)})}var Gd={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled)return void Ws(n);const i=n.width;n.data.datasets.forEach((a,s)=>{const{_data:o,indexAxis:r}=a,c=n.getDatasetMeta(s),d=o||a.data;if("y"===Ie([r,n.options.indexAxis])||!c.controller.supportsDecimation)return;const h=n.scales[c.xAxisID];if("linear"!==h.type&&"time"!==h.type||n.options.parsing)return;let m,{start:u,count:f}=function Wd(n,e){const t=e.length;let a,i=0;const{iScale:s}=n,{min:o,max:r,minDefined:c,maxDefined:d}=s.getUserBounds();return c&&(i=J(Et(e,s.axis,o).lo,0,t-1)),a=d?J(Et(e,s.axis,r).hi+1,i,t)-i:t-i,{start:i,count:a}}(c,d);if(f<=(t.threshold||4*i))js(a);else{switch(L(o)&&(a._data=d,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}})),t.algorithm){case"lttb":m=function Yd(n,e,t,i,a){const s=a.samples||i;if(s>=t)return n.slice(e,e+t);const o=[],r=(t-2)/(s-2);let c=0;const d=e+t-1;let u,f,p,m,g,h=e;for(o[c++]=n[h],u=0;u<s-2;u++){let y,_=0,b=0;const M=Math.floor((u+1)*r)+1+e,x=Math.min(Math.floor((u+2)*r)+1,t)+e,v=x-M;for(y=M;y<x;y++)_+=n[y].x,b+=n[y].y;_/=v,b/=v;const C=Math.floor(u*r)+1+e,w=Math.min(Math.floor((u+1)*r)+1,t)+e,{x:k,y:S}=n[h];for(p=m=-1,y=C;y<w;y++)m=.5*Math.abs((k-_)*(n[y].y-S)-(k-n[y].x)*(b-S)),m>p&&(p=m,f=n[y],g=y);o[c++]=f,h=g}return o[c++]=n[d],o}(d,u,f,i,t);break;case"min-max":m=function jd(n,e,t,i){let o,r,c,d,h,u,f,p,m,g,a=0,s=0;const _=[],y=n[e].x,x=n[e+t-1].x-y;for(o=e;o<e+t;++o){r=n[o],c=(r.x-y)/x*i,d=r.y;const v=0|c;if(v===h)d<m?(m=d,u=o):d>g&&(g=d,f=o),a=(s*a+r.x)/++s;else{const C=o-1;if(!L(u)&&!L(f)){const w=Math.min(u,f),k=Math.max(u,f);w!==p&&w!==C&&_.push({...n[w],x:a}),k!==p&&k!==C&&_.push({...n[k],x:a})}o>0&&C!==p&&_.push(n[C]),_.push(r),h=v,s=0,m=g=d,u=f=p=o}}return _}(d,u,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}a._decimated=m}})},destroy(n){Ws(n)}};function Sn(n,e,t,i){if(i)return;let a=e[n],s=t[n];return"angle"===n&&(a=ut(a),s=ut(s)),{property:n,start:a,end:s}}function En(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Gs(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function Zs(n,e){let t=[],i=!1;return j(n)?(i=!0,t=n):t=function Ud(n,e){const{x:t=null,y:i=null}=n||{},a=e.points,s=[];return e.segments.forEach(({start:o,end:r})=>{r=En(o,r,a);const c=a[o],d=a[r];null!==i?(s.push({x:c.x,y:i}),s.push({x:d.x,y:i})):null!==t&&(s.push({x:t,y:c.y}),s.push({x:t,y:d.y}))}),s}(n,e),t.length?new Nt({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Us(n){return n&&!1!==n.fill}function qd(n,e,t){let a=n[e].fill;const s=[e];let o;if(!t)return a;for(;!1!==a&&-1===s.indexOf(a);){if(!$(a))return a;if(o=n[a],!o)return!1;if(o.visible)return a;s.push(a),a=o.fill}return!1}function $d(n,e,t){const i=function Jd(n){const e=n.options,t=e.fill;let i=I(t&&t.target,t);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(V(i))return!isNaN(i.value)&&i;let a=parseFloat(i);return $(a)&&Math.floor(a)===a?function Xd(n,e,t,i){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=i)&&t}(i[0],e,a,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function ih(n,e,t){const i=[];for(let a=0;a<t.length;a++){const s=t[a],{first:o,last:r,point:c}=nh(s,e,"x");if(!(!c||o&&r))if(o)i.unshift(c);else if(n.push(c),!r)break}n.push(...i)}function nh(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const a=i[t],s=n.segments,o=n.points;let r=!1,c=!1;for(let d=0;d<s.length;d++){const h=s[d],u=o[h.start][t],f=o[h.end][t];if(St(a,u,f)){r=a===u,c=a===f;break}}return{first:r,last:c,point:i}}class qs{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:a,y:s,radius:o}=this;return e.arc(a,s,o,(t=t||{start:0,end:G}).end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:a}=this,s=e.angle;return{x:t+Math.cos(s)*a,y:i+Math.sin(s)*a,angle:s}}}function Tn(n,e,t){const i=function ah(n){const{chart:e,fill:t,line:i}=n;if($(t))return function sh(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function th(n){const{scale:e,index:t,line:i}=n,a=[],s=i.segments,o=i.points,r=function eh(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const s=i[a];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);r.push(Zs({x:null,y:e.bottom},i));for(let c=0;c<s.length;c++){const d=s[c];for(let h=d.start;h<=d.end;h++)ih(a,o[h],r)}return new Nt({points:a,options:{}})}(n);if("shape"===t)return!0;const a=function oh(n){return(n.scale||{}).getPointPositionForValue?function lh(n){const{scale:e,fill:t}=n,i=e.options,a=e.getLabels().length,s=i.reverse?e.max:e.min,o=function Qd(n,e,t){let i;return i="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:V(n)?n.value:e.getBaseValue(),i}(t,e,s),r=[];if(i.grid.circular){const c=e.getPointPositionForValue(0,s);return new qs({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<a;++c)r.push(e.getPointPositionForValue(c,o));return r}(n):function rh(n){const{scale:e={},fill:t}=n,i=function Kd(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:V(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if($(i)){const a=e.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}(n)}(n);return a instanceof qs?a:Zs(a,i)}(e),{chart:a,index:s,line:o,scale:r,axis:c}=e,d=o.options,h=d.fill,u=d.backgroundColor,{above:f=u,below:p=u}=h||{},m=a.getDatasetMeta(s),g=qa(a,m);i&&o.points.length&&(li(n,t),function ch(n,e){const{line:t,target:i,above:a,below:s,area:o,scale:r,clip:c}=e,d=t._loop?"angle":e.axis;n.save(),"x"===d&&s!==a&&($s(n,i,o.top),Xs(n,{line:t,target:i,color:a,scale:r,property:d,clip:c}),n.restore(),n.save(),$s(n,i,o.bottom)),Xs(n,{line:t,target:i,color:s,scale:r,property:d,clip:c}),n.restore()}(n,{line:o,target:i,above:f,below:p,area:t,scale:r,axis:c,clip:g}),ci(n))}function $s(n,e,t){const{segments:i,points:a}=e;let s=!0,o=!1;n.beginPath();for(const r of i){const{start:c,end:d}=r,h=a[c],u=a[En(c,d,a)];s?(n.moveTo(h.x,h.y),s=!1):(n.lineTo(h.x,t),n.lineTo(h.x,h.y)),o=!!e.pathSegment(n,r,{move:o}),o?n.closePath():n.lineTo(u.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Xs(n,e){const{line:t,target:i,property:a,color:s,scale:o,clip:r}=e,c=function Zd(n,e,t){const i=n.segments,a=n.points,s=e.points,o=[];for(const r of i){let{start:c,end:d}=r;d=En(c,d,a);const h=Sn(t,a[c],a[d],r.loop);if(!e.segments){o.push({source:r,target:h,start:a[c],end:a[d]});continue}const u=Ga(e,h);for(const f of u){const p=Sn(t,s[f.start],s[f.end],f.loop),m=Wa(r,a,p);for(const g of m)o.push({source:g,target:f,start:{[t]:Gs(h,p,"start",Math.max)},end:{[t]:Gs(h,p,"end",Math.min)}})}}return o}(t,i,a);for(const{source:d,target:h,start:u,end:f}of c){const{style:{backgroundColor:p=s}={}}=d,m=!0!==i;n.save(),n.fillStyle=p,dh(n,o,r,m&&Sn(a,u,f)),n.beginPath();const g=!!t.pathSegment(n,d);let _;if(m){g?n.closePath():Ks(n,i,f,a);const b=!!i.pathSegment(n,h,{move:g,reverse:!0});_=g&&b,_||Ks(n,i,u,a)}n.closePath(),n.fill(_?"evenodd":"nonzero"),n.restore()}}function dh(n,e,t,i){const a=e.chart.chartArea,{property:s,start:o,end:r}=i||{};if("x"===s||"y"===s){let c,d,h,u;"x"===s?(c=o,d=a.top,h=r,u=a.bottom):(c=a.left,d=o,h=a.right,u=r),n.beginPath(),t&&(c=Math.max(c,t.left),h=Math.min(h,t.right),d=Math.max(d,t.top),u=Math.min(u,t.bottom)),n.rect(c,d,h-c,u-d),n.clip()}}function Ks(n,e,t,i){const a=e.interpolate(t,i);a&&n.lineTo(a.x,a.y)}var hh={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,a=[];let s,o,r,c;for(o=0;o<i;++o)s=n.getDatasetMeta(o),r=s.dataset,c=null,r&&r.options&&r instanceof Nt&&(c={visible:n.isDatasetVisible(o),index:o,fill:$d(r,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:r}),s.$filler=c,a.push(c);for(o=0;o<i;++o)c=a[o],c&&!1!==c.fill&&(c.fill=qd(a,o,t.propagate))},beforeDraw(n,e,t){const i="beforeDraw"===t.drawTime,a=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=a.length-1;o>=0;--o){const r=a[o].$filler;!r||(r.line.updateControlPoints(s,r.axis),i&&r.fill&&Tn(n.ctx,r,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const s=i[a].$filler;Us(s)&&Tn(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!Us(i)||"beforeDatasetDraw"!==t.drawTime||Tn(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Qs=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}};class Js extends bt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Y(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,a)=>e.sort(i,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,a=Q(i.font),s=a.size,o=this._computeTitleHeight(),{boxWidth:r,itemHeight:c}=Qs(i,s);let d,h;t.font=a.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(o,s,r,c)+10):(h=this.maxHeight,d=this._fitCols(o,a,r,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,a){const{ctx:s,maxWidth:o,options:{labels:{padding:r}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],h=a+r;let u=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-h;return this.legendItems.forEach((m,g)=>{const _=i+t/2+s.measureText(m.text).width;(0===g||d[d.length-1]+_+2*r>o)&&(u+=h,d[d.length-(g>0?0:1)]=0,p+=h,f++),c[g]={left:0,top:p,row:f,width:_,height:a},d[d.length-1]+=_+r}),u}_fitCols(e,t,i,a){const{ctx:s,maxHeight:o,options:{labels:{padding:r}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],h=o-e;let u=r,f=0,p=0,m=0,g=0;return this.legendItems.forEach((_,b)=>{const{itemWidth:y,itemHeight:M}=function fh(n,e,t,i,a){const s=function ph(n,e,t,i){let a=n.text;return a&&"string"!=typeof a&&(a=a.reduce((s,o)=>s.length>o.length?s:o)),e+t.size/2+i.measureText(a).width}(i,n,e,t),o=function mh(n,e,t){let i=n;return"string"!=typeof e.text&&(i=to(e,t)),i}(a,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}(i,t,s,_,a);b>0&&p+M+2*r>h&&(u+=f+r,d.push({width:f,height:p}),m+=f+r,g++,f=p=0),c[b]={left:m,top:p,col:g,width:y,height:M},f=Math.max(f,y),p+=M+r}),u+=f,d.push({width:f,height:p}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:a},rtl:s}}=this,o=pe(s,this.left,this.width);if(this.isHorizontal()){let r=0,c=it(i,this.left+a,this.right-this.lineWidths[r]);for(const d of t)r!==d.row&&(r=d.row,c=it(i,this.left+a,this.right-this.lineWidths[r])),d.top+=this.top+e+a,d.left=o.leftForLtr(o.x(c),d.width),c+=d.width+a}else{let r=0,c=it(i,this.top+e+a,this.bottom-this.columnSizes[r].height);for(const d of t)d.col!==r&&(r=d.col,c=it(i,this.top+e+a,this.bottom-this.columnSizes[r].height)),d.top=c,d.left+=this.left+a,d.left=o.leftForLtr(o.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;li(e,this),this._draw(),ci(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:a}=this,{align:s,labels:o}=e,r=Z.color,c=pe(e.rtl,this.left,this.width),d=Q(o.font),{padding:h}=o,u=d.size,f=u/2;let p;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:m,boxHeight:g,itemHeight:_}=Qs(o,u),M=this.isHorizontal(),x=this._computeTitleHeight();p=M?{x:it(s,this.left+h,this.right-i[0]),y:this.top+h+x,line:0}:{x:this.left+h,y:it(s,this.top+x+h,this.bottom-t[0].height),line:0},Na(this.ctx,e.textDirection);const v=_+h;this.legendItems.forEach((C,w)=>{a.strokeStyle=C.fontColor,a.fillStyle=C.fontColor;const k=a.measureText(C.text).width,S=c.textAlign(C.textAlign||(C.textAlign=o.textAlign)),P=m+f+k;let F=p.x,B=p.y;c.setWidth(this.width),M?w>0&&F+P+h>this.right&&(B=p.y+=v,p.line++,F=p.x=it(s,this.left+h,this.right-i[p.line])):w>0&&B+v>this.bottom&&(F=p.x=F+t[p.line].width+h,p.line++,B=p.y=it(s,this.top+x+h,this.bottom-t[p.line].height)),function(C,w,k){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;a.save();const S=I(k.lineWidth,1);if(a.fillStyle=I(k.fillStyle,r),a.lineCap=I(k.lineCap,"butt"),a.lineDashOffset=I(k.lineDashOffset,0),a.lineJoin=I(k.lineJoin,"miter"),a.lineWidth=S,a.strokeStyle=I(k.strokeStyle,r),a.setLineDash(I(k.lineDash,[])),o.usePointStyle){const P={radius:g*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:S},F=c.xPlus(C,m/2);Sa(a,P,F,w+f,o.pointStyleWidth&&m)}else{const P=w+Math.max((u-g)/2,0),F=c.leftForLtr(C,m),B=qt(k.borderRadius);a.beginPath(),Object.values(B).some(et=>0!==et)?Oe(a,{x:F,y:P,w:m,h:g,radius:B}):a.rect(F,P,m,g),a.fill(),0!==S&&a.stroke()}a.restore()}(c.x(F),B,C),F=((n,e,t,i)=>n===(i?"left":"right")?t:"center"===n?(e+t)/2:e)(S,F+m+f,M?F+P:this.right,e.rtl),function(C,w,k){Ut(a,k.text,C,w+_/2,d,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})}(c.x(F),B,C),M?p.x+=P+h:p.y+="string"!=typeof C.text?to(C,d.lineHeight)+h:v}),za(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Q(t.font),a=nt(t.padding);if(!t.display)return;const s=pe(e.rtl,this.left,this.width),o=this.ctx,r=t.position,d=a.top+i.size/2;let h,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+d,u=it(e.align,u,this.right-f);else{const m=this.columnSizes.reduce((g,_)=>Math.max(g,_.height),0);h=d+it(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=it(r,u,u+f);o.textAlign=s.textAlign(tn(r)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=i.string,Ut(o,t.text,p,h,i)}_computeTitleHeight(){const e=this.options.title,t=Q(e.font),i=nt(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,a,s;if(St(e,this.left,this.right)&&St(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(a=s[i],St(e,a.left,a.left+a.width)&&St(t,a.top,a.top+a.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function gh(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(a,i);a&&!s&&Y(t.onLeave,[e,a,this],this),this._hoveredItem=i,i&&!s&&Y(t.onHover,[e,i,this],this)}else i&&Y(t.onClick,[e,i,this],this)}}function to(n,e){return e*(n.text?n.text.length:0)}var _h={id:"legend",_element:Js,start(n,e,t){const i=n.legend=new Js({ctx:n.ctx,options:t,chart:n});at.configure(n,i,t),at.addBox(n,i)},stop(n){at.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;at.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,a=t.chart;a.isDatasetVisible(i)?(a.hide(i),e.hidden=!0):(a.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:a,color:s,useBorderRadius:o,borderRadius:r}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),h=nt(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:o&&(r||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class On extends bt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const a=j(i.text)?i.text.length:1;this._padding=nt(i.padding);const s=a*Q(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:a,right:s,options:o}=this,r=o.align;let d,h,u,c=0;return this.isHorizontal()?(h=it(r,i,s),u=t+e,d=s-i):("left"===o.position?(h=i+e,u=it(r,a,t),c=-.5*W):(h=s-e,u=it(r,t,a),c=.5*W),d=a-t),{titleX:h,titleY:u,maxWidth:d,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Q(t.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:r,maxWidth:c,rotation:d}=this._drawArgs(s);Ut(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:d,textAlign:tn(t.align),textBaseline:"middle",translation:[o,r]})}}var yh={id:"title",_element:On,start(n,e,t){!function bh(n,e){const t=new On({ctx:n.ctx,options:e,chart:n});at.configure(n,t,e),at.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){at.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;at.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ti=new WeakMap;var vh={id:"subtitle",start(n,e,t){const i=new On({ctx:n.ctx,options:t,chart:n});at.configure(n,i,t),at.addBox(n,i),Ti.set(n,i)},stop(n){at.removeBox(n,Ti.get(n)),Ti.delete(n)},beforeUpdate(n,e,t){const i=Ti.get(n);at.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const je={average(n){if(!n.length)return!1;let e,t,i=new Set,a=0,s=0;for(e=0,t=n.length;e<t;++e){const r=n[e].element;if(r&&r.hasValue()){const c=r.tooltipPosition();i.add(c.x),a+=c.y,++s}}return 0!==s&&0!==i.size&&{x:[...i].reduce((r,c)=>r+c)/i.size,y:a/s}},nearest(n,e){if(!n.length)return!1;let s,o,r,t=e.x,i=e.y,a=Number.POSITIVE_INFINITY;for(s=0,o=n.length;s<o;++s){const c=n[s].element;if(c&&c.hasValue()){const h=Qi(e,c.getCenterPoint());h<a&&(a=h,r=c)}}if(r){const c=r.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Dt(n,e){return e&&(j(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Rt(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function xh(n,e){const{element:t,datasetIndex:i,index:a}=e,s=n.getDatasetMeta(i).controller,{label:o,value:r}=s.getLabelAndValue(a);return{chart:n,label:o,parsed:s.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:r,dataset:s.getDataset(),dataIndex:a,datasetIndex:i,element:t}}function eo(n,e){const t=n.chart.ctx,{body:i,footer:a,title:s}=n,{boxWidth:o,boxHeight:r}=e,c=Q(e.bodyFont),d=Q(e.titleFont),h=Q(e.footerFont),u=s.length,f=a.length,p=i.length,m=nt(e.padding);let g=m.height,_=0,b=i.reduce((x,v)=>x+v.before.length+v.lines.length+v.after.length,0);b+=n.beforeBody.length+n.afterBody.length,u&&(g+=u*d.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),b&&(g+=p*(e.displayColors?Math.max(r,c.lineHeight):c.lineHeight)+(b-p)*c.lineHeight+(b-1)*e.bodySpacing),f&&(g+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let y=0;const M=function(x){_=Math.max(_,t.measureText(x).width+y)};return t.save(),t.font=d.string,H(n.title,M),t.font=c.string,H(n.beforeBody.concat(n.afterBody),M),y=e.displayColors?o+2+e.boxPadding:0,H(i,x=>{H(x.before,M),H(x.lines,M),H(x.after,M)}),y=0,t.font=h.string,H(n.footer,M),t.restore(),_+=m.width,{width:_,height:g}}function Ch(n,e,t,i){const{x:a,width:s}=t,{width:o,chartArea:{left:r,right:c}}=n;let d="center";return"center"===i?d=a<=(r+c)/2?"left":"right":a<=s/2?d="left":a>=o-s/2&&(d="right"),function Dh(n,e,t,i){const{x:a,width:s}=i,o=t.caretSize+t.caretPadding;if("left"===n&&a+s+o>e.width||"right"===n&&a-s-o<0)return!0}(d,n,e,t)&&(d="center"),d}function io(n,e,t){const i=t.yAlign||e.yAlign||function Mh(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||Ch(n,e,t,i),yAlign:i}}function no(n,e,t,i){const{caretSize:a,caretPadding:s,cornerRadius:o}=n,{xAlign:r,yAlign:c}=t,d=a+s,{topLeft:h,topRight:u,bottomLeft:f,bottomRight:p}=qt(o);let m=function wh(n,e){let{x:t,width:i}=n;return"right"===e?t-=i:"center"===e&&(t-=i/2),t}(e,r);const g=function kh(n,e,t){let{y:i,height:a}=n;return"top"===e?i+=t:i-="bottom"===e?a+t:a/2,i}(e,c,d);return"center"===c?"left"===r?m+=d:"right"===r&&(m-=d):"left"===r?m-=Math.max(h,f)+a:"right"===r&&(m+=Math.max(u,p)+a),{x:J(m,0,i.width-e.width),y:J(g,0,i.height-e.height)}}function Oi(n,e,t){const i=nt(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-i.right:n.x+i.left}function ao(n){return Dt([],Rt(n))}function so(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const oo={beforeTitle:At,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:At,beforeBody:At,beforeLabel:At,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return L(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:At,afterBody:At,beforeFooter:At,footer:At,afterFooter:At};function rt(n,e,t,i){const a=n[e].call(t,i);return typeof a>"u"?oo[e].call(t,i):a}class In extends bt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&t.options.animation&&i.animations,s=new Xa(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function Ah(n,e,t){return Ht(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,a=rt(i,"beforeTitle",this,e),s=rt(i,"title",this,e),o=rt(i,"afterTitle",this,e);let r=[];return r=Dt(r,Rt(a)),r=Dt(r,Rt(s)),r=Dt(r,Rt(o)),r}getBeforeBody(e,t){return ao(rt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,a=[];return H(e,s=>{const o={before:[],lines:[],after:[]},r=so(i,s);Dt(o.before,Rt(rt(r,"beforeLabel",this,s))),Dt(o.lines,rt(r,"label",this,s)),Dt(o.after,Rt(rt(r,"afterLabel",this,s))),a.push(o)}),a}getAfterBody(e,t){return ao(rt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,a=rt(i,"beforeFooter",this,e),s=rt(i,"footer",this,e),o=rt(i,"afterFooter",this,e);let r=[];return r=Dt(r,Rt(a)),r=Dt(r,Rt(s)),r=Dt(r,Rt(o)),r}_createItems(e){const t=this._active,i=this.chart.data,a=[],s=[],o=[];let c,d,r=[];for(c=0,d=t.length;c<d;++c)r.push(xh(this.chart,t[c]));return e.filter&&(r=r.filter((h,u,f)=>e.filter(h,u,f,i))),e.itemSort&&(r=r.sort((h,u)=>e.itemSort(h,u,i))),H(r,h=>{const u=so(e.callbacks,h);a.push(rt(u,"labelColor",this,h)),s.push(rt(u,"labelPointStyle",this,h)),o.push(rt(u,"labelTextColor",this,h))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=r,r}update(e,t){const i=this.options.setContext(this.getContext()),a=this._active;let s,o=[];if(a.length){const r=je[i.position].call(this,a,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const c=this._size=eo(this,i),d=Object.assign({},r,c),h=io(this.chart,i,d),u=no(i,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:u.x,y:u.y,width:c.width,height:c.height,caretX:r.x,caretY:r.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,a){const s=this.getCaretPosition(e,i,a);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:a,yAlign:s}=this,{caretSize:o,cornerRadius:r}=i,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:u}=qt(r),{x:f,y:p}=e,{width:m,height:g}=t;let _,b,y,M,x,v;return"center"===s?(x=p+g/2,"left"===a?(_=f,b=_-o,M=x+o,v=x-o):(_=f+m,b=_+o,M=x-o,v=x+o),y=_):(b="left"===a?f+Math.max(c,h)+o:"right"===a?f+m-Math.max(d,u)-o:this.caretX,"top"===s?(M=p,x=M-o,_=b-o,y=b+o):(M=p+g,x=M+o,_=b+o,y=b-o),v=M),{x1:_,x2:b,x3:y,y1:M,y2:x,y3:v}}drawTitle(e,t,i){const a=this.title,s=a.length;let o,r,c;if(s){const d=pe(i.rtl,this.x,this.width);for(e.x=Oi(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",o=Q(i.titleFont),r=i.titleSpacing,t.fillStyle=i.titleColor,t.font=o.string,c=0;c<s;++c)t.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r,c+1===s&&(e.y+=i.titleMarginBottom-r)}}_drawColorBox(e,t,i,a,s){const o=this.labelColors[i],r=this.labelPointStyles[i],{boxHeight:c,boxWidth:d}=s,h=Q(s.bodyFont),u=Oi(this,"left",s),f=a.x(u),m=t.y+(c<h.lineHeight?(h.lineHeight-c)/2:0);if(s.usePointStyle){const g={radius:Math.min(d,c)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},_=a.leftForLtr(f,d)+d/2,b=m+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,on(e,g,_,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,on(e,g,_,b)}else{e.lineWidth=V(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=a.leftForLtr(f,d),_=a.leftForLtr(a.xPlus(f,1),d-2),b=qt(o.borderRadius);Object.values(b).some(y=>0!==y)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Oe(e,{x:g,y:m,w:d,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Oe(e,{x:_,y:m+1,w:d-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,m,d,c),e.strokeRect(g,m,d,c),e.fillStyle=o.backgroundColor,e.fillRect(_,m+1,d-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:a}=this,{bodySpacing:s,bodyAlign:o,displayColors:r,boxHeight:c,boxWidth:d,boxPadding:h}=i,u=Q(i.bodyFont);let f=u.lineHeight,p=0;const m=pe(i.rtl,this.x,this.width),g=function(k){t.fillText(k,m.x(e.x+p),e.y+f/2),e.y+=f+s},_=m.textAlign(o);let b,y,M,x,v,C,w;for(t.textAlign=o,t.textBaseline="middle",t.font=u.string,e.x=Oi(this,_,i),t.fillStyle=i.bodyColor,H(this.beforeBody,g),p=r&&"right"!==_?"center"===o?d/2+h:d+2+h:0,x=0,C=a.length;x<C;++x){for(b=a[x],y=this.labelTextColors[x],t.fillStyle=y,H(b.before,g),M=b.lines,r&&M.length&&(this._drawColorBox(t,e,x,m,i),f=Math.max(u.lineHeight,c)),v=0,w=M.length;v<w;++v)g(M[v]),f=u.lineHeight;H(b.after,g)}p=0,f=u.lineHeight,H(this.afterBody,g),e.y-=s}drawFooter(e,t,i){const a=this.footer,s=a.length;let o,r;if(s){const c=pe(i.rtl,this.x,this.width);for(e.x=Oi(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",o=Q(i.footerFont),t.fillStyle=i.footerColor,t.font=o.string,r=0;r<s;++r)t.fillText(a[r],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,t,i,a){const{xAlign:s,yAlign:o}=this,{x:r,y:c}=e,{width:d,height:h}=i,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:m}=qt(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(r+u,c),"top"===o&&this.drawCaret(e,t,i,a),t.lineTo(r+d-f,c),t.quadraticCurveTo(r+d,c,r+d,c+f),"center"===o&&"right"===s&&this.drawCaret(e,t,i,a),t.lineTo(r+d,c+h-m),t.quadraticCurveTo(r+d,c+h,r+d-m,c+h),"bottom"===o&&this.drawCaret(e,t,i,a),t.lineTo(r+p,c+h),t.quadraticCurveTo(r,c+h,r,c+h-p),"center"===o&&"left"===s&&this.drawCaret(e,t,i,a),t.lineTo(r,c+u),t.quadraticCurveTo(r,c,r+u,c),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,a=i&&i.x,s=i&&i.y;if(a||s){const o=je[e.position].call(this,this._active,this._eventPosition);if(!o)return;const r=this._size=eo(this,e),c=Object.assign({},o,this._size),d=io(t,e,c),h=no(e,c,d,t);(a._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=r.width,this.height=r.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=nt(t.padding);t.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,a,t),Na(e,t.textDirection),s.y+=o.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),za(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,a=e.map(({datasetIndex:r,index:c})=>{const d=this.chart.getDatasetMeta(r);if(!d)throw new Error("Cannot find a dataset at index "+r);return{datasetIndex:r,element:d.data[c],index:c}}),s=!ii(i,a),o=this._positionChanged(a,t);(s||o)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],o=this._getActiveElements(e,s,t,i),r=this._positionChanged(o,e),c=t||!ii(o,s)||r;return c&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,a){const s=this.options;if("mouseout"===e.type)return[];if(!a)return t.filter(r=>this.chart.data.datasets[r.datasetIndex]&&void 0!==this.chart.getDatasetMeta(r.datasetIndex).controller.getParsed(r.index));const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:i,caretY:a,options:s}=this,o=je[s.position].call(this,e,t);return!1!==o&&(i!==o.x||a!==o.y)}}D(In,"positioners",je);var Eh=Object.freeze({__proto__:null,Colors:zd,Decimation:Gd,Filler:hh,Legend:_h,SubTitle:vh,Title:yh,Tooltip:{id:"tooltip",_element:In,positioners:je,afterInit(n,e,t){t&&(n.tooltip=new In({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oo},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function ro(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Rn extends te{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:a,label:s}of t)i[a]===s&&i.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(L(e))return null;const i=this.getLabels();return((n,e)=>null===n?null:J(Math.round(n),0,e))(t=isFinite(t)&&i[t]===e?t:function Oh(n,e,t,i){const a=n.indexOf(e);return-1===a?((n,e,t,i)=>("string"==typeof e?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,i):a!==n.lastIndexOf(e)?t:a}(i,e,I(t,e),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),t||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,a=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=t;o++)a.push({value:o});return a}getLabelForValue(e){return ro.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function lo(n,e,{horizontal:t,minRotation:i}){const a=gt(i),s=(t?Math.sin(a):Math.cos(a))||.001;return Math.min(e/s,.75*e*(""+n).length)}D(Rn,"id","category"),D(Rn,"defaults",{ticks:{callback:ro}});class Ii extends te{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return L(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:a,max:s}=this;const o=c=>a=t?a:c,r=c=>s=i?s:c;if(e){const c=xt(a),d=xt(s);c<0&&d<0?r(0):c>0&&d>0&&o(0)}if(a===s){let c=0===s?1:Math.abs(.05*s);r(s+c),e||o(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let a,{maxTicksLimit:t,stepSize:i}=e;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=function Rh(n,e){const t=[],{bounds:a,step:s,min:o,max:r,precision:c,count:d,maxTicks:h,maxDigits:u,includeBounds:f}=n,p=s||1,m=h-1,{min:g,max:_}=e,b=!L(o),y=!L(r),M=!L(d),x=(_-g)/(u+1);let C,w,k,S,v=ha((_-g)/m/p)*p;if(v<1e-14&&!b&&!y)return[{value:g},{value:_}];S=Math.ceil(_/v)-Math.floor(g/v),S>m&&(v=ha(S*v/m/p)*p),L(c)||(C=Math.pow(10,c),v=Math.ceil(v*C)/C),"ticks"===a?(w=Math.floor(g/v)*v,k=Math.ceil(_/v)*v):(w=g,k=_),b&&y&&s&&function kr(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((r-o)/s,v/1e3)?(S=Math.round(Math.min((r-o)/v,h)),v=(r-o)/S,w=o,k=r):M?(w=b?o:w,k=y?r:k,S=d-1,v=(k-w)/S):(S=(k-w)/v,S=ke(S,Math.round(S),v/1e3)?Math.round(S):Math.ceil(S));const P=Math.max(fa(v),fa(w));C=Math.pow(10,L(c)?P:c),w=Math.round(w*C)/C,k=Math.round(k*C)/C;let F=0;for(b&&(f&&w!==o?(t.push({value:o}),w<o&&F++,ke(Math.round((w+F*v)*C)/C,o,lo(o,x,n))&&F++):w<o&&F++);F<S;++F){const B=Math.round((w+F*v)*C)/C;if(y&&B>r)break;t.push({value:B})}return y&&f&&k!==r?t.length&&ke(t[t.length-1].value,r,lo(r,x,n))?t[t.length-1].value=r:t.push({value:r}):(!y||k===r)&&t.push({value:k}),t}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&ua(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const a=(i-t)/Math.max(e.length-1,1)/2;t-=a,i+=a}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Ee(e,this.chart.options.locale,this.options.ticks.format)}}class Pn extends Ii{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=$(e)?e:0,this.max=$(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=gt(this.options.ticks.minRotation),a=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}D(Pn,"id","linear"),D(Pn,"defaults",{ticks:{callback:oi.formatters.numeric}});const We=n=>Math.floor(Bt(n)),ee=(n,e)=>Math.pow(10,We(n)+e);function co(n){return n/Math.pow(10,We(n))==1}function ho(n,e,t){const i=Math.pow(10,t),a=Math.floor(n/i);return Math.ceil(e/i)-a}class Fn extends te{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=Ii.prototype.parse.apply(this,[e,t]);if(0!==i)return $(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=$(e)?Math.max(0,e):null,this.max=$(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$(this._userMin)&&(this.min=e===ee(this.min,0)?ee(this.min,-1):ee(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,a=this.max;const s=r=>i=e?i:r,o=r=>a=t?a:r;i===a&&(i<=0?(s(1),o(10)):(s(ee(i,-1)),o(ee(a,1)))),i<=0&&s(ee(a,-1)),a<=0&&o(ee(i,1)),this.min=i,this.max=a}buildTicks(){const e=this.options,i=function Fh(n,{min:e,max:t}){e=ht(n.min,e);const i=[],a=We(e);let s=function Ph(n,e){let i=We(e-n);for(;ho(n,e,i)>10;)i++;for(;ho(n,e,i)<10;)i--;return Math.min(i,We(n))}(e,t),o=s<0?Math.pow(10,Math.abs(s)):1;const r=Math.pow(10,s),c=a>s?Math.pow(10,a):0,d=Math.round((e-c)*o)/o,h=Math.floor((e-c)/r/10)*r*10;let u=Math.floor((d-h)/Math.pow(10,s)),f=ht(n.min,Math.round((c+h+u*Math.pow(10,s))*o)/o);for(;f<t;)i.push({value:f,major:co(f),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,o=s>=0?1:o),f=Math.round((c+h+u*Math.pow(10,s))*o)/o;const p=ht(n.max,f);return i.push({value:p,major:co(p),significand:u}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&ua(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return void 0===e?"0":Ee(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Bt(e),this._valueRange=Bt(this.max)-Bt(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Bt(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Ln(n){const e=n.ticks;if(e.display&&n.display){const t=nt(e.backdropPadding);return I(e.font&&e.font.size,Z.font.size)+t.height}return 0}function Lh(n,e,t){return t=j(t)?t:[t],{w:jr(n,e.string,t),h:t.length*e.lineHeight}}function uo(n,e,t,i,a){return n===i||n===a?{start:e-t/2,end:e+t/2}:n<i||n>a?{start:e-t,end:e}:{start:e,end:e+t}}function Bh(n,e,t,i,a){const s=Math.abs(Math.sin(t)),o=Math.abs(Math.cos(t));let r=0,c=0;i.start<e.l?(r=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-r)):i.end>e.r&&(r=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+r)),a.start<e.t?(c=(e.t-a.start)/o,n.t=Math.min(n.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/o,n.b=Math.max(n.b,e.b+c))}function Hh(n,e,t){const i=n.drawingArea,{extra:a,additionalAngle:s,padding:o,size:r}=t,c=n.getPointPosition(e,i+a+o,s),d=Math.round(Ki(ut(c.angle+X))),h=function Wh(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}(c.y,r.h,d),u=function Yh(n){return 0===n||180===n?"center":n<180?"left":"right"}(d),f=function jh(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}(c.x,r.w,u);return{visible:!0,x:c.x,y:h,textAlign:u,left:f,top:h,right:f+r.w,bottom:h+r.h}}function Nh(n,e){if(!e)return!0;const{left:t,top:i,right:a,bottom:s}=n;return!(Tt({x:t,y:i},e)||Tt({x:t,y:s},e)||Tt({x:a,y:i},e)||Tt({x:a,y:s},e))}function Gh(n,e,t){const{left:i,top:a,right:s,bottom:o}=t,{backdropColor:r}=e;if(!L(r)){const c=qt(e.borderRadius),d=nt(e.backdropPadding);n.fillStyle=r;const h=i-d.left,u=a-d.top,f=s-i+d.width,p=o-a+d.height;Object.values(c).some(m=>0!==m)?(n.beginPath(),Oe(n,{x:h,y:u,w:f,h:p,radius:c}),n.fill()):n.fillRect(h,u,f,p)}}function fo(n,e,t,i){const{ctx:a}=n;if(t)a.arc(n.xCenter,n.yCenter,e,0,G);else{let s=n.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,e),a.lineTo(s.x,s.y)}}D(Fn,"id","logarithmic"),D(Fn,"defaults",{ticks:{callback:oi.formatters.logarithmic,major:{enabled:!0}}});class Ge extends Ii{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=nt(Ln(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=$(e)&&!isNaN(e)?e:0,this.max=$(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ln(this.options))}generateTickLabels(e){Ii.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const a=Y(this.options.pointLabels.callback,[t,i],this);return a||0===a?a:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?function Vh(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],a=[],s=n._pointLabels.length,o=n.options.pointLabels,r=o.centerPointLabels?W/s:0;for(let c=0;c<s;c++){const d=o.setContext(n.getPointLabelContext(c));a[c]=d.padding;const h=n.getPointPosition(c,n.drawingArea+a[c],r),u=Q(d.font),f=Lh(n.ctx,u,n._pointLabels[c]);i[c]=f;const p=ut(n.getIndexAngle(c)+r),m=Math.round(Ki(p));Bh(t,e,p,uo(m,h.x,f.w,0,180),uo(m,h.y,f.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function zh(n,e,t){const i=[],a=n._pointLabels.length,s=n.options,{centerPointLabels:o,display:r}=s.pointLabels,c={extra:Ln(s)/2,additionalAngle:o?W/a:0};let d;for(let h=0;h<a;h++){c.padding=t[h],c.size=e[h];const u=Hh(n,h,c);i.push(u),"auto"===r&&(u.visible=Nh(u,d),u.visible&&(d=u))}return i}(n,i,a)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,a){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,a))}getIndexAngle(e){return ut(e*(G/(this._pointLabels.length||1))+gt(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(L(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(L(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function qh(n,e,t){return Ht(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const a=this.getIndexAngle(e)-X+i;return{x:Math.cos(a)*t+this.xCenter,y:Math.sin(a)*t+this.yCenter,angle:a}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:a,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),fo(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:a,border:s}=t,o=this._pointLabels.length;let r,c,d;if(t.pointLabels.display&&function Zh(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let a=e-1;a>=0;a--){const s=n._pointLabelItems[a];if(!s.visible)continue;const o=i.setContext(n.getPointLabelContext(a));Gh(t,o,s);const r=Q(o.font),{x:c,y:d,textAlign:h}=s;Ut(t,n._pointLabels[a],c,d+r.lineHeight/2,r,{color:o.color,textAlign:h,textBaseline:"middle"})}}(this,o),a.display&&this.ticks.forEach((h,u)=>{if(0!==u||0===u&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(u),p=a.setContext(f),m=s.setContext(f);!function Uh(n,e,t,i,a){const s=n.ctx,o=e.circular,{color:r,lineWidth:c}=e;!o&&!i||!r||!c||t<0||(s.save(),s.strokeStyle=r,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),fo(n,t,o,i),s.closePath(),s.stroke(),s.restore())}(this,p,c,o,m)}}),i.display){for(e.save(),r=o-1;r>=0;r--){const h=i.setContext(this.getPointLabelContext(r)),{color:u,lineWidth:f}=h;!f||!u||(e.lineWidth=f,e.strokeStyle=u,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(r,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const a=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((r,c)=>{if(0===c&&this.min>=0&&!t.reverse)return;const d=i.setContext(this.getContext(c)),h=Q(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=h.string,o=e.measureText(r.label).width,e.fillStyle=d.backdropColor;const u=nt(d.backdropPadding);e.fillRect(-o/2-u.left,-s-h.size/2-u.top,o+u.width,h.size+u.height)}Ut(e,r.label,0,-s,h,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}D(Ge,"id","radialLinear"),D(Ge,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:oi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),D(Ge,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),D(Ge,"descriptors",{angleLines:{_fallback:"grid"}});const Ri={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},lt=Object.keys(Ri);function po(n,e){return n-e}function mo(n,e){if(L(e))return null;const t=n._adapter,{parser:i,round:a,isoWeekday:s}=n._parseOpts;let o=e;return"function"==typeof i&&(o=i(o)),$(o)||(o="string"==typeof i?t.parse(o,i):t.parse(o)),null===o?null:(a&&(o="week"!==a||!he(s)&&!0!==s?t.startOf(o,a):t.startOf(o,"isoWeek",s)),+o)}function go(n,e,t,i){const a=lt.length;for(let s=lt.indexOf(n);s<a-1;++s){const o=Ri[lt[s]],r=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(r*o.size))<=i)return lt[s]}return lt[a-1]}function _o(n,e,t){if(t){if(t.length){const{lo:i,hi:a}=Ji(t,e);n[t[i]>=e?t[i]:t[a]]=!0}}else n[e]=!0}function bo(n,e,t){const i=[],a={},s=e.length;let o,r;for(o=0;o<s;++o)r=e[o],a[r]=o,i.push({value:r,major:!1});return 0!==s&&t?function Kh(n,e,t,i){const a=n._adapter,s=+a.startOf(e[0].value,i),o=e[e.length-1].value;let r,c;for(r=s;r<=o;r=+a.add(r,1,i))c=t[r],c>=0&&(e[c].major=!0);return e}(n,i,a,t):i}class Ze extends te{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),a=this._adapter=new oc__date(e.adapters.date);a.init(t),Ce(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:mo(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:a,max:s,minDefined:o,maxDefined:r}=this.getUserBounds();function c(d){!o&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!r&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!o||!r)&&(c(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&c(this.getMinMax(!1))),a=$(a)&&!isNaN(a)?a:+t.startOf(Date.now(),i),s=$(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,a="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,r=function Tr(n,e,t){let i=0,a=n.length;for(;i<a&&n[i]<e;)i++;for(;a>i&&n[a-1]>t;)a--;return i>0||a<n.length?n.slice(i,a):n}(a,s,this.max);return this._unit=t.unit||(i.autoSkip?go(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function $h(n,e,t,i,a){for(let s=lt.length-1;s>=lt.indexOf(t);s--){const o=lt[s];if(Ri[o].common&&n._adapter.diff(a,i,o)>=e-1)return o}return lt[t?lt.indexOf(t):0]}(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function Xh(n){for(let e=lt.indexOf(n)+1,t=lt.length;e<t;++e)if(Ri[lt[e]].common)return lt[e]}(this._unit):void 0,this.initOffsets(a),e.reverse&&r.reverse(),bo(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let a,s,t=0,i=0;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),t=1===e.length?1-a:(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),i=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=J(t,0,o),i=J(i,0,o),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,a=this.options,s=a.time,o=s.unit||go(s.minUnit,t,i,this._getLabelCapacity(t)),r=I(a.ticks.stepSize,1),c="week"===o&&s.isoWeekday,d=he(c)||!0===c,h={};let f,p,u=t;if(d&&(u=+e.startOf(u,"isoWeek",c)),u=+e.startOf(u,d?"day":o),e.diff(i,t,o)>1e5*r)throw new Error(t+" and "+i+" are too far apart with stepSize of "+r+" "+o);const m="data"===a.ticks.source&&this.getDataTimestamps();for(f=u,p=0;f<i;f=+e.add(f,r,o),p++)_o(h,f,m);return(f===i||"ticks"===a.bounds||1===p)&&_o(h,f,m),Object.keys(h).sort(po).map(g=>+g)}getLabelForValue(e){const i=this.options.time;return this._adapter.format(e,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}format(e,t){return this._adapter.format(e,t||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,t,i,a){const s=this.options,o=s.ticks.callback;if(o)return Y(o,[e,t,i],this);const r=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=d&&r[d],f=i[t];return this._adapter.format(e,a||(d&&u&&f&&f.major?u:c&&r[c]))}generateTickLabels(e){let t,i,a;for(t=0,i=e.length;t<i;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,a=gt(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(a),o=Math.sin(a),r=this._resolveTickFontOptions(0).size;return{w:i*s+r*o,h:i*o+r*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,a=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,bo(this,[e],this._majorUnit),a),o=this._getLabelSize(s),r=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return r>0?r:1}getDataTimestamps(){let t,i,e=this._cache.data||[];if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,i=a.length;t<i;++t)e=e.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const a=this.getLabels();for(t=0,i=a.length;t<i;++t)e.push(mo(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _a(e.sort(po))}}function Pi(n,e,t){let s,o,r,c,i=0,a=n.length-1;t?(e>=n[i].pos&&e<=n[a].pos&&({lo:i,hi:a}=Et(n,"pos",e)),({pos:s,time:r}=n[i]),({pos:o,time:c}=n[a])):(e>=n[i].time&&e<=n[a].time&&({lo:i,hi:a}=Et(n,"time",e)),({time:s,pos:r}=n[i]),({time:o,pos:c}=n[a]));const d=o-s;return d?r+(c-r)*(e-s)/d:r}D(Ze,"id","time"),D(Ze,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Vn extends Ze{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Pi(t,this.min),this._tableRange=Pi(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,a=[],s=[];let o,r,c,d,h;for(o=0,r=e.length;o<r;++o)d=e[o],d>=t&&d<=i&&a.push(d);if(a.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(o=0,r=a.length;o<r;++o)h=a[o+1],c=a[o-1],d=a[o],Math.round((h+c)/2)!==d&&s.push({time:d,pos:o/(r-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||1===i.length)&&i.push(t),i.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Pi(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Pi(this._table,i*this._tableRange+this._minPos,!0)}}D(Vn,"id","timeseries"),D(Vn,"defaults",Ze.defaults),It.register(sc,Pd,Eh,Object.freeze({__proto__:null,CategoryScale:Rn,LinearScale:Pn,LogarithmicScale:Fn,RadialLinearScale:Ge,TimeScale:Ze,TimeSeriesScale:Vn}));const Fi=It;var l=O(1571),yo=O(1778),vo=O(9643),E=O(3238),ge=O(445),tt=O(1281),ie=O(6451),tu=O(4968),Yt=O(8675),ne=O(5698),T=O(7340),ae=O(3353);const eu=["connectionContainer"],iu=["inputContainer"],nu=["label"];function au(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function su(n,e){1&n&&(l.TgZ(0,"div",19),l.Hsn(1,1),l.qZA())}function ou(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function ru(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function lu(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function cu(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.updateOutlineGap())}),l.YNc(2,ou,4,1,"ng-container",12),l.YNc(3,ru,1,0,"ng-content",12),l.YNc(4,lu,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function du(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function hu(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function uu(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function fu(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function pu(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,fu,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const mu=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],gu=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let _u=0;const xo=new l.OlP("MatError");let bu=(()=>{class n{constructor(t,i){this.id="mat-error-"+_u++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("id",i.id)},inputs:{id:"id"},features:[l._Bn([{provide:xo,useExisting:n}])]}),n})();const yu={transitionMessages:(0,T.X$)("transitionMessages",[(0,T.SB)("enter",(0,T.oB)({opacity:1,transform:"translateY(0%)"})),(0,T.eR)("void => enter",[(0,T.oB)({opacity:0,transform:"translateY(-5px)"}),(0,T.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Li=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const vu=new l.OlP("MatHint");let Bn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Mu=new l.OlP("MatPrefix"),Mo=new l.OlP("MatSuffix");let Du=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""]],features:[l._Bn([{provide:Mo,useExisting:n}])]}),n})(),Do=0;const wu=(0,E.pj)(class{constructor(n){this._elementRef=n}},"primary"),ku=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Vi=new l.OlP("MatFormField");let wo=(()=>{class n extends wu{constructor(t,i,a,s,o,r,c){super(t),this._changeDetectorRef=i,this._dir=a,this._defaults=s,this._platform=o,this._ngZone=r,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ot.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Do++,this._labelId="mat-form-field-label-"+Do++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==c,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=(0,tt.Ig)(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe((0,Yt.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,dt.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,dt.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ie.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Yt.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Yt.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,dt.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,tu.R)(this._label.nativeElement,"transitionend").pipe((0,ne.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,a=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),a&&t.push(a.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,a=0;const s=this._connectionContainerRef.nativeElement,o=s.querySelectorAll(".mat-form-field-outline-start"),r=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const c=s.getBoundingClientRect();if(0===c.width&&0===c.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(c),h=t.children,u=this._getStartEnd(h[0].getBoundingClientRect());let f=0;for(let p=0;p<h.length;p++)f+=h[p].offsetWidth;i=Math.abs(u-d)-5,a=f>0?.75*f+10:0}for(let c=0;c<o.length;c++)o[c].style.width=`${i}px`;for(let c=0;c<r.length;c++)r[c].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(ge.Is,8),l.Y36(ku,8),l.Y36(ae.t4),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,a){if(1&t&&(l.Suo(a,Li,5),l.Suo(a,Li,7),l.Suo(a,Bn,5),l.Suo(a,Bn,7),l.Suo(a,xu,5),l.Suo(a,xo,5),l.Suo(a,vu,5),l.Suo(a,Mu,5),l.Suo(a,Mo,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(i._controlStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._placeholderChild=s.first),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(eu,7),l.Gf(iu,5),l.Gf(nu,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._connectionContainerRef=a.first),l.iGM(a=l.CRH())&&(i._inputContainerRef=a.first),l.iGM(a=l.CRH())&&(i._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:Vi,useExisting:n}]),l.qOj],ngContentSelectors:gu,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.F$t(mu),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(3,au,9,0,"ng-container",3),l.YNc(4,su,2,0,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,cu,5,16,"label",8),l.qZA()(),l.YNc(10,du,2,0,"div",9),l.qZA(),l.YNc(11,hu,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,uu,2,1,"div",12),l.YNc(14,pu,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[z.O5,z.RF,vo.wD,z.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[yu.transitionMessages]},changeDetection:0}),n})(),Bi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[z.ez,E.BQ,vo.Q8],E.BQ]}),n})();var Ct=O(8184),Hn=O(1218),_e=O(2687);class Au{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ot.x,t&&t.length&&(e?t.forEach(a=>this._markSelected(a)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}var A=O(9521),U=O(433),Su=O(9770),ko=O(3900),Nn=O(9300),Ao=O(4004),Eu=O(1884);const Tu=["trigger"],Ou=["panel"];function Iu(n,e){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.placeholder)}}function Ru(n,e){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.triggerValue)}}function Pu(n,e){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function Fu(n,e){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,Ru,2,1,"span",10),l.YNc(2,Pu,1,0,"ng-content",11),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngSwitch",!!t.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function Lu(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(a){l.CHM(t);const s=l.oxw();return l.KtG(s._panelDoneAnimatingStream.next(a.toState))})("keydown",function(a){l.CHM(t);const s=l.oxw();return l.KtG(s._handleKeydown(a))}),l.Hsn(3,1),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",t._getPanelTheme(),""),l.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),l.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),l.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const Vu=[[["mat-select-trigger"]],"*"],Bu=["mat-select-trigger","*"],So={transformPanelWrap:(0,T.X$)("transformPanelWrap",[(0,T.eR)("* => void",(0,T.IO)("@transformPanel",[(0,T.pV)()],{optional:!0}))]),transformPanel:(0,T.X$)("transformPanel",[(0,T.SB)("void",(0,T.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,T.SB)("showing",(0,T.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,T.SB)("showing-multiple",(0,T.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,T.eR)("void => *",(0,T.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,T.eR)("* => void",(0,T.jt)("100ms 25ms linear",(0,T.oB)({opacity:0})))])};let Eo=0;const Oo=new l.OlP("mat-select-scroll-strategy"),Yu=new l.OlP("MAT_SELECT_CONFIG"),ju={provide:Oo,deps:[Ct.aV],useFactory:function zu(n){return()=>n.scrollStrategies.reposition()}};class Wu{constructor(e,t){this.source=e,this.value=t}}const Gu=(0,E.Kr)((0,E.sb)((0,E.Id)((0,E.FD)(class{constructor(n,e,t,i,a){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=a}})))),Zu=new l.OlP("MatSelectTrigger");let Uu=(()=>{class n extends Gu{constructor(t,i,a,s,o,r,c,d,h,u,f,p,m,g){super(o,s,c,d,u),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=a,this._dir=r,this._parentFormField=h,this._liveAnnouncer=m,this._defaultOptions=g,this._panelOpen=!1,this._compareWith=(_,b)=>_===b,this._uid="mat-select-"+Eo++,this._triggerAriaLabelledBy=null,this._destroy=new ot.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Eo++,this._panelDoneAnimatingStream=new ot.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Su.P)(()=>{const _=this.options;return _?_.changes.pipe((0,Yt.O)(_),(0,ko.w)(()=>(0,ie.T)(..._.map(b=>b.onSelectionChange)))):this._ngZone.onStable.pipe((0,ne.q)(1),(0,ko.w)(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe((0,Nn.h)(_=>_),(0,Ao.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Nn.h)(_=>!_),(0,Ao.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=g?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=g.typeaheadDebounceInterval),this._scrollStrategyFactory=p,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(f)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(U.kI.required)??!1}set required(t){this._required=(0,tt.Ig)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,tt.Ig)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=(0,tt.Ig)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=(0,tt.su)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Au(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Eu.x)(),(0,dt.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,dt.R)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe((0,Yt.O)(null),(0,dt.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,a=i===A.JH||i===A.LH||i===A.oh||i===A.SV,s=i===A.K5||i===A.L_,o=this._keyManager;if(!o.isTyping()&&s&&!(0,A.Vb)(t)||(this.multiple||t.altKey)&&a)t.preventDefault(),this.open();else if(!this.multiple){const r=this.selected;o.onKeydown(t);const c=this.selected;c&&r!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,a=t.keyCode,s=a===A.JH||a===A.LH,o=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(o||a!==A.K5&&a!==A.L_||!i.activeItem||(0,A.Vb)(t))if(!o&&this._multiple&&a===A.A&&t.ctrlKey){t.preventDefault();const r=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(r?c.select():c.deselect())})}else{const r=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==r&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ne.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const i=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return null!=a.value&&this._compareWith(a.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new _e.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,dt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,dt.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,ie.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,dt.R)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ie.T)(...this.options.map(i=>i._stateChanges)).pipe((0,dt.R)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const a=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(a!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),a!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,a)=>this.sortComparator?this.sortComparator(i,a,t):t.indexOf(i)-t.indexOf(a)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(a=>a.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Hn.rL),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(E.rD),l.Y36(l.SBq),l.Y36(ge.Is,8),l.Y36(U.F,8),l.Y36(U.sg,8),l.Y36(Vi,8),l.Y36(U.a5,10),l.$8M("tabindex"),l.Y36(Oo),l.Y36(_e.Kd),l.Y36(Yu,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&(l.Gf(Tu,5),l.Gf(Ou,5),l.Gf(Ct.pI,5)),2&t){let a;l.iGM(a=l.CRH())&&(i.trigger=a.first),l.iGM(a=l.CRH())&&(i.panel=a.first),l.iGM(a=l.CRH())&&(i._overlayDir=a.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),Io=(()=>{class n extends Uu{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,a){const s=this._getItemHeight();return Math.min(Math.max(0,s*t-i+s/2),a)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,dt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,ne.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=(0,E.CB)(t,this.options,this.optionGroups),a=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:(0,E.jH)((t+i)*a,a,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Wu(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),a=this._isRtl(),s=this.multiple?56:32;let o;if(this.multiple)o=40;else if(this.disableOptionCentering)o=16;else{let d=this._selectionModel.selected[0]||this.options.first;o=d&&d.group?32:16}a||(o*=-1);const r=0-(t.left+o-(a?s:0)),c=t.right+o-i.width+(a?0:s);r>0?o+=r+8:c>0&&(o-=c+8),this._overlayDir.offsetX=Math.round(o),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,a){const s=this._getItemHeight(),o=(s-this._triggerRect.height)/2,r=Math.floor(256/s);let c;return this.disableOptionCentering?0:(c=0===this._scrollTop?t*s:this._scrollTop===a?(t-(this._getItemCount()-r))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*c-o))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),a=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,o=a.height-this._triggerRect.bottom-8,r=Math.abs(this._offsetY),d=Math.min(this._getItemCount()*i,256)-r-this._triggerRect.height;d>o?this._adjustPanelUp(d,o):r>s?this._adjustPanelDown(r,s,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const a=Math.round(t-i);this._scrollTop-=a,this._offsetY-=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,a){const s=Math.round(t-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=a)return this._scrollTop=a,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),a=Math.min(i*t,256),o=i*t-a;let r;r=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),r+=(0,E.CB)(r,this.options,this.optionGroups);const c=a/2;this._scrollTop=this._calculateOverlayScroll(r,c,o),this._offsetY=this._calculateOverlayOffsetY(r,c,o),this._checkOverlayWithinViewport(o)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,a){if(1&t&&(l.Suo(a,Zu,5),l.Suo(a,E.ey,5),l.Suo(a,E.K7,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.customTrigger=s.first),l.iGM(s=l.CRH())&&(i.options=s),l.iGM(s=l.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:Li,useExisting:n},{provide:E.HF,useExisting:n}]),l.qOj],ngContentSelectors:Bu,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(l.F$t(Vu),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,Iu,2,1,"span",3),l.YNc(5,Fu,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,Lu,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const a=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[Ct.xu,z.RF,z.n9,z.ED,Ct.pI,z.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[So.transformPanelWrap,So.transformPanel]},changeDetection:0}),n})(),qu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ju],imports:[[z.ez,Ct.U8,E.Ng,E.BQ],Hn.ZD,Bi,E.Ng,E.BQ]}),n})();var zn=O(9353);let $u=(()=>{class n{transform(t,i){return isNaN(t)?0:parseFloat(t).toFixed(i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"round",type:n,pure:!0,standalone:!0}),n})();function Xu(n,e){if(1&n&&(l.TgZ(0,"mat-option",18),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.option),l.xp6(1),l.hij(" ",t.option," ")}}function Ku(n,e){if(1&n&&(l.TgZ(0,"mat-option",18),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.option),l.xp6(1),l.hij(" ",t.option," ")}}let Qu=(()=>{class n{constructor(t){this._expenseService=t,this._ngUnsubscribe=new ot.x,this.htmlLabel=R.uW,this.loadSpinner=!1,this.expenseData={},this.chartType=R.Qo,this.weeklyMonthGraphFilter=R._S,this.weeklyMonthGraphFilterSelected=R._S[0].option,this.weeklyMonthGraphTypeSelected=R.Qo[0],this.modeCategoryGraphFilter=R.sv,this.modeCategoryGraphFilterSelected=R._S[0].option,this.modeCategoryGraphTypeSelected=R.Qo[0]}ngOnInit(){this._loadExpenseData()}_loadExpenseData(){this.loadSpinner=!0,this._expenseService.getExpenseData().pipe((0,dt.R)(this._ngUnsubscribe.asObservable())).subscribe(t=>{t&&(this.loadSpinner=!1,this.expenseData=t,setTimeout(()=>{this.createWeekMonthGraph(R.Qo[0],R._S[0].option),this.createModeCategoryGraph(R.Qo[0],R.sv[0].option)},50),console.log(t))})}createWeekMonthGraph(t,i){this.weekMonthGraph&&this.weekMonthGraph.destroy(),this.weeklyMonthGraphFilterSelected=i,this.weeklyMonthGraphTypeSelected=t,Fi.defaults.color=R.UM.TEXT_COLOR;let a=[],s=R.UM.X_AXIS;i==R._S[0].option?this.expenseData&&this.expenseData.currentWeekExpenses&&this.expenseData.currentWeekExpenses&&(s=R.UM.X_AXIS,a=this._buildWeekData(this.expenseData.currentWeekExpenses)):i==R._S[1].option?this.expenseData&&this.expenseData.previousWeekExpenses&&(s=R.UM.X_AXIS,a=this._buildWeekData(this.expenseData.previousWeekExpenses)):this.expenseData&&this.expenseData.monthlyExpenses&&this.expenseData.monthlyExpenses.length&&(s=R.UM.X_AXIS_MONTH,a=this._buildMonthData(this.expenseData.monthlyExpenses)),this.weekMonthGraph=new Fi("weekMonthGraph",{type:t,data:{labels:s,datasets:[{label:R.UM.BAR_LABEL,data:a,backgroundColor:R.UM.BAR_COLOR,borderColor:R.UM.BAR_COLOR,borderRadius:2}]},options:{aspectRatio:2.5}})}createModeCategoryGraph(t,i){this.modeCategoryGraph&&this.modeCategoryGraph.destroy(),this.modeCategoryGraphFilterSelected=i,this.modeCategoryGraphTypeSelected=t,Fi.defaults.color=R.UM.TEXT_COLOR;let a=[],s=R.UM.X_AXIS;i==this.modeCategoryGraphFilter[0].option?this.expenseData&&this.expenseData.filteredByMode&&(s=this.expenseData.filteredByMode.map(o=>o.mode),s.forEach(o=>{a.push(this.expenseData.filteredByMode.find(r=>r.mode==o).amount)})):this.expenseData&&this.expenseData.filteredByCategory&&(s=this.expenseData.filteredByCategory.map(o=>o.category),s.forEach(o=>{a.push(this.expenseData.filteredByCategory.find(r=>r.category==o).amount)})),console.log(s),console.log(a),this.modeCategoryGraph=new Fi("modeCategoryGraph",{type:t,data:{labels:s,datasets:[{label:R.UM.BAR_LABEL,data:a,backgroundColor:R.UM.BAR_COLOR,borderColor:R.UM.BAR_COLOR,borderRadius:2}]},options:{aspectRatio:2.5}})}_buildWeekData(t){const i=[];t.forEach(s=>{const o=s.date.split(" ")[0],r=i.find(c=>c.day==o);r?r.amount=this._expenseService.roundAmountToTwoDecimals(r.amount+s.amount):i.push({day:o,amount:this._expenseService.roundAmountToTwoDecimals(s.amount)})}),console.log(i);const a=[0,0,0,0,0,0,0];return i.forEach(s=>{a[R.UM.X_AXIS.indexOf(s.day)]=s.amount}),a}_buildMonthData(t){const i=[0,0,0,0,0,0,0,0,0,0,0,0];return t.forEach(a=>{i[R.UM.X_AXIS_MONTH.indexOf(a.month)]=a.amount}),i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(yo.$))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dashboard"]],decls:66,vars:21,consts:[[1,"dashboard-main"],[1,"top-section"],[1,"amount-cards"],[1,"text-small","weight-600"],[1,"text-big","weight-600"],[1,"middle-section"],[1,"graph-section"],[1,"text-medium","weight-600"],["appearance","outline",1,"full-width"],[3,"value","selectionChange"],["class","text-small","ngClass","option",3,"value",4,"ngFor","ngForOf"],["id","weekMonthGraph",1,"graph-canvas","text-small"],[1,"text-medium"],[1,"pointer"],["type","radio","name","chartType","checked","",3,"click"],["type","radio","name","chartType",3,"click"],["id","modeCategoryGraph",1,"graph-canvas","text-small"],[3,"isLoading"],["ngClass","option",1,"text-small",3,"value"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l._uU(4),l.qZA(),l.TgZ(5,"div",4),l._uU(6),l.ALo(7,"round"),l.qZA()(),l.TgZ(8,"div",2)(9,"div",3),l._uU(10),l.qZA(),l.TgZ(11,"div",4),l._uU(12,"\u20b9 30"),l.qZA()(),l.TgZ(13,"div",2)(14,"div",3),l._uU(15),l.qZA(),l.TgZ(16,"div",4),l._uU(17,"\u20b9 1002.11212"),l.qZA()(),l.TgZ(18,"div",2)(19,"div",3),l._uU(20),l.qZA(),l.TgZ(21,"div",4),l._uU(22,"\u20b9 12210"),l.qZA()()(),l.TgZ(23,"div",5)(24,"div",6)(25,"div")(26,"div",7),l._uU(27),l.qZA(),l.TgZ(28,"div")(29,"mat-form-field",8)(30,"mat-select",9),l.NdJ("selectionChange",function(s){return i.createWeekMonthGraph(i.weeklyMonthGraphTypeSelected,s.value)}),l.YNc(31,Xu,2,2,"mat-option",10),l.qZA()()()(),l.TgZ(32,"div")(33,"canvas",11),l._uU(34),l.qZA()(),l.TgZ(35,"div",12)(36,"div")(37,"label",13)(38,"input",14),l.NdJ("click",function(){return i.createWeekMonthGraph(i.chartType[0],i.weeklyMonthGraphFilterSelected)}),l.qZA(),l._uU(39),l.qZA()(),l.TgZ(40,"div")(41,"label",13)(42,"input",15),l.NdJ("click",function(){return i.createWeekMonthGraph(i.chartType[1],i.weeklyMonthGraphFilterSelected)}),l.qZA(),l._uU(43),l.qZA()()()()(),l.TgZ(44,"div",5)(45,"div",6)(46,"div")(47,"div",7),l._uU(48),l.qZA(),l.TgZ(49,"div")(50,"mat-form-field",8)(51,"mat-select",9),l.NdJ("selectionChange",function(s){return i.createModeCategoryGraph(i.weeklyMonthGraphTypeSelected,s.value)}),l.YNc(52,Ku,2,2,"mat-option",10),l.qZA()()()(),l.TgZ(53,"div")(54,"canvas",16),l._uU(55),l.qZA()(),l.TgZ(56,"div",12)(57,"div")(58,"label",13)(59,"input",14),l.NdJ("click",function(){return i.createModeCategoryGraph(i.chartType[0],i.modeCategoryGraphFilterSelected)}),l.qZA(),l._uU(60),l.qZA()(),l.TgZ(61,"div")(62,"label",13)(63,"input",15),l.NdJ("click",function(){return i.createModeCategoryGraph(i.chartType[1],i.modeCategoryGraphFilterSelected)}),l.qZA(),l._uU(64),l.qZA()()()()()(),l._UZ(65,"app-spinner",17)),2&t&&(l.xp6(4),l.Oqu(i.htmlLabel.TEXT.TOTAL_EXPENSE),l.xp6(2),l.hij("\u20b9 ",l.xi3(7,18,1e3,2),""),l.xp6(4),l.Oqu(i.htmlLabel.TEXT.THIS_MONTH),l.xp6(5),l.Oqu(i.htmlLabel.TEXT.THIS_WEEK),l.xp6(5),l.Oqu(i.htmlLabel.TEXT.TODAY),l.xp6(7),l.hij(" ",i.htmlLabel.TEXT.GRAPH_NAME," "),l.xp6(3),l.Q6J("value",i.weeklyMonthGraphFilter[0].option),l.xp6(1),l.Q6J("ngForOf",i.weeklyMonthGraphFilter),l.xp6(3),l.Oqu(i.createWeekMonthGraph),l.xp6(5),l.Oqu(i.htmlLabel.TEXT.BAR_GRAPH),l.xp6(4),l.Oqu(i.htmlLabel.TEXT.LINE_GRAPH),l.xp6(5),l.hij(" ",i.htmlLabel.TEXT.GRAPH_NAME," "),l.xp6(3),l.Q6J("value",i.modeCategoryGraphFilter[0].option),l.xp6(1),l.Q6J("ngForOf",i.modeCategoryGraphFilter),l.xp6(3),l.Oqu(i.modeCategoryGraph),l.xp6(5),l.Oqu(i.htmlLabel.TEXT.BAR_GRAPH),l.xp6(4),l.Oqu(i.htmlLabel.TEXT.LINE_GRAPH),l.xp6(1),l.Q6J("isLoading",i.loadSpinner))},dependencies:[z.mk,z.sg,wo,Io,E.ey,zn.O,$u],styles:[".dashboard-main[_ngcontent-%COMP%]{width:100%;padding:10px 15px;min-height:100dvh - 50px}.top-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;column-gap:25px}.amount-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;justify-content:center}.text-small[_ngcontent-%COMP%]{color:var(--sidebar-item-text-color)}.text-big[_ngcontent-%COMP%], .text-medium[_ngcontent-%COMP%]{color:var(--top-section-card-amount-text-color)}.graph-section[_ngcontent-%COMP%], .amount-cards[_ngcontent-%COMP%]{background-color:var(--top-section-card-background);border:1px solid var(--top-section-card-border-color);box-shadow:var(--top-section-card-shadow);border-radius:20px;padding:30px 25px;margin-bottom:20px}.middle-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr .4fr;column-gap:20px}.graph-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){display:flex;justify-content:space-between;margin-bottom:20px}.graph-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){height:300px;display:flex;align-items:center}.graph-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .bar-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){margin-top:20px;justify-content:space-evenly}.graph-canvas[_ngcontent-%COMP%]{width:100%;height:100%;max-width:100%;max-height:100%}.text-medium[_ngcontent-%COMP%]{display:flex;align-items:center}.no-expense[_ngcontent-%COMP%]{width:100%;background-color:#fff}.no-expense-main[_ngcontent-%COMP%]{width:100%;min-height:87vh;background-color:#d9e2e1b6;display:grid;grid-template-rows:.5fr 1fr .5fr}.no-expense-text[_ngcontent-%COMP%]{font-size:20px;text-align:center;text-wrap:pretty;width:100%;color:var(--text-color-2)}.add-expense-button[_ngcontent-%COMP%], .thinking-img[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:end;padding:10px}.thinking-img[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}@media screen and (max-width: 600px){.top-section[_ngcontent-%COMP%], .middle-section[_ngcontent-%COMP%]{grid-template-columns:1fr}.graph-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){height:125px}}@media screen and (min-width: 601px) and (max-width: 950px){.top-section[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.middle-section[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),n})();var Ro=O(5861),Po=O(2138),Ju=O(515);const Fo=(0,ae.i$)({passive:!0});let tf=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ju.E;const i=(0,tt.fI)(t),a=this._monitoredElements.get(i);if(a)return a.subject;const s=new ot.x,o="cdk-text-field-autofilled",r=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",r,Fo),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",r,Fo)}}),s}stopMonitoring(t){const i=(0,tt.fI)(t),a=this._monitoredElements.get(i);a&&(a.unlisten(),a.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ae.t4),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Vo=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),ef=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let nf=0;const af=(0,E.FD)(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let sf=(()=>{class n extends af{constructor(t,i,a,s,o,r,c,d,h,u){super(r,s,o,a),this._elementRef=t,this._platform=i,this._autofillMonitor=d,this._formField=u,this._uid="mat-input-"+nf++,this.focused=!1,this.stateChanges=new ot.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(m=>(0,ae.qK)().has(m));const f=this._elementRef.nativeElement,p=f.nodeName.toLowerCase();this._inputValueAccessor=c||f,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&h.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",m=>{const g=m.target;!g.value&&0===g.selectionStart&&0===g.selectionEnd&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=f.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=(0,tt.Ig)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(U.kI.required)??!1}set required(t){this._required=(0,tt.Ig)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&(0,ae.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=(0,tt.Ig)(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){ef.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ae.t4),l.Y36(U.a5,10),l.Y36(U.F,8),l.Y36(U.sg,8),l.Y36(E.rD),l.Y36(Vo,10),l.Y36(tf),l.Y36(l.R0b),l.Y36(Vi,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:Li,useExisting:n}]),l.qOj,l.TTD]}),n})(),rf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[E.rD],imports:[[Lo,Bi,E.BQ],Lo,Bi]}),n})();var qe=O(4080),Ni=O(4859),Pt=O(727),Yn=O(9646);const lf=["mat-calendar-body",""];function cf(n,e){if(1&n&&(l.TgZ(0,"tr",2)(1,"td",3),l._uU(2),l.qZA()()),2&n){const t=l.oxw();l.xp6(1),l.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),l.uIk("colspan",t.numCols),l.xp6(1),l.hij(" ",t.label," ")}}function df(n,e){if(1&n&&(l.TgZ(0,"td",3),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),l.uIk("colspan",t._firstRowOffset),l.xp6(1),l.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function hf(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",7),l.NdJ("click",function(a){const o=l.CHM(t).$implicit,r=l.oxw(2);return l.KtG(r._cellClicked(o,a))}),l.TgZ(1,"div",8),l._uU(2),l.qZA(),l._UZ(3,"div",9),l.qZA()}if(2&n){const t=e.$implicit,i=e.index,a=l.oxw().index,s=l.oxw();l.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),l.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(a,i))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,a,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,a,i))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),l.Q6J("ngClass",t.cssClasses)("tabindex",s._isActiveCell(a,i)?0:-1),l.uIk("data-mat-row",a)("data-mat-col",i)("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-selected",s._isSelected(t.compareValue)),l.xp6(1),l.ekj("mat-calendar-body-selected",s._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",s.todayValue===t.compareValue),l.xp6(1),l.hij(" ",t.displayValue," ")}}function uf(n,e){if(1&n&&(l.TgZ(0,"tr",4),l.YNc(1,df,2,6,"td",5),l.YNc(2,hf,4,46,"td",6),l.qZA()),2&n){const t=e.$implicit,i=e.index,a=l.oxw();l.xp6(1),l.Q6J("ngIf",0===i&&a._firstRowOffset),l.xp6(1),l.Q6J("ngForOf",t)}}function ff(n,e){if(1&n&&(l.TgZ(0,"th",5)(1,"abbr",6),l._uU(2),l.qZA()()),2&n){const t=e.$implicit;l.uIk("aria-label",t.long),l.xp6(1),l.uIk("title",t.long),l.xp6(1),l.Oqu(t.narrow)}}const pf=["*"];function mf(n,e){}function gf(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-month-view",5),l.NdJ("activeDateChange",function(a){l.CHM(t);const s=l.oxw();return l.KtG(s.activeDate=a)})("_userSelection",function(a){l.CHM(t);const s=l.oxw();return l.KtG(s._dateSelected(a))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)}}function _f(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-year-view",6),l.NdJ("activeDateChange",function(a){l.CHM(t);const s=l.oxw();return l.KtG(s.activeDate=a)})("monthSelected",function(a){l.CHM(t);const s=l.oxw();return l.KtG(s._monthSelectedInYearView(a))})("selectedChange",function(a){l.CHM(t);const s=l.oxw();return l.KtG(s._goToDateInView(a,"month"))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function bf(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-multi-year-view",7),l.NdJ("activeDateChange",function(a){l.CHM(t);const s=l.oxw();return l.KtG(s.activeDate=a)})("yearSelected",function(a){l.CHM(t);const s=l.oxw();return l.KtG(s._yearSelectedInMultiYearView(a))})("selectedChange",function(a){l.CHM(t);const s=l.oxw();return l.KtG(s._goToDateInView(a,"year"))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function yf(n,e){}const vf=["button"];function xf(n,e){1&n&&(l.O4$(),l.TgZ(0,"svg",3),l._UZ(1,"path",4),l.qZA())}const Mf=[[["","matDatepickerToggleIcon",""]]],Df=["[matDatepickerToggleIcon]"];let $e=(()=>{class n{constructor(){this.changes=new ot.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,i){return`${t} \u2013 ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jn{constructor(e,t,i,a,s={},o=e,r){this.value=e,this.displayValue=t,this.ariaLabel=i,this.enabled=a,this.cssClasses=s,this.compareValue=o,this.rawValue=r}}let ye=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new l.vpe,this.previewChange=new l.vpe,this._enterHandler=a=>{if(this._skipNextFocus&&"focus"===a.type)this._skipNextFocus=!1;else if(a.target&&this.isRange){const s=this._getCellFromElement(a.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:a}))}},this._leaveHandler=a=>{null!==this.previewEnd&&this.isRange&&a.target&&Wn(a.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:a}))},i.runOutsideAngular(()=>{const a=t.nativeElement;a.addEventListener("mouseenter",this._enterHandler,!0),a.addEventListener("focus",this._enterHandler,!0),a.addEventListener("mouseleave",this._leaveHandler,!0),a.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(t,i){t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:a,numCols:s}=this;(t.rows||i)&&(this._firstRowOffset=a&&a.length&&a[0].length?s-a[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(t,i){let a=t*this.numCols+i;return t&&(a-=this._firstRowOffset),a==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ne.q)(1)).subscribe(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})}_isRangeStart(t){return Gn(t,this.startValue,this.endValue)}_isRangeEnd(t){return Zn(t,this.startValue,this.endValue)}_isInRange(t){return Un(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return Gn(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,a){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let s=this.rows[i][a-1];if(!s){const o=this.rows[i-1];s=o&&o[o.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(t,i,a){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let s=this.rows[i][a+1];if(!s){const o=this.rows[i+1];s=o&&o[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(t){return Zn(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return Un(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return Gn(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return Zn(t,this.previewStart,this.previewEnd)}_isInPreview(t){return Un(t,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(t){let i;if(Wn(t)?i=t:Wn(t.parentNode)&&(i=t.parentNode),i){const a=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(a&&s)return this.rows[parseInt(a)][parseInt(s)]}return null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[l.TTD],attrs:lf,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(t,i){1&t&&(l.YNc(0,cf,3,6,"tr",0),l.YNc(1,uf,3,2,"tr",1)),2&t&&(l.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),l.xp6(1),l.Q6J("ngForOf",i.rows))},dependencies:[z.O5,z.sg,z.mk],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),n})();function Wn(n){return"TD"===n.nodeName}function Gn(n,e,t){return null!==t&&e!==t&&n<t&&n===e}function Zn(n,e,t){return null!==e&&e!==t&&n>=e&&n===t}function Un(n,e,t,i){return i&&null!==e&&null!==t&&e!==t&&n>=e&&n<=t}class ct{constructor(e,t){this.start=e,this.end=t}}let jt=(()=>{class n{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new ot.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const a=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:a})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Cf=(()=>{class n extends jt{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(E._A))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Bo={provide:jt,deps:[[new l.FiY,new l.tp0,jt],E._A],useFactory:function kf(n,e){return n||new Cf(e)}},zi=new l.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Ho=(()=>{class n{constructor(t,i,a,s,o){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=a,this._dir=s,this._rangeStrategy=o,this._rerenderSubscription=Pt.w0.EMPTY,this.selectedChange=new l.vpe,this._userSelection=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof ct?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Yt.O)(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,a=this._dateAdapter.getYear(this.activeDate),s=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.createDate(a,s,i);let r,c;this._selected instanceof ct?(r=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):r=c=this._getDateInCurrentMonth(this._selected),(r!==i||c!==i)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:t.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(t){const i=this._activeDate,a=this._isRtl();switch(t.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.Ku:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.VM:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.K5:case A.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case A.hY:return void(null!=this._previewEnd&&!(0,A.Vb)(t)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===A.L_||t.keyCode===A.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((o,r)=>({long:o,narrow:i[r]}));this._weekdays=s.slice(t).concat(s.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let a=0,s=this._firstWeekOffset;a<t;a++,s++){7==s&&(this._weeks.push([]),s=0);const o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),r=this._shouldEnableDate(o),c=this._dateAdapter.format(o,this._dateFormats.display.dateA11yLabel),d=this.dateClass?this.dateClass(o,"month"):void 0;this._weeks[this._weeks.length-1].push(new jn(a+1,i[a],c,r,d,this._getCellCompareValue(o),o))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),a=this._dateAdapter.getMonth(t),s=this._dateAdapter.getDate(t);return new Date(i,a,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof ct?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(E.sG,8),l.Y36(E._A,8),l.Y36(ge.Is,8),l.Y36(zi,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(1&t&&l.Gf(ye,5),2&t){let a;l.iGM(a=l.CRH())&&(i._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[l.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(t,i){1&t&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l.YNc(3,ff,3,3,"th",2),l.qZA(),l.TgZ(4,"tr"),l._UZ(5,"th",3),l.qZA()(),l.TgZ(6,"tbody",4),l.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngForOf",i._weekdays),l.xp6(3),l.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[ye,z.sg],encapsulation:2,changeDetection:0}),n})(),No=(()=>{class n{constructor(t,i,a){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=Pt.w0.EMPTY,this.selectedChange=new l.vpe,this.yearSelected=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),zo(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof ct?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Yt.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Xe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let a=0,s=[];a<24;a++)s.push(i+a),4==s.length&&(this._years.push(s.map(o=>this._createCellForYear(o))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let a=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,a,1));this.selectedChange.emit(this._dateAdapter.createDate(i,a,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(t){const i=this._activeDate,a=this._isRtl();switch(t.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Xe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Xe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===A.L_||t.keyCode===A.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Xe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),a=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new jn(t,a,a,this._shouldEnableYear(t),s)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let a=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof ct){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(E._A,8),l.Y36(ge.Is,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(1&t&&l.Gf(ye,5),2&t){let a;l.iGM(a=l.CRH())&&(i._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(t,i){1&t&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l._UZ(3,"th",2),l.qZA()(),l.TgZ(4,"tbody",3),l.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),l.qZA()()),2&t&&(l.xp6(4),l.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[ye],encapsulation:2,changeDetection:0}),n})();function zo(n,e,t,i,a){const s=n.getYear(e),o=n.getYear(t),r=Yo(n,i,a);return Math.floor((s-r)/24)===Math.floor((o-r)/24)}function Xe(n,e,t,i){return function Tf(n,e){return(n%e+e)%e}(n.getYear(e)-Yo(n,t,i),24)}function Yo(n,e,t){let i=0;return t?i=n.getYear(t)-24+1:e&&(i=n.getYear(e)),i}let jo=(()=>{class n{constructor(t,i,a,s){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=a,this._dir=s,this._rerenderSubscription=Pt.w0.EMPTY,this.selectedChange=new l.vpe,this.monthSelected=new l.vpe,this.activeDateChange=new l.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof ct?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Yt.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(a);const s=this._dateAdapter.getNumDaysInMonth(a);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(t){const i=this._activeDate,a=this._isRtl();switch(t.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===A.L_||t.keyCode===A.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(a=>this._createCellForMonth(a,t[a]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,i){const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),s=this._dateAdapter.format(a,this._dateFormats.display.monthYearA11yLabel),o=this.dateClass?this.dateClass(a,"year"):void 0;return new jn(t,i.toLocaleUpperCase(),s,this._shouldEnableMonth(t),o)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(s)==t;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const a=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return t>a||t===a&&i>s}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const a=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return t<a||t===a&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof ct?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(E.sG,8),l.Y36(E._A,8),l.Y36(ge.Is,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(1&t&&l.Gf(ye,5),2&t){let a;l.iGM(a=l.CRH())&&(i._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(t,i){1&t&&(l.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),l._UZ(3,"th",2),l.qZA()(),l.TgZ(4,"tbody",3),l.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),l.qZA()()),2&t&&(l.xp6(4),l.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[ye],encapsulation:2,changeDetection:0}),n})(),Of=0,If=(()=>{class n{constructor(t,i,a,s,o){this._intl=t,this.calendar=i,this._dateAdapter=a,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+Of++,this.calendar.stateChanges.subscribe(()=>o.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-Xe(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),a=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),o=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1));return this._intl.formatYearRange(s,o)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):zo(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($e),l.Y36((0,l.Gpc)(()=>Xn)),l.Y36(E._A,8),l.Y36(E.sG,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:pf,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"div",0)(1,"div",1)(2,"button",2),l.NdJ("click",function(){return i.currentPeriodClicked()}),l.TgZ(3,"span"),l._uU(4),l.qZA(),l.O4$(),l.TgZ(5,"svg",3),l._UZ(6,"polygon",4),l.qZA()(),l.kcU(),l._UZ(7,"div",5),l.Hsn(8),l.TgZ(9,"button",6),l.NdJ("click",function(){return i.previousClicked()}),l.qZA(),l.TgZ(10,"button",7),l.NdJ("click",function(){return i.nextClicked()}),l.qZA()()()),2&t&&(l.xp6(2),l.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),l.xp6(1),l.uIk("id",i._buttonDescriptionId),l.xp6(1),l.Oqu(i.periodButtonText),l.xp6(1),l.ekj("mat-calendar-invert","month"!==i.calendar.currentView),l.xp6(4),l.Q6J("disabled",!i.previousEnabled()),l.uIk("aria-label",i.prevButtonLabel),l.xp6(1),l.Q6J("disabled",!i.nextEnabled()),l.uIk("aria-label",i.nextButtonLabel))},dependencies:[Ni.lW,_e.Qr],encapsulation:2,changeDetection:0}),n})(),Xn=(()=>{class n{constructor(t,i,a,s){this._dateAdapter=i,this._dateFormats=a,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new l.vpe,this.yearSelected=new l.vpe,this.monthSelected=new l.vpe,this.viewChanged=new l.vpe(!0),this._userSelection=new l.vpe,this.stateChanges=new ot.x,this._intlChanges=t.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof ct?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new qe.C5(this.headerComponent||If),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate||t.maxDate||t.dateFilter;if(i&&!i.firstChange){const a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof ct||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($e),l.Y36(E._A,8),l.Y36(E.sG,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(1&t&&(l.Gf(Ho,5),l.Gf(jo,5),l.Gf(No,5)),2&t){let a;l.iGM(a=l.CRH())&&(i.monthView=a.first),l.iGM(a=l.CRH())&&(i.yearView=a.first),l.iGM(a=l.CRH())&&(i.multiYearView=a.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[l._Bn([Bo]),l.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,i){1&t&&(l.YNc(0,mf,0,0,"ng-template",0),l.TgZ(1,"div",1),l.YNc(2,gf,1,8,"mat-month-view",2),l.YNc(3,_f,1,6,"mat-year-view",3),l.YNc(4,bf,1,6,"mat-multi-year-view",4),l.qZA()),2&t&&(l.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),l.xp6(1),l.Q6J("ngSwitch",i.currentView),l.xp6(1),l.Q6J("ngSwitchCase","month"),l.xp6(1),l.Q6J("ngSwitchCase","year"),l.xp6(1),l.Q6J("ngSwitchCase","multi-year"))},dependencies:[Ho,jo,No,qe.Pl,_e.kH,z.RF,z.n9],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),n})();const Wo={transformPanel:(0,T.X$)("transformPanel",[(0,T.eR)("void => enter-dropdown",(0,T.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,T.F4)([(0,T.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,T.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,T.eR)("void => enter-dialog",(0,T.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,T.F4)([(0,T.oB)({opacity:0,transform:"scale(0.7)"}),(0,T.oB)({transform:"none",opacity:1})]))),(0,T.eR)("* => void",(0,T.jt)("100ms linear",(0,T.oB)({opacity:0})))]),fadeInCalendar:(0,T.X$)("fadeInCalendar",[(0,T.SB)("void",(0,T.oB)({opacity:0})),(0,T.SB)("enter",(0,T.oB)({opacity:1})),(0,T.eR)("void => *",(0,T.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let Rf=0;const Go=new l.OlP("mat-datepicker-scroll-strategy"),Ff={provide:Go,deps:[Ct.aV],useFactory:function Pf(n){return()=>n.scrollStrategies.reposition()}},Lf=(0,E.pj)(class{constructor(n){this._elementRef=n}});let Vf=(()=>{class n extends Lf{constructor(t,i,a,s,o,r){super(t),this._changeDetectorRef=i,this._globalModel=a,this._dateAdapter=s,this._rangeSelectionStrategy=o,this._subscriptions=new Pt.w0,this._animationDone=new ot.x,this._actionsPortal=null,this._closeButtonText=r.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,a=t.value,s=i instanceof ct;if(s&&this._rangeSelectionStrategy){const o=this._rangeSelectionStrategy.selectionFinished(a,i,t.event);this._model.updateSelection(o,this)}else a&&(s||!this._dateAdapter.sameDate(a,i))&&this._model.add(a);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(jt),l.Y36(E._A),l.Y36(zi,8),l.Y36($e))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(1&t&&l.Gf(Xn,5),2&t){let a;l.iGM(a=l.CRH())&&(i._calendar=a.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,i){1&t&&l.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&t&&(l.d8E("@transformPanel",i._animationState),l.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[l.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"mat-calendar",1),l.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),l.qZA(),l.YNc(2,yf,0,0,"ng-template",2),l.TgZ(3,"button",3),l.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),l._uU(4),l.qZA()()),2&t&&(l.ekj("mat-datepicker-content-container-with-actions",i._actionsPortal),l.xp6(1),l.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),l.xp6(1),l.Q6J("cdkPortalOutlet",i._actionsPortal),l.xp6(1),l.ekj("cdk-visually-hidden",!i._closeButtonFocused),l.Q6J("color",i.color||"primary"),l.xp6(1),l.Oqu(i._closeButtonText))},dependencies:[Xn,Ni.lW,_e.mK,z.mk,qe.Pl],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[Wo.transformPanel,Wo.fadeInCalendar]},changeDetection:0}),n})(),Zo=(()=>{class n{constructor(t,i,a,s,o,r,c){this._overlay=t,this._ngZone=i,this._viewContainerRef=a,this._dateAdapter=o,this._dir=r,this._model=c,this._inputStateChanges=Pt.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new l.vpe,this.monthSelected=new l.vpe,this.viewChanged=new l.vpe(!0),this.openedStream=new l.vpe,this.closedStream=new l.vpe,this._opened=!1,this.id="mat-datepicker-"+Rf++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new ot.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=(0,tt.Ig)(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const i=(0,tt.Ig)(t);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=(0,tt.Ig)(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=(0,tt.du)(t)}get opened(){return this._opened}set opened(t){(0,tt.Ig)(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const a=this._overlayRef.getConfig().positionStrategy;a instanceof Ct._G&&(this._setConnectedPositions(a),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,ae.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe((0,ne.q)(1)).subscribe(()=>this._destroyOverlay())}const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=this.datepickerInput.getOverlayLabelId(),a=new qe.C5(Vf,this._viewContainerRef),s=this._overlayRef=this._overlay.create(new Ct.X_({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")})),o=s.overlayElement;o.setAttribute("role","dialog"),i&&o.setAttribute("aria-labelledby",i),t&&o.setAttribute("aria-modal","true"),this._getCloseStream(s).subscribe(r=>{r&&r.preventDefault(),this.close()}),this._componentRef=s.attach(a),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe((0,ne.q)(1)).subscribe(()=>s.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",a="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",o="top"===s?"bottom":"top";return t.withPositions([{originX:i,originY:o,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:o},{originX:a,originY:o,overlayX:a,overlayY:s},{originX:a,originY:s,overlayX:a,overlayY:o}])}_getCloseStream(t){return(0,ie.T)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,Nn.h)(i=>i.keyCode===A.hY&&!(0,A.Vb)(i)||this.datepickerInput&&(0,A.Vb)(i,"altKey")&&i.keyCode===A.LH)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ct.aV),l.Y36(l.R0b),l.Y36(l.s_b),l.Y36(Go),l.Y36(E._A,8),l.Y36(ge.Is,8),l.Y36(jt))},n.\u0275dir=l.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[l.TTD]}),n})(),Bf=(()=>{class n extends Zo{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[l._Bn([Bo,{provide:Zo,useExisting:n}]),l.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();class Yi{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let Hf=(()=>{class n{constructor(t,i,a){this._elementRef=t,this._dateAdapter=i,this._dateFormats=a,this.dateChange=new l.vpe,this.dateInput=new l.vpe,this.stateChanges=new ot.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Pt.w0.EMPTY,this._localeSubscription=Pt.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!o||this._matchesFilter(o)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),r=this._getMinDate();return!r||!o||this._dateAdapter.compareDate(r,o)<=0?null:{matDatepickerMin:{min:r,actual:o}}},this._maxValidator=s=>{const o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),r=this._getMaxDate();return!r||!o||this._dateAdapter.compareDate(r,o)>=0?null:{matDatepickerMax:{max:r,actual:o}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=(0,tt.Ig)(t),a=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&a.blur&&a.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const a=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(a),this._cvaOnChange(a),this._onTouched(),this._formatValue(a),this.dateInput.emit(new Yi(this,this._elementRef.nativeElement)),this.dateChange.emit(new Yi(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function Nf(n,e){const t=Object.keys(n);for(let i of t){const{previousValue:a,currentValue:s}=n[i];if(!e.isDateInstance(a)||!e.isDateInstance(s))return!0;if(!e.sameDate(a,s))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&t.keyCode===A.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let a=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(a),a=this._dateAdapter.getValidDateOrNull(a),this._dateAdapter.sameDate(a,this.value)?(t&&!this.value&&this._cvaOnChange(a),i!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(a),this._cvaOnChange(a),this.dateInput.emit(new Yi(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Yi(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(E._A,8),l.Y36(E.sG,8))},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[l.TTD]}),n})();const zf={provide:U.JU,useExisting:(0,l.Gpc)(()=>Kn),multi:!0},Yf={provide:U.Cf,useExisting:(0,l.Gpc)(()=>Kn),multi:!0};let Kn=(()=>{class n extends Hf{constructor(t,i,a,s){super(t,i,a),this._formField=s,this._closedSubscription=Pt.w0.EMPTY,this._validator=U.kI.compose(super._getValidators())}set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(E._A,8),l.Y36(E.sG,8),l.Y36(Vi,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&t&&(l.Ikx("disabled",i.disabled),l.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[l._Bn([zf,Yf,{provide:Vo,useExisting:n}]),l.qOj]}),n})(),jf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),Wf=(()=>{class n{constructor(t,i,a){this._intl=t,this._changeDetectorRef=i,this._stateChanges=Pt.w0.EMPTY;const s=Number(a);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=(0,tt.Ig)(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:(0,Yn.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Yn.of)(),a=this.datepicker?(0,ie.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Yn.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,ie.T)(this._intl.changes,t,i,a).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($e),l.Y36(l.sBO),l.$8M("tabindex"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,a){if(1&t&&l.Suo(a,jf,5),2&t){let s;l.iGM(s=l.CRH())&&(i._customIcon=s.first)}},viewQuery:function(t,i){if(1&t&&l.Gf(vf,5),2&t){let a;l.iGM(a=l.CRH())&&(i._button=a.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._open(s)}),2&t&&(l.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),l.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[l.TTD],ngContentSelectors:Df,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){1&t&&(l.F$t(Mf),l.TgZ(0,"button",0,1),l.YNc(2,xf,2,0,"svg",2),l.Hsn(3),l.qZA()),2&t&&(l.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),l.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),l.xp6(2),l.Q6J("ngIf",!i._customIcon))},dependencies:[Ni.lW,z.O5],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),Gf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$e,Ff],imports:[[z.ez,Ni.ot,Ct.U8,_e.rt,qe.eL,E.BQ],Hn.ZD]}),n})();function Zf(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.validationMessages.EXPENSE_REQUIRED," ")}}function Uf(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.validationMessages.EXPENSE_INVALID," ")}}function qf(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.validationMessages.AMOUNT_REQUIRED," ")}}function $f(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.hij(" ",t.validationMessages.AMOUNT_INVALID," ")}}function Xf(n,e){if(1&n&&(l.TgZ(0,"mat-option",22),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.id),l.xp6(1),l.hij(" ",t.name," ")}}function Kf(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.validationMessages.MODE_REQUIRED)}}function Qf(n,e){if(1&n&&(l.TgZ(0,"mat-option",22),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.id),l.xp6(1),l.hij(" ",t.name," ")}}function Jf(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.validationMessages.CATEGORY_REQUIRED)}}function tp(n,e){if(1&n&&(l.TgZ(0,"mat-error"),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.validationMessages.DATE_REQUIRED)}}function ep(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),l._uU(4),l.qZA()(),l.TgZ(5,"div",6)(6,"div",7)(7,"div")(8,"mat-form-field",8)(9,"mat-label",9),l._uU(10),l.qZA(),l._UZ(11,"input",10),l.YNc(12,Zf,2,1,"mat-error",11),l.YNc(13,Uf,2,1,"mat-error",11),l.qZA()(),l.TgZ(14,"div")(15,"mat-form-field",8)(16,"mat-label",9),l._uU(17),l.qZA(),l._UZ(18,"input",12),l.YNc(19,qf,2,1,"mat-error",11),l.YNc(20,$f,2,1,"mat-error",11),l.qZA()(),l.TgZ(21,"div")(22,"mat-form-field",8)(23,"mat-label",9),l._uU(24),l.qZA(),l.TgZ(25,"mat-select",13),l.YNc(26,Xf,2,2,"mat-option",14),l.qZA(),l.YNc(27,Kf,2,1,"mat-error",11),l.qZA()(),l.TgZ(28,"div")(29,"mat-form-field",8)(30,"mat-label",9),l._uU(31),l.qZA(),l.TgZ(32,"mat-select",15),l.YNc(33,Qf,2,2,"mat-option",14),l.qZA(),l.YNc(34,Jf,2,1,"mat-error",11),l.qZA()(),l.TgZ(35,"div")(36,"mat-form-field",8)(37,"mat-label",9),l._uU(38),l.qZA(),l.TgZ(39,"input",16),l.NdJ("click",function(){l.CHM(t);const a=l.MAs(43);return l.KtG(a.open())}),l.ALo(40,"date"),l.qZA(),l._UZ(41,"mat-datepicker-toggle",17)(42,"mat-datepicker",null,18),l.YNc(44,tp,2,1,"mat-error",11),l.qZA()(),l.TgZ(45,"div")(46,"mat-form-field",8)(47,"mat-label",9),l._uU(48),l.qZA(),l._UZ(49,"input",19),l.qZA()()()(),l.TgZ(50,"div",20)(51,"button",21),l.NdJ("click",function(){l.CHM(t);const a=l.oxw();return l.KtG(a.addExpense())}),l._uU(52),l.qZA()()()()}if(2&n){const t=l.MAs(43),i=l.oxw();l.Q6J("@fadeIn",void 0),l.xp6(4),l.hij(" ",i.htmlLabel.TEXT.ADD_EXPENSE," "),l.xp6(1),l.Q6J("formGroup",i.addExpenseForm),l.xp6(5),l.Oqu(i.htmlLabel.TEXT.EXPENSE),l.xp6(1),l.Q6J("placeholder",i.htmlLabel.PLACEHOLDER.ENTER_EXPENSE),l.xp6(1),l.Q6J("ngIf",null==i.expense?null:i.expense.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==i.expense?null:i.expense.hasError("invalidName")),l.xp6(4),l.Oqu(i.htmlLabel.TEXT.AMOUNT),l.xp6(1),l.Q6J("placeholder",i.htmlLabel.PLACEHOLDER.ENTER_AMOUNT),l.xp6(1),l.Q6J("ngIf",null==i.amount?null:i.amount.hasError("required")),l.xp6(1),l.Q6J("ngIf",null==i.amount?null:i.amount.hasError("invalidAmount")),l.xp6(4),l.Oqu(i.htmlLabel.TEXT.MODE),l.xp6(2),l.Q6J("ngForOf",i.modeOptions),l.xp6(1),l.Q6J("ngIf",null==i.mode?null:i.mode.hasError("required")),l.xp6(4),l.Oqu(i.htmlLabel.TEXT.CATEGORY),l.xp6(2),l.Q6J("ngForOf",i.categoryOptions),l.xp6(1),l.Q6J("ngIf",null==i.category?null:i.category.hasError("required")),l.xp6(4),l.Oqu(i.htmlLabel.TEXT.DATE),l.xp6(1),l.s9C("max",l.xi3(40,25,i.today,"yyyy-MM-dd")),l.Q6J("matDatepicker",t),l.xp6(2),l.Q6J("for",t),l.xp6(3),l.Q6J("ngIf",null==i.date?null:i.date.hasError("required")),l.xp6(4),l.Oqu(i.htmlLabel.TEXT.NOTE),l.xp6(1),l.Q6J("placeholder",i.htmlLabel.PLACEHOLDER.ENTER_NOTE),l.xp6(3),l.Oqu(i.htmlLabel.BUTTON.ADD_EXPENSE)}}let ip=(()=>{class n{constructor(t,i,a){this._formBuilder=t,this._snackBarService=i,this._expenseService=a,this._ngUnsubscribe=new ot.x,this.htmlLabel=R.uW,this.validationMessages=R.X3.ERROR,this.today=new Date,this.snackBarConfig=R.Sn,this.loadSpinner=!1,this.categoryOptions=[],this.modeOptions=[]}ngOnInit(){this.addExpenseForm=this._formBuilder.group({expense:["",[U.kI.required,n=>{let e=n.value;if(e&&e.trim().length>0){let t=e.match(/\w/g);return!t||t.length<3?{invalidName:!0}:null}return e&&0==e.trim().length?{invalidName:!0}:null}]],amount:["",[U.kI.required,n=>{let e=n.value;return e&&e.length?R.uX.AMOUNT_REGEX.test(e)?null:{invalidAmount:!0}:null}]],category:["",[U.kI.required]],mode:["",[U.kI.required]],date:["",[U.kI.required]],note:[""]}),this._loadSharedData()}_loadSharedData(){var t=this;return(0,Ro.Z)(function*(){t.loadSpinner=!0,t._expenseService.getSharedData().pipe((0,dt.R)(t._ngUnsubscribe.asObservable())).subscribe(i=>{i&&(t.categoryOptions=i.categoryOptions||[],t.modeOptions=i.modeOptions||[],t.loadSpinner=!1)})})()}addExpense(){var t=this;return(0,Ro.Z)(function*(){if(t.addExpenseForm.valid){t.loadSpinner=!0;const i=t.addExpenseForm.value;i.category=t.categoryOptions.find(s=>s.id==i.category).name,i.mode=t.modeOptions.find(s=>s.id==i.mode).name,i.date=new Date(i.date).toDateString();let a=yield t._expenseService.addExpense(t.addExpenseForm.value);a?(t._snackBarService.showSnackBar(500==a.status?R.X3.ERROR.SERVER_ERROR:a.message,t.snackBarConfig.DELAY,a.status<400?t.snackBarConfig.SUCCESS:t.snackBarConfig.ERROR),201==a.status&&t.addExpenseForm.reset()):t._snackBarService.showSnackBar(R.X3.ERROR.SERVER_ERROR,t.snackBarConfig.DELAY,t.snackBarConfig.ERROR),t.loadSpinner=!1}else t._snackBarService.showSnackBar(R.X3.ERROR.FILL_ALL,t.snackBarConfig.DELAY,t.snackBarConfig.ERROR)})()}get expense(){return this.addExpenseForm.get("expense")}get amount(){return this.addExpenseForm.get("amount")}get mode(){return this.addExpenseForm.get("mode")}get category(){return this.addExpenseForm.get("category")}get date(){return this.addExpenseForm.get("date")}ngOnDestroy(){this._ngUnsubscribe.next(),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(U.qu),l.Y36(Po.o),l.Y36(yo.$))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-add-expense"]],decls:2,vars:2,consts:[["class","add-expense-main",4,"ngIf"],[3,"isLoading"],[1,"add-expense-main"],[1,"add-expense-form-main"],[1,"header"],[1,"align-center","text-medium","weight-600"],[1,"form",3,"formGroup"],[1,"form-container"],["appearance","outline",1,"full-width"],[1,"text-small","weight-500"],["matInput","","type","text","autocomplete","off","formControlName","expense",1,"text-small",3,"placeholder"],[4,"ngIf"],["matInput","","type","text","autocomplete","off","formControlName","amount",1,"text-small",3,"placeholder"],["formControlName","mode"],["class","text-small","ngClass","option",3,"value",4,"ngFor","ngForOf"],["formControlName","category"],["matInput","","formControlName","date","readonly","",1,"text-small",2,"cursor","pointer",3,"matDatepicker","max","click"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","text","autocomplete","off","formControlName","note",1,"text-small",3,"placeholder"],[1,"d-flex","justify-content-center","align-items-center"],[1,"btn","btn-primary","mt-1",3,"click"],["ngClass","option",1,"text-small",3,"value"]],template:function(t,i){1&t&&(l.YNc(0,ep,53,28,"div",0),l._UZ(1,"app-spinner",1)),2&t&&(l.Q6J("ngIf",i.categoryOptions.length&&i.modeOptions.length),l.xp6(1),l.Q6J("isLoading",i.loadSpinner))},dependencies:[z.mk,z.sg,z.O5,U.Fj,U.JJ,U.JL,U.sg,U.u,bu,wo,Bn,Du,sf,Io,E.ey,Bf,Kn,Wf,zn.O,z.uU],styles:[".add-expense-main[_ngcontent-%COMP%]{width:100%;padding:10px 15px;min-height:100dvh - 50px}.add-expense-form-main[_ngcontent-%COMP%]{width:100%;background-color:var(--top-section-card-background);border:1px solid var(--top-section-card-border-color);box-shadow:var(--top-section-card-shadow);border-radius:20px;padding:30px 25px}.add-expense-form-main[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.text-small[_ngcontent-%COMP%]{color:var(--sidebar-item-text-color)}.text-big[_ngcontent-%COMP%], .text-medium[_ngcontent-%COMP%]{color:var(--top-section-card-amount-text-color)}.form-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:30px;row-gap:25px}.full-width[_ngcontent-%COMP%]{width:100%}.option[_ngcontent-%COMP%]:hover{background-color:red}.option[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3234387c}@media screen and (max-width: 600px){.form-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],data:{animation:[(0,T.X$)("fadeIn",[(0,T.eR)(":enter",[(0,T.oB)({opacity:0}),(0,T.jt)("300ms ease-in",(0,T.oB)({opacity:1}))])])]}}),n})(),sp=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-show-expense"]],decls:2,vars:0,template:function(t,i){1&t&&(l.TgZ(0,"p"),l._uU(1,"show-expense works!"),l.qZA())}}),n})();var op=O(919);let Qn=(()=>{class n{constructor(t,i){this._authService=t,this._router=i}canActivate(t,i){return!!this._authService.isLoggedIn()||(this._router.navigate([R.Z6.ERROR_PAGE],{queryParams:{code:403}}),!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(op.e),l.LFG(Wi.F0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rp=[{path:"",redirectTo:R.Z6.DASHBOARD,pathMatch:"full"},{path:R.Z6.DASHBOARD,component:Qu,canActivate:[Qn]},{path:R.Z6.ADD_EXPENSE,component:ip,canActivate:[Qn]},{path:R.Z6.LIST_EXPENSE,component:sp,canActivate:[Qn]}];let lp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Wi.Bz.forChild(rp),Wi.Bz]}),n})(),cp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[z.ez]}),n})();var dp=O(6046),hp=O(4989);let up=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Po.o],imports:[z.ez,lp,cp,U.u5,U.UX,rf,Bi,qu,E.XK,Gf,dp.ZX,hp.h,zn.O]}),n})()}}]);