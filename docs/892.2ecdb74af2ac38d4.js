"use strict";var Uf=Object.defineProperty,Wf=(re,yt,T)=>yt in re?Uf(re,yt,{enumerable:!0,configurable:!0,writable:!0,value:T}):re[yt]=T,C=(re,yt,T)=>(Wf(re,"symbol"!=typeof yt?yt+"":yt,T),T);(self.webpackChunkapplication=self.webpackChunkapplication||[]).push([[892],{8892:(re,yt,T)=>{T.r(yt),T.d(yt,{ExpenseModule:()=>qf});var B=T(6895),qi=T(6239),it=T(7579),Ui=T(1135),rt=T(2722),P=T(6492);function le(n){return n+.5|0}const wt=(n,e,t)=>Math.max(Math.min(n,t),e);function Me(n){return wt(le(2.55*n),0,255)}function Ft(n){return wt(le(255*n),0,255)}function kt(n){return wt(le(n/2.55)/100,0,1)}function aa(n){return wt(le(100*n),0,100)}const gt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Wi=[..."0123456789ABCDEF"],Jo=n=>Wi[15&n],Qo=n=>Wi[(240&n)>>4]+Wi[15&n],Ke=n=>(240&n)>>4==(15&n);const nr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sa(n,e,t){const i=e*Math.min(t,1-t),a=(s,r=(s+n/30)%12)=>t-i*Math.max(Math.min(r-3,9-r,1),-1);return[a(0),a(8),a(4)]}function ar(n,e,t){const i=(a,s=(a+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function sr(n,e,t){const i=sa(n,1,.5);let a;for(e+t>1&&(a=1/(e+t),e*=a,t*=a),a=0;a<3;a++)i[a]*=1-e-t,i[a]+=e;return i}function Gi(n){const t=n.r/255,i=n.g/255,a=n.b/255,s=Math.max(t,i,a),r=Math.min(t,i,a),l=(s+r)/2;let c,d,h;return s!==r&&(h=s-r,d=l>.5?h/(2-s-r):h/(s+r),c=function or(n,e,t,i,a){return n===a?(e-t)/i+(e<t?6:0):e===a?(t-n)/i+2:(n-e)/i+4}(t,i,a,h,s),c=60*c+.5),[0|c,d||0,l]}function $i(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Ft)}function Xi(n,e,t){return $i(sa,n,e,t)}function oa(n){return(n%360+360)%360}const ra={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},la={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ti;const fr=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Ji=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,ce=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function ei(n,e,t){if(n){let i=Gi(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,0===e?360:1)),i=Xi(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function ca(n,e){return n&&Object.assign(e||{},n)}function da(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Ft(n[3]))):(e=ca(n,{r:0,g:0,b:0,a:1})).a=Ft(e.a),e}function br(n){return"r"===n.charAt(0)?function gr(n){const e=fr.exec(n);let i,a,s,t=255;if(e){if(e[7]!==i){const r=+e[7];t=e[8]?Me(r):wt(255*r,0,255)}return i=+e[1],a=+e[3],s=+e[5],i=255&(e[2]?Me(i):wt(i,0,255)),a=255&(e[4]?Me(a):wt(a,0,255)),s=255&(e[6]?Me(s):wt(s,0,255)),{r:i,g:a,b:s,a:t}}}(n):function cr(n){const e=nr.exec(n);let i,t=255;if(!e)return;e[5]!==i&&(t=e[6]?Me(+e[5]):Ft(+e[5]));const a=oa(+e[2]),s=+e[3]/100,r=+e[4]/100;return i="hwb"===e[1]?function rr(n,e,t){return $i(sr,n,e,t)}(a,s,r):"hsv"===e[1]?function lr(n,e,t){return $i(ar,n,e,t)}(a,s,r):Xi(a,s,r),{r:i[0],g:i[1],b:i[2],a:t}}(n)}class de{constructor(e){if(e instanceof de)return e;const t=typeof e;let i;"object"===t?i=da(e):"string"===t&&(i=function tr(n){var t,e=n.length;return"#"===n[0]&&(4===e||5===e?t={r:255&17*gt[n[1]],g:255&17*gt[n[2]],b:255&17*gt[n[3]],a:5===e?17*gt[n[4]]:255}:(7===e||9===e)&&(t={r:gt[n[1]]<<4|gt[n[2]],g:gt[n[3]]<<4|gt[n[4]],b:gt[n[5]]<<4|gt[n[6]],a:9===e?gt[n[7]]<<4|gt[n[8]]:255})),t}(e)||function pr(n){ti||(ti=function ur(){const n={},e=Object.keys(la),t=Object.keys(ra);let i,a,s,r,l;for(i=0;i<e.length;i++){for(r=l=e[i],a=0;a<t.length;a++)s=t[a],l=l.replace(s,ra[s]);s=parseInt(la[r],16),n[l]=[s>>16&255,s>>8&255,255&s]}return n}(),ti.transparent=[0,0,0,0]);const e=ti[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}(e)||br(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=ca(this._rgb);return e&&(e.a=kt(e.a)),e}set rgb(e){this._rgb=da(e)}rgbString(){return this._valid?function mr(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${kt(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function ir(n){var e=(n=>Ke(n.r)&&Ke(n.g)&&Ke(n.b)&&Ke(n.a))(n)?Jo:Qo;return n?"#"+e(n.r)+e(n.g)+e(n.b)+((n,e)=>n<255?e(n):"")(n.a,e):void 0}(this._rgb):void 0}hslString(){return this._valid?function hr(n){if(!n)return;const e=Gi(n),t=e[0],i=aa(e[1]),a=aa(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${a}%, ${kt(n.a)})`:`hsl(${t}, ${i}%, ${a}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,a=e.rgb;let s;const r=t===s?.5:t,l=2*r-1,c=i.a-a.a,d=((l*c==-1?l:(l+c)/(1+l*c))+1)/2;s=1-d,i.r=255&d*i.r+s*a.r+.5,i.g=255&d*i.g+s*a.g+.5,i.b=255&d*i.b+s*a.b+.5,i.a=r*i.a+(1-r)*a.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function _r(n,e,t){const i=ce(kt(n.r)),a=ce(kt(n.g)),s=ce(kt(n.b));return{r:Ft(Ji(i+t*(ce(kt(e.r))-i))),g:Ft(Ji(a+t*(ce(kt(e.g))-a))),b:Ft(Ji(s+t*(ce(kt(e.b))-s))),a:n.a+t*(e.a-n.a)}}(this._rgb,e._rgb,t)),this}clone(){return new de(this.rgb)}alpha(e){return this._rgb.a=Ft(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=le(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ei(this._rgb,2,e),this}darken(e){return ei(this._rgb,2,-e),this}saturate(e){return ei(this._rgb,1,e),this}desaturate(e){return ei(this._rgb,1,-e),this}rotate(e){return function dr(n,e){var t=Gi(n);t[0]=oa(t[0]+e),t=Xi(t),n.r=t[0],n.g=t[1],n.b=t[2]}(this._rgb,e),this}}function At(){}const xr=(()=>{let n=0;return()=>n++})();function L(n){return null==n}function Z(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function V(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}function $(n){return("number"==typeof n||n instanceof Number)&&isFinite(+n)}function ht(n,e){return $(n)?n:e}function I(n,e){return typeof n>"u"?e:n}const ha=(n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Y(n,e,t){if(n&&"function"==typeof n.call)return n.apply(t,e)}function H(n,e,t,i){let a,s,r;if(Z(n))if(s=n.length,i)for(a=s-1;a>=0;a--)e.call(t,n[a],a);else for(a=0;a<s;a++)e.call(t,n[a],a);else if(V(n))for(r=Object.keys(n),s=r.length,a=0;a<s;a++)e.call(t,n[r[a]],r[a])}function ii(n,e){let t,i,a,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(a=n[t],s=e[t],a.datasetIndex!==s.datasetIndex||a.index!==s.index)return!1;return!0}function ni(n){if(Z(n))return n.map(ni);if(V(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let a=0;for(;a<i;++a)e[t[a]]=ni(n[t[a]]);return e}return n}function ua(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function vr(n,e,t,i){if(!ua(n))return;const a=e[n],s=t[n];V(a)&&V(s)?Ce(a,s,i):e[n]=ni(s)}function Ce(n,e,t){const i=Z(e)?e:[e],a=i.length;if(!V(n))return n;const s=(t=t||{}).merger||vr;let r;for(let l=0;l<a;++l){if(r=i[l],!V(r))continue;const c=Object.keys(r);for(let d=0,h=c.length;d<h;++d)s(c[d],n,r,t)}return n}function De(n,e){return Ce(n,e,{merger:Mr})}function Mr(n,e,t){if(!ua(n))return;const i=e[n],a=t[n];V(i)&&V(a)?De(i,a):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ni(a))}const pa={"":n=>n,x:n=>n.x,y:n=>n.y};function Lt(n,e){return(pa[e]||(pa[e]=function Dr(n){const e=function Cr(n){const e=n.split("."),t=[];let i="";for(const a of e)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}(n);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e)))(n)}function Qi(n){return n.charAt(0).toUpperCase()+n.slice(1)}const we=n=>typeof n<"u",Vt=n=>"function"==typeof n,fa=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0},j=Math.PI,q=2*j,kr=q+j,ai=Number.POSITIVE_INFINITY,Ar=j/180,X=j/2,jt=j/4,ga=2*j/3,Bt=Math.log10,vt=Math.sign;function ke(n,e,t){return Math.abs(n-e)<t}function ma(n){const e=Math.round(n);n=ke(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Bt(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function he(n){return!function Tr(n){return"symbol"==typeof n||"object"==typeof n&&null!==n&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function _a(n,e,t){let i,a,s;for(i=0,a=n.length;i<a;i++)s=n[i][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function mt(n){return n*(j/180)}function Ki(n){return n*(180/j)}function ba(n){if(!$(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function xa(n,e){const t=e.x-n.x,i=e.y-n.y,a=Math.sqrt(t*t+i*i);let s=Math.atan2(i,t);return s<-.5*j&&(s+=q),{angle:s,distance:a}}function tn(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function Er(n,e){return(n-e+kr)%q-j}function ut(n){return(n%q+q)%q}function Ae(n,e,t,i){const a=ut(n),s=ut(e),r=ut(t),l=ut(s-a),c=ut(r-a),d=ut(a-s),h=ut(a-r);return a===s||a===r||i&&s===r||l>c&&d<h}function K(n,e,t){return Math.max(e,Math.min(t,n))}function St(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function en(n,e,t){t=t||(r=>n[r]<e);let s,i=n.length-1,a=0;for(;i-a>1;)s=a+i>>1,t(s)?a=s:i=s;return{lo:a,hi:i}}const Tt=(n,e,t,i)=>en(n,t,i?a=>{const s=n[a][e];return s<t||s===t&&n[a+1][e]===t}:a=>n[a][e]<t),Ir=(n,e,t)=>en(n,t,i=>n[i][e]>=t),ya=["push","pop","shift","splice","unshift"];function va(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,a=i.indexOf(e);-1!==a&&i.splice(a,1),!(i.length>0)&&(ya.forEach(s=>{delete n[s]}),delete n._chartjs)}function Ma(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Ca=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function Da(n,e){let t=[],i=!1;return function(...a){t=a,i||(i=!0,Ca.call(window,()=>{i=!1,n.apply(e,t)}))}}const nn=n=>"start"===n?"left":"end"===n?"right":"center",nt=(n,e,t)=>"start"===n?e:"end"===n?t:(e+t)/2;function wa(n,e,t){const i=e.length;let a=0,s=i;if(n._sorted){const{iScale:r,vScale:l,_parsed:c}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,h=r.axis,{min:u,max:p,minDefined:f,maxDefined:g}=r.getUserBounds();if(f){if(a=Math.min(Tt(c,h,u).lo,t?i:Tt(e,h,r.getPixelForValue(u)).lo),d){const m=c.slice(0,a+1).reverse().findIndex(_=>!L(_[l.axis]));a-=Math.max(0,m)}a=K(a,0,i-1)}if(g){let m=Math.max(Tt(c,r.axis,p,!0).hi+1,t?0:Tt(e,h,r.getPixelForValue(p),!0).hi+1);if(d){const _=c.slice(m-1).findIndex(b=>!L(b[l.axis]));m+=Math.max(0,_)}s=K(m,a,i)-a}else s=i-a}return{start:a,count:s}}function ka(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,a={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=a,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,a),s}const si=n=>0===n||1===n,Aa=(n,e,t)=>-Math.pow(2,10*(n-=1))*Math.sin((n-e)*q/t),Sa=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*q/t)+1,Se={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*X),easeOutSine:n=>Math.sin(n*X),easeInOutSine:n=>-.5*(Math.cos(j*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>si(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>si(n)?n:Aa(n,.075,.3),easeOutElastic:n=>si(n)?n:Sa(n,.075,.3),easeInOutElastic:n=>si(n)?n:n<.5?.5*Aa(2*n,.1125,.45):.5+.5*Sa(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let e=1.70158;return(n/=.5)<1?n*n*((1+(e*=1.525))*n-e)*.5:.5*((n-=2)*n*((1+(e*=1.525))*n+e)+2)},easeInBounce:n=>1-Se.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*Se.easeInBounce(2*n):.5*Se.easeOutBounce(2*n-1)+.5};function an(n){if(n&&"object"==typeof n){const e=n.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Ta(n){return an(n)?n:new de(n)}function sn(n){return an(n)?n:new de(n).saturate(.5).darken(.1).hexString()}const Br=["x","y","borderWidth","radius","tension"],Nr=["color","borderColor","backgroundColor"],Oa=new Map;function Te(n,e,t){return function Yr(n,e){e=e||{};const t=n+JSON.stringify(e);let i=Oa.get(t);return i||(i=new Intl.NumberFormat(n,e),Oa.set(t,i)),i}(e,t).format(n)}const Ea={values:n=>Z(n)?n:""+n,numeric(n,e,t){if(0===n)return"0";const i=this.chart.options.locale;let a,s=n;if(t.length>1){const d=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),s=function Zr(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}(n,t)}const r=Bt(Math.abs(s)),l=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),c={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(c,this.options.ticks.format),Te(n,i,c)},logarithmic(n,e,t){if(0===n)return"0";const i=t[e].significand||n/Math.pow(10,Math.floor(Bt(n)));return[1,2,3,5,10,15].includes(i)||e>.8*t.length?Ea.numeric.call(this,n,e,t):""}};var oi={formatters:Ea};const qt=Object.create(null),on=Object.create(null);function Oe(n,e){if(!e)return n;const t=e.split(".");for(let i=0,a=t.length;i<a;++i){const s=t[i];n=n[s]||(n[s]=Object.create(null))}return n}function rn(n,e,t){return"string"==typeof e?Ce(Oe(n,e),t):Ce(Oe(n,""),e)}class qr{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>sn(a.backgroundColor),this.hoverBorderColor=(i,a)=>sn(a.borderColor),this.hoverColor=(i,a)=>sn(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return rn(this,e,t)}get(e){return Oe(this,e)}describe(e,t){return rn(on,e,t)}override(e,t){return rn(qt,e,t)}route(e,t,i,a){const s=Oe(this,e),r=Oe(this,i),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const c=this[l],d=r[a];return V(c)?Object.assign({},d,c):I(c,d)},set(c){this[l]=c}}})}apply(e){e.forEach(t=>t(this))}}var U=new qr({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function Hr(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),n.set("animations",{colors:{type:"color",properties:Nr},numbers:{type:"number",properties:Br}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function zr(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function jr(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:oi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function ri(n,e,t,i,a){let s=e[a];return s||(s=e[a]=n.measureText(a).width,t.push(a)),s>i&&(i=s),i}function Wr(n,e,t,i){let a=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(a=i.data={},s=i.garbageCollect=[],i.font=e),n.save(),n.font=e;let r=0;const l=t.length;let c,d,h,u,p;for(c=0;c<l;c++)if(u=t[c],null==u||Z(u)){if(Z(u))for(d=0,h=u.length;d<h;d++)p=u[d],null!=p&&!Z(p)&&(r=ri(n,a,s,r,p))}else r=ri(n,a,s,r,u);n.restore();const f=s.length/2;if(f>t.length){for(c=0;c<f;c++)delete a[s[c]];s.splice(0,f)}return r}function Ut(n,e,t){const i=n.currentDevicePixelRatio,a=0!==t?Math.max(t/2,.5):0;return Math.round((e-a)*i)/i+a}function Pa(n,e){!e&&!n||((e=e||n.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function ln(n,e,t,i){Ia(n,e,t,i,null)}function Ia(n,e,t,i,a){let s,r,l,c,d,h,u,p;const f=e.pointStyle,g=e.rotation,m=e.radius;let _=(g||0)*Ar;if(f&&"object"==typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(t,i),n.rotate(_),n.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void n.restore();if(!(isNaN(m)||m<=0)){switch(n.beginPath(),f){default:a?n.ellipse(t,i,a/2,m,0,0,q):n.arc(t,i,m,0,q),n.closePath();break;case"triangle":h=a?a/2:m,n.moveTo(t+Math.sin(_)*h,i-Math.cos(_)*m),_+=ga,n.lineTo(t+Math.sin(_)*h,i-Math.cos(_)*m),_+=ga,n.lineTo(t+Math.sin(_)*h,i-Math.cos(_)*m),n.closePath();break;case"rectRounded":d=.516*m,c=m-d,r=Math.cos(_+jt)*c,u=Math.cos(_+jt)*(a?a/2-d:c),l=Math.sin(_+jt)*c,p=Math.sin(_+jt)*(a?a/2-d:c),n.arc(t-u,i-l,d,_-j,_-X),n.arc(t+p,i-r,d,_-X,_),n.arc(t+u,i+l,d,_,_+X),n.arc(t-p,i+r,d,_+X,_+j),n.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*m,h=a?a/2:c,n.rect(t-h,i-c,2*h,2*c);break}_+=jt;case"rectRot":u=Math.cos(_)*(a?a/2:m),r=Math.cos(_)*m,l=Math.sin(_)*m,p=Math.sin(_)*(a?a/2:m),n.moveTo(t-u,i-l),n.lineTo(t+p,i-r),n.lineTo(t+u,i+l),n.lineTo(t-p,i+r),n.closePath();break;case"crossRot":_+=jt;case"cross":u=Math.cos(_)*(a?a/2:m),r=Math.cos(_)*m,l=Math.sin(_)*m,p=Math.sin(_)*(a?a/2:m),n.moveTo(t-u,i-l),n.lineTo(t+u,i+l),n.moveTo(t+p,i-r),n.lineTo(t-p,i+r);break;case"star":u=Math.cos(_)*(a?a/2:m),r=Math.cos(_)*m,l=Math.sin(_)*m,p=Math.sin(_)*(a?a/2:m),n.moveTo(t-u,i-l),n.lineTo(t+u,i+l),n.moveTo(t+p,i-r),n.lineTo(t-p,i+r),_+=jt,u=Math.cos(_)*(a?a/2:m),r=Math.cos(_)*m,l=Math.sin(_)*m,p=Math.sin(_)*(a?a/2:m),n.moveTo(t-u,i-l),n.lineTo(t+u,i+l),n.moveTo(t+p,i-r),n.lineTo(t-p,i+r);break;case"line":r=a?a/2:Math.cos(_)*m,l=Math.sin(_)*m,n.moveTo(t-r,i-l),n.lineTo(t+r,i+l);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(_)*(a?a/2:m),i+Math.sin(_)*m);break;case!1:n.closePath()}n.fill(),e.borderWidth>0&&n.stroke()}}function Ot(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function li(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function ci(n){n.restore()}function Gr(n,e,t,i,a){if(!e)return n.lineTo(t.x,t.y);if("middle"===a){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else"after"===a!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function $r(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function Jr(n,e,t,i,a){if(a.strikethrough||a.underline){const s=n.measureText(i),r=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,c=t-s.actualBoundingBoxAscent,d=t+s.actualBoundingBoxDescent,h=a.strikethrough?(c+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(r,h),n.lineTo(l,h),n.stroke()}}function Qr(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Wt(n,e,t,i,a,s={}){const r=Z(e)?e:[e],l=s.strokeWidth>0&&""!==s.strokeColor;let c,d;for(n.save(),n.font=a.string,function Xr(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),L(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}(n,s),c=0;c<r.length;++c)d=r[c],s.backdrop&&Qr(n,s.backdrop),l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),L(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(d,t,i,s.maxWidth)),n.fillText(d,t,i,s.maxWidth),Jr(n,t,i,d,s),i+=Number(a.lineHeight);n.restore()}function Ee(n,e){const{x:t,y:i,w:a,h:s,radius:r}=e;n.arc(t+r.topLeft,i+r.topLeft,r.topLeft,1.5*j,j,!0),n.lineTo(t,i+s-r.bottomLeft),n.arc(t+r.bottomLeft,i+s-r.bottomLeft,r.bottomLeft,j,X,!0),n.lineTo(t+a-r.bottomRight,i+s),n.arc(t+a-r.bottomRight,i+s-r.bottomRight,r.bottomRight,X,0,!0),n.lineTo(t+a,i+r.topRight),n.arc(t+a-r.topRight,i+r.topRight,r.topRight,0,-X,!0),n.lineTo(t+r.topLeft,i)}const Kr=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,tl=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function el(n,e){const t=(""+n).match(Kr);if(!t||"normal"===t[1])return 1.2*e;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100}return e*n}const il=n=>+n||0;function cn(n,e){const t={},i=V(e),a=i?Object.keys(e):e,s=V(n)?i?r=>I(n[r],n[e[r]]):r=>n[r]:()=>n;for(const r of a)t[r]=il(s(r));return t}function Ra(n){return cn(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Gt(n){return cn(n,["topLeft","topRight","bottomLeft","bottomRight"])}function at(n){const e=Ra(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Q(n,e){let t=I((n=n||{}).size,(e=e||U.font).size);"string"==typeof t&&(t=parseInt(t,10));let i=I(n.style,e.style);i&&!(""+i).match(tl)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:I(n.family,e.family),lineHeight:el(I(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:I(n.weight,e.weight),string:""};return a.string=function Ur(n){return!n||L(n.size)||L(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(a),a}function Pe(n,e,t,i){let s,r,l,a=!0;for(s=0,r=n.length;s<r;++s)if(l=n[s],void 0!==l&&(void 0!==e&&"function"==typeof l&&(l=l(e),a=!1),void 0!==t&&Z(l)&&(l=l[t%l.length],a=!1),void 0!==l))return i&&!a&&(i.cacheable=!1),l}function Nt(n,e){return Object.assign(Object.create(n),e)}function dn(n,e=[""],t,i,a=(()=>n[0])){const s=t||n;typeof i>"u"&&(i=Na("_fallback",n));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:s,_fallback:i,_getTarget:a,override:l=>dn([l,...n],e,s,i)};return new Proxy(r,{deleteProperty:(l,c)=>(delete l[c],delete l._keys,delete n[0][c],!0),get:(l,c)=>La(l,c,()=>function hl(n,e,t,i){let a;for(const s of e)if(a=Na(al(s,n),t),typeof a<"u")return hn(n,a)?un(t,i,n,a):a}(c,e,n,l)),getOwnPropertyDescriptor:(l,c)=>Reflect.getOwnPropertyDescriptor(l._scopes[0],c),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(l,c)=>Ha(l).includes(c),ownKeys:l=>Ha(l),set(l,c,d){const h=l._storage||(l._storage=a());return l[c]=h[c]=d,delete l._keys,!0}})}function ue(n,e,t,i){const a={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:Fa(n,i),setContext:s=>ue(n,s,t,i),override:s=>ue(n.override(s),e,t,i)};return new Proxy(a,{deleteProperty:(s,r)=>(delete s[r],delete n[r],!0),get:(s,r,l)=>La(s,r,()=>function sl(n,e,t){const{_proxy:i,_context:a,_subProxy:s,_descriptors:r}=n;let l=i[e];return Vt(l)&&r.isScriptable(e)&&(l=function ol(n,e,t,i){const{_proxy:a,_context:s,_subProxy:r,_stack:l}=t;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);l.add(n);let c=e(s,r||i);return l.delete(n),hn(n,c)&&(c=un(a._scopes,a,n,c)),c}(e,l,n,t)),Z(l)&&l.length&&(l=function rl(n,e,t,i){const{_proxy:a,_context:s,_subProxy:r,_descriptors:l}=t;if(typeof s.index<"u"&&i(n))return e[s.index%e.length];if(V(e[0])){const c=e,d=a._scopes.filter(h=>h!==c);e=[];for(const h of c){const u=un(d,a,n,h);e.push(ue(u,s,r&&r[n],l))}}return e}(e,l,n,r.isIndexable)),hn(e,l)&&(l=ue(l,a,s&&s[e],r)),l}(s,r,l)),getOwnPropertyDescriptor:(s,r)=>s._descriptors.allKeys?Reflect.has(n,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,r),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,r)=>Reflect.has(n,r),ownKeys:()=>Reflect.ownKeys(n),set:(s,r,l)=>(n[r]=l,delete s[r],!0)})}function Fa(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:a=e.allKeys}=n;return{allKeys:a,scriptable:t,indexable:i,isScriptable:Vt(t)?t:()=>t,isIndexable:Vt(i)?i:()=>i}}const al=(n,e)=>n?n+Qi(e):e,hn=(n,e)=>V(e)&&"adapters"!==n&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function La(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||"constructor"===e)return n[e];const i=t();return n[e]=i,i}function Va(n,e,t){return Vt(n)?n(e,t):n}const ll=(n,e)=>!0===n?e:"string"==typeof n?Lt(e,n):void 0;function cl(n,e,t,i,a){for(const s of e){const r=ll(t,s);if(r){n.add(r);const l=Va(r._fallback,t,a);if(typeof l<"u"&&l!==t&&l!==i)return l}else if(!1===r&&typeof i<"u"&&t!==i)return null}return!1}function un(n,e,t,i){const a=e._rootScopes,s=Va(e._fallback,t,i),r=[...n,...a],l=new Set;l.add(i);let c=Ba(l,r,t,s||t,i);return!(null===c||typeof s<"u"&&s!==t&&(c=Ba(l,r,s,c,i),null===c))&&dn(Array.from(l),[""],a,s,()=>function dl(n,e,t){const i=n._getTarget();e in i||(i[e]={});const a=i[e];return Z(a)&&V(t)?t:a||{}}(e,t,i))}function Ba(n,e,t,i,a){for(;t;)t=cl(n,e,t,i,a);return t}function Na(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function Ha(n){let e=n._keys;return e||(e=n._keys=function ul(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(a=>!a.startsWith("_")))e.add(i);return Array.from(e)}(n._scopes)),e}function za(n,e,t,i){const{iScale:a}=n,{key:s="r"}=this._parsing,r=new Array(i);let l,c,d,h;for(l=0,c=i;l<c;++l)d=l+t,h=e[d],r[l]={r:a.parse(Lt(h,s),d)};return r}const pl=Number.EPSILON||1e-14,pe=(n,e)=>e<n.length&&!n[e].skip&&n[e],Ya=n=>"x"===n?"y":"x";function fl(n,e,t,i){const a=n.skip?e:n,s=e,r=t.skip?e:t,l=tn(s,a),c=tn(r,s);let d=l/(l+c),h=c/(l+c);d=isNaN(d)?0:d,h=isNaN(h)?0:h;const u=i*d,p=i*h;return{previous:{x:s.x-u*(r.x-a.x),y:s.y-u*(r.y-a.y)},next:{x:s.x+p*(r.x-a.x),y:s.y+p*(r.y-a.y)}}}function di(n,e,t){return Math.max(Math.min(n,t),e)}function xl(n,e,t,i,a){let s,r,l,c;if(e.spanGaps&&(n=n.filter(d=>!d.skip)),"monotone"===e.cubicInterpolationMode)!function _l(n,e="x"){const t=Ya(e),i=n.length,a=Array(i).fill(0),s=Array(i);let r,l,c,d=pe(n,0);for(r=0;r<i;++r)if(l=c,c=d,d=pe(n,r+1),c){if(d){const h=d[e]-c[e];a[r]=0!==h?(d[t]-c[t])/h:0}s[r]=l?d?vt(a[r-1])!==vt(a[r])?0:(a[r-1]+a[r])/2:a[r-1]:a[r]}(function gl(n,e,t){const i=n.length;let a,s,r,l,c,d=pe(n,0);for(let h=0;h<i-1;++h)if(c=d,d=pe(n,h+1),c&&d){if(ke(e[h],0,pl)){t[h]=t[h+1]=0;continue}a=t[h]/e[h],s=t[h+1]/e[h],l=Math.pow(a,2)+Math.pow(s,2),!(l<=9)&&(r=3/Math.sqrt(l),t[h]=a*r*e[h],t[h+1]=s*r*e[h])}})(n,a,s),function ml(n,e,t="x"){const i=Ya(t),a=n.length;let s,r,l,c=pe(n,0);for(let d=0;d<a;++d){if(r=l,l=c,c=pe(n,d+1),!l)continue;const h=l[t],u=l[i];r&&(s=(h-r[t])/3,l[`cp1${t}`]=h-s,l[`cp1${i}`]=u-s*e[d]),c&&(s=(c[t]-h)/3,l[`cp2${t}`]=h+s,l[`cp2${i}`]=u+s*e[d])}}(n,s,e)}(n,a);else{let d=i?n[n.length-1]:n[0];for(s=0,r=n.length;s<r;++s)l=n[s],c=fl(d,l,n[Math.min(s+1,r-(i?0:1))%r],e.tension),l.cp1x=c.previous.x,l.cp1y=c.previous.y,l.cp2x=c.next.x,l.cp2y=c.next.y,d=l}e.capBezierPoints&&function bl(n,e){let t,i,a,s,r,l=Ot(n[0],e);for(t=0,i=n.length;t<i;++t)r=s,s=l,l=t<i-1&&Ot(n[t+1],e),s&&(a=n[t],r&&(a.cp1x=di(a.cp1x,e.left,e.right),a.cp1y=di(a.cp1y,e.top,e.bottom)),l&&(a.cp2x=di(a.cp2x,e.left,e.right),a.cp2y=di(a.cp2y,e.top,e.bottom)))}(n,t)}function pn(){return typeof window<"u"&&typeof document<"u"}function fn(n){let e=n.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function hi(n,e,t){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*e.parentNode[t])):i=n,i}const ui=n=>n.ownerDocument.defaultView.getComputedStyle(n,null),vl=["top","right","bottom","left"];function $t(n,e,t){const i={};t=t?"-"+t:"";for(let a=0;a<4;a++){const s=vl[a];i[s]=parseFloat(n[e+"-"+s+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Xt(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,a=ui(t),s="border-box"===a.boxSizing,r=$t(a,"padding"),l=$t(a,"border","width"),{x:c,y:d,box:h}=function Cl(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:a,offsetY:s}=i;let l,c,r=!1;if(((n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot))(a,s,n.target))l=a,c=s;else{const d=e.getBoundingClientRect();l=i.clientX-d.left,c=i.clientY-d.top,r=!0}return{x:l,y:c,box:r}}(n,t),u=r.left+(h&&l.left),p=r.top+(h&&l.top);let{width:f,height:g}=e;return s&&(f-=r.width+l.width,g-=r.height+l.height),{x:Math.round((c-u)/f*t.width/i),y:Math.round((d-p)/g*t.height/i)}}const pi=n=>Math.round(10*n)/10;function Za(n,e,t){const i=e||1,a=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const r=n.canvas;return r.style&&(t||!r.style.height&&!r.style.width)&&(r.style.height=`${n.height}px`,r.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||r.height!==a||r.width!==s)&&(n.currentDevicePixelRatio=i,r.height=a,r.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const kl=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};pn()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function ja(n,e){const t=function yl(n,e){return ui(n).getPropertyValue(e)}(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Jt(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Al(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:"middle"===i?t<.5?n.y:e.y:"after"===i?t<1?n.y:e.y:t>0?e.y:n.y}}function Sl(n,e,t,i){const a={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},r=Jt(n,a,t),l=Jt(a,s,t),c=Jt(s,e,t),d=Jt(r,l,t),h=Jt(l,c,t);return Jt(d,h,t)}function fe(n,e,t){return n?function(n,e){return{x:t=>n+n+e-t,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,i)=>t-i,leftForLtr:(t,i)=>t-i}}(e,t):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,e)=>n+e,leftForLtr:(n,e)=>n}}function qa(n,e){let t,i;("ltr"===e||"rtl"===e)&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function Ua(n,e){void 0!==e&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function Wa(n){return"angle"===n?{between:Ae,compare:Er,normalize:ut}:{between:St,compare:(e,t)=>e-t,normalize:e=>e}}function Ga({start:n,end:e,count:t,loop:i,style:a}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t==0,style:a}}function $a(n,e,t){if(!t)return[n];const{property:i,start:a,end:s}=t,r=e.length,{compare:l,between:c,normalize:d}=Wa(i),{start:h,end:u,loop:p,style:f}=function El(n,e,t){const{property:i,start:a,end:s}=t,{between:r,normalize:l}=Wa(i),c=e.length;let p,f,{start:d,end:h,loop:u}=n;if(u){for(d+=c,h+=c,p=0,f=c;p<f&&r(l(e[d%c][i]),a,s);++p)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:u,style:n.style}}(n,e,t),g=[];let b,x,M,m=!1,_=null;for(let k=h,S=h;k<=u;++k)x=e[k%r],!x.skip&&(b=d(x[i]),b!==M&&(m=c(b,a,s),null===_&&(m||c(a,M,b)&&0!==l(a,M))&&(_=0===l(b,a)?k:S),null!==_&&(!m||0===l(s,b)||c(s,M,b))&&(g.push(Ga({start:_,end:k,loop:p,count:r,style:f})),_=null),S=k,M=b));return null!==_&&g.push(Ga({start:_,end:u,loop:p,count:r,style:f})),g}function Xa(n,e){const t=[],i=n.segments;for(let a=0;a<i.length;a++){const s=$a(i[a],n.points,e);s.length&&t.push(...s)}return t}function Qa(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Ll(n,e){if(!e)return!1;const t=[],i=function(a,s){return an(s)?(t.includes(s)||t.push(s),t.indexOf(s)):s};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function fi(n,e,t){return n.options.clip?n[t]:e[t]}function Ka(n,e){const t=e._clip;if(t.disabled)return!1;const i=function Vl(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:fi(t,e,"left"),right:fi(t,e,"right"),top:fi(i,e,"top"),bottom:fi(i,e,"bottom")}:e}(e,n.chartArea);return{left:!1===t.left?0:i.left-(!0===t.left?0:t.left),right:!1===t.right?n.width:i.right+(!0===t.right?0:t.right),top:!1===t.top?0:i.top-(!0===t.top?0:t.top),bottom:!1===t.bottom?n.height:i.bottom+(!0===t.bottom?0:t.bottom)}}class Bl{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,a){const r=t.duration;t.listeners[a].forEach(l=>l({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=Ca.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const s=i.items;let c,r=s.length-1,l=!1;for(;r>=0;--r)c=s[r],c._active?(c._total>i.duration&&(i.duration=c._total),c.tick(e),l=!0):(s[r]=s[s.length-1],s.pop());l&&(a.draw(),this._notify(a,i,e,"progress")),s.length||(i.running=!1,this._notify(a,i,e,"complete"),i.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Et=new Bl;const ts="transparent",Nl={boolean:(n,e,t)=>t>.5?e:n,color(n,e,t){const i=Ta(n||ts),a=i.valid&&Ta(e||ts);return a&&a.valid?a.mix(i,t).hexString():e},number:(n,e,t)=>n+(e-n)*t};class Hl{constructor(e,t,i,a){const s=t[i];a=Pe([e.to,a,s,e.from]);const r=Pe([e.from,s,a]);this._active=!0,this._fn=e.fn||Nl[e.type||typeof r],this._easing=Se[e.easing]||Se.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=a,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const a=this._target[this._prop],s=i-this._start,r=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Pe([e.to,t,a,e.from]),this._from=Pe([e.from,a,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,a=this._prop,s=this._from,r=this._loop,l=this._to;let c;if(this._active=s!==l&&(r||t<i),!this._active)return this._target[a]=l,void this._notify(!0);t<0?this._target[a]=s:(c=t/i%2,c=r&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[a]=this._fn(s,l,c))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][t]()}}class es{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!V(e))return;const t=Object.keys(U.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const s=e[a];if(!V(s))return;const r={};for(const l of t)r[l]=s[l];(Z(s.properties)&&s.properties||[a]).forEach(l=>{(l===a||!i.has(l))&&i.set(l,r)})})}_animateOptions(e,t){const i=t.options,a=function Yl(n,e){if(!e)return;let t=n.options;if(t)return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t;n.options=e}(e,i);if(!a)return[];const s=this._createAnimations(a,i);return i.$shared&&function zl(n,e){const t=[],i=Object.keys(e);for(let a=0;a<i.length;a++){const s=n[i[a]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,t){const i=this._properties,a=[],s=e.$animations||(e.$animations={}),r=Object.keys(t),l=Date.now();let c;for(c=r.length-1;c>=0;--c){const d=r[c];if("$"===d.charAt(0))continue;if("options"===d){a.push(...this._animateOptions(e,t));continue}const h=t[d];let u=s[d];const p=i.get(d);if(u){if(p&&u.active()){u.update(p,h,l);continue}u.cancel()}p&&p.duration?(s[d]=u=new Hl(p,e,d,h),a.push(u)):e[d]=h}return a}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(Et.add(this._chart,i),!0):void 0}}function is(n,e){const t=n&&n.options||{},i=t.reverse,a=void 0===t.min?e:0,s=void 0===t.max?e:0;return{start:i?s:a,end:i?a:s}}function ns(n,e){const t=[],i=n._getSortedDatasetMetas(e);let a,s;for(a=0,s=i.length;a<s;++a)t.push(i[a].index);return t}function as(n,e,t,i={}){const a=n.keys,s="single"===i.mode;let r,l,c,d;if(null===e)return;let h=!1;for(r=0,l=a.length;r<l;++r){if(c=+a[r],c===t){if(h=!0,i.all)continue;break}d=n.values[c],$(d)&&(s||0===e||vt(e)===vt(d))&&(e+=d)}return h||i.all?e:0}function gn(n,e){const t=n&&n.options.stacked;return t||void 0===t&&void 0!==e.stack}function Gl(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function ss(n,e,t,i){for(const a of e.getMatchingVisibleMetas(i).reverse()){const s=n[a.index];if(t&&s>0||!t&&s<0)return a.index}return null}function os(n,e){const{chart:t,_cachedMeta:i}=n,a=t._stacks||(t._stacks={}),{iScale:s,vScale:r,index:l}=i,c=s.axis,d=r.axis,h=function Ul(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}(s,r,i),u=e.length;let p;for(let f=0;f<u;++f){const g=e[f],{[c]:m,[d]:_}=g;p=(g._stacks||(g._stacks={}))[d]=Gl(a,h,m),p[l]=_,p._top=ss(p,r,!0,i.type),p._bottom=ss(p,r,!1,i.type),(p._visualValues||(p._visualValues={}))[l]=_}}function mn(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function Ie(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const a of e){const s=a._stacks;if(!s||void 0===s[i]||void 0===s[i][t])return;delete s[i][t],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[t]&&delete s[i]._visualValues[t]}}}const _n=n=>"reset"===n||"none"===n,rs=(n,e)=>e?n:Object.assign({},n);class _t{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=gn(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Ie(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),a=(u,p,f,g)=>"x"===u?p:"r"===u?g:f,s=t.xAxisID=I(i.xAxisID,mn(e,"x")),r=t.yAxisID=I(i.yAxisID,mn(e,"y")),l=t.rAxisID=I(i.rAxisID,mn(e,"r")),c=t.indexAxis,d=t.iAxisID=a(c,s,r,l),h=t.vAxisID=a(c,r,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(d),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&va(this._data,this),e._stacked&&Ie(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(V(t))this._data=function ql(n,e){const{iScale:t,vScale:i}=e,a="x"===t.axis?"x":"y",s="x"===i.axis?"x":"y",r=Object.keys(n),l=new Array(r.length);let c,d,h;for(c=0,d=r.length;c<d;++c)h=r[c],l[c]={[a]:h,[s]:n[h]};return l}(t,this._cachedMeta);else if(i!==t){if(i){va(i,this);const a=this._cachedMeta;Ie(a),a._parsed=[]}t&&Object.isExtensible(t)&&function Fr(n,e){n._chartjs?n._chartjs.listeners.push(e):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ya.forEach(t=>{const i="_onData"+Qi(t),a=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const r=a.apply(this,s);return n._chartjs.listeners.forEach(l=>{"function"==typeof l[i]&&l[i](...s)}),r}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const s=t._stacked;t._stacked=gn(t.vScale,t),t.stack!==i.stack&&(a=!0,Ie(t),t.stack=i.stack),this._resyncElements(e),(a||s!==t._stacked)&&(os(this,t._parsed),t._stacked=gn(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:a}=this,{iScale:s,_stacked:r}=i,l=s.axis;let h,u,p,c=0===e&&t===a.length||i._sorted,d=e>0&&i._parsed[e-1];if(!1===this._parsing)i._parsed=a,i._sorted=!0,p=a;else{p=Z(a[e])?this.parseArrayData(i,a,e,t):V(a[e])?this.parseObjectData(i,a,e,t):this.parsePrimitiveData(i,a,e,t);const f=()=>null===u[l]||d&&u[l]<d[l];for(h=0;h<t;++h)i._parsed[h+e]=u=p[h],c&&(f()&&(c=!1),d=u);i._sorted=c}r&&os(this,p)}parsePrimitiveData(e,t,i,a){const{iScale:s,vScale:r}=e,l=s.axis,c=r.axis,d=s.getLabels(),h=s===r,u=new Array(a);let p,f,g;for(p=0,f=a;p<f;++p)g=p+i,u[p]={[l]:h||s.parse(d[g],g),[c]:r.parse(t[g],g)};return u}parseArrayData(e,t,i,a){const{xScale:s,yScale:r}=e,l=new Array(a);let c,d,h,u;for(c=0,d=a;c<d;++c)h=c+i,u=t[h],l[c]={x:s.parse(u[0],h),y:r.parse(u[1],h)};return l}parseObjectData(e,t,i,a){const{xScale:s,yScale:r}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(a);let h,u,p,f;for(h=0,u=a;h<u;++h)p=h+i,f=t[p],d[h]={x:s.parse(Lt(f,l),p),y:r.parse(Lt(f,c),p)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this._cachedMeta,r=t[e.axis];return as({keys:ns(this.chart,!0),values:t._stacks[e.axis]._visualValues},r,s.index,{mode:i})}updateRangeFromParsed(e,t,i,a){const s=i[t.axis];let r=null===s?NaN:s;const l=a&&i._stacks[t.axis];a&&l&&(a.values=l,r=as(a,s,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const i=this._cachedMeta,a=i._parsed,s=i._sorted&&e===i.iScale,r=a.length,l=this._getOtherScale(e),c=((n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:ns(this.chart,!0),values:null})(t,i),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=function Wl(n){const{min:e,max:t,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:a?t:Number.POSITIVE_INFINITY}}(l);let p,f;function g(){f=a[p];const m=f[l.axis];return!$(f[e.axis])||h>m||u<m}for(p=0;p<r&&(g()||(this.updateRangeFromParsed(d,e,f,c),!s));++p);if(s)for(p=r-1;p>=0;--p)if(!g()){this.updateRangeFromParsed(d,e,f,c);break}return d}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let a,s,r;for(a=0,s=t.length;a<s;++a)r=t[a][e.axis],$(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,a=t.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:a?""+a.getLabelForValue(s[a.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function jl(n){let e,t,i,a;return V(n)?(e=n.top,t=n.right,i=n.bottom,a=n.left):e=t=i=a=n,{top:e,right:t,bottom:i,left:a,disabled:!1===n}}(I(this.options.clip,function Zl(n,e,t){if(!1===t)return!1;const i=is(n,t),a=is(e,t);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,i=this._cachedMeta,a=i.data||[],s=this.chart.chartArea,r=[],l=this._drawStart||0,c=this._drawCount||a.length-l,d=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,l,c),h=l;h<l+c;++h){const u=a[h];u.hidden||(u.active&&d?r.push(u):u.draw(e,s))}for(h=0;h<r.length;++h)r[h].draw(e,s)}getStyle(e,t){const i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const a=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];s=r.$context||(r.$context=function Xl(n,e,t){return Nt(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}(this.getContext(),e,r)),s.parsed=this.getParsed(e),s.raw=a.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function $l(n,e){return Nt(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=a,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const a="active"===t,s=this._cachedDataOpts,r=e+"-"+t,l=s[r],c=this.enableOptionSharing&&we(i);if(l)return rs(l,c);const d=this.chart.config,h=d.datasetElementScopeKeys(this._type,e),u=a?[`${e}Hover`,"hover",e,""]:[e,""],p=d.getOptionScopes(this.getDataset(),h),f=Object.keys(U.elements[e]),m=d.resolveNamedOptions(p,f,()=>this.getContext(i,a,t),u);return m.$shared&&(m.$shared=c,s[r]=Object.freeze(rs(m,c))),m}_resolveAnimations(e,t,i){const a=this.chart,s=this._cachedDataOpts,r=`animation-${t}`,l=s[r];if(l)return l;let c;if(!1!==a.options.animation){const h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,t),p=h.getOptionScopes(this.getDataset(),u);c=h.createResolver(p,this.getContext(e,i,t))}const d=new es(a,c&&c.animations);return c&&c._cacheable&&(s[r]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||_n(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),a=this._sharedOptions,s=this.getSharedOptions(i),r=this.includeOptions(t,s)||s!==a;return this.updateSharedOptions(s,t,i),{sharedOptions:s,includeOptions:r}}updateElement(e,t,i,a){_n(a)?Object.assign(e,i):this._resolveAnimations(t,a).update(e,i)}updateSharedOptions(e,t,i){e&&!_n(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,a){e.active=a;const s=this.getStyle(t,a);this._resolveAnimations(t,i,a).update(e,{options:!a&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const a=i.length,s=t.length,r=Math.min(s,a);r&&this.parse(0,r),s>a?this._insertElements(a,s-a,e):s<a&&this._removeElements(s,a-s)}_insertElements(e,t,i=!0){const a=this._cachedMeta,s=a.data,r=e+t;let l;const c=d=>{for(d.length+=t,l=d.length-1;l>=r;l--)d[l]=d[l-t]};for(c(s),l=e;l<r;++l)s[l]=new this.dataElementType;this._parsing&&c(a._parsed),this.parse(e,t),i&&this.updateElements(s,e,t,"reset")}updateElements(e,t,i,a){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(e,t);i._stacked&&Ie(i,a)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,a]=e;this[t](i,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Kl(n){const e=n.iScale,t=function Ql(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let i=[];for(let a=0,s=t.length;a<s;a++)i=i.concat(t[a].controller.getAllParsedValues(n));n._cache.$bar=Ma(i.sort((a,s)=>a-s))}return n._cache.$bar}(e,n.type);let a,s,r,l,i=e._length;const c=()=>{32767===r||-32768===r||(we(l)&&(i=Math.min(i,Math.abs(r-l)||i)),l=r)};for(a=0,s=t.length;a<s;++a)r=e.getPixelForValue(t[a]),c();for(l=void 0,a=0,s=e.ticks.length;a<s;++a)r=e.getPixelForTick(a),c();return i}function ls(n,e,t,i){return Z(n)?function ic(n,e,t,i){const a=t.parse(n[0],i),s=t.parse(n[1],i),r=Math.min(a,s),l=Math.max(a,s);let c=r,d=l;Math.abs(r)>Math.abs(l)&&(c=l,d=r),e[t.axis]=d,e._custom={barStart:c,barEnd:d,start:a,end:s,min:r,max:l}}(n,e,t,i):e[t.axis]=t.parse(n,i),e}function cs(n,e,t,i){const a=n.iScale,s=n.vScale,r=a.getLabels(),l=a===s,c=[];let d,h,u,p;for(d=t,h=t+i;d<h;++d)p=e[d],u={},u[a.axis]=l||a.parse(r[d],d),c.push(ls(p,u,s,d));return c}function bn(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function sc(n,e,t,i){let a=e.borderSkipped;const s={};if(!a)return void(n.borderSkipped=s);if(!0===a)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:r,end:l,reverse:c,top:d,bottom:h}=function ac(n){let e,t,i,a,s;return n.horizontal?(e=n.base>n.x,t="left",i="right"):(e=n.base<n.y,t="bottom",i="top"),e?(a="end",s="start"):(a="start",s="end"),{start:t,end:i,reverse:e,top:a,bottom:s}}(n);"middle"===a&&t&&(n.enableBorderRadius=!0,(t._top||0)===i?a=d:(t._bottom||0)===i?a=h:(s[ds(h,r,l,c)]=!0,a=d)),s[ds(a,r,l,c)]=!0,n.borderSkipped=s}function ds(n,e,t,i){return i?(n=function oc(n,e,t){return n===e?t:n===t?e:n}(n,e,t),n=hs(n,t,e)):n=hs(n,e,t),n}function hs(n,e,t){return"start"===n?e:"end"===n?t:n}function rc(n,{inflateAmount:e},t){n.inflateAmount="auto"===e?1===t?.33:0:e}C(_t,"defaults",{}),C(_t,"datasetElementType",null),C(_t,"dataElementType",null);class gi extends _t{parsePrimitiveData(e,t,i,a){return cs(e,t,i,a)}parseArrayData(e,t,i,a){return cs(e,t,i,a)}parseObjectData(e,t,i,a){const{iScale:s,vScale:r}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d="x"===s.axis?l:c,h="x"===r.axis?l:c,u=[];let p,f,g,m;for(p=i,f=i+a;p<f;++p)m=t[p],g={},g[s.axis]=s.parse(Lt(m,d),p),u.push(ls(Lt(m,h),g,r,p));return u}updateRangeFromParsed(e,t,i,a){super.updateRangeFromParsed(e,t,i,a);const s=i._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:a}=t,s=this.getParsed(e),r=s._custom,l=bn(r)?"["+r.start+", "+r.end+"]":""+a.getLabelForValue(s[a.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,a){const s="reset"===a,{index:r,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:p}=this._getSharedOptions(t,a);for(let f=t;f<t+i;f++){const g=this.getParsed(f),m=s||L(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),_=this._calculateBarIndexPixels(f,h),b=(g._stacks||{})[l.axis],x={horizontal:d,base:m.base,enableBorderRadius:!b||bn(g._custom)||r===b._top||r===b._bottom,x:d?m.head:_.center,y:d?_.center:m.head,height:d?_.size:Math.abs(m.size),width:d?Math.abs(m.size):_.size};p&&(x.options=u||this.resolveDataElementOptions(f,e[f].active?"active":a));const M=x.options||e[f].options;sc(x,M,b,r),rc(x,M,h.ratio),this.updateElement(e[f],f,x,a)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,r=[],l=this._cachedMeta.controller.getParsed(t),c=l&&l[i.axis],d=h=>{const u=h._parsed.find(f=>f[i.axis]===c),p=u&&u[h.vScale.axis];if(L(p)||isNaN(p))return!0};for(const h of a)if((void 0===t||!d(h))&&((!1===s||-1===r.indexOf(h.stack)||void 0===s&&void 0===h.stack)&&r.push(h.stack),h.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const a=this._getStacks(e,i),s=void 0!==t?a.indexOf(t):-1;return-1===s?a.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,a=[];let s,r;for(s=0,r=t.data.length;s<r;++s)a.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const l=e.barThickness;return{min:l||Kl(t),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i,index:a},options:{base:s,minBarLength:r}}=this,l=s||0,c=this.getParsed(e),d=c._custom,h=bn(d);let g,m,u=c[t.axis],p=0,f=i?this.applyStack(t,c,i):u;f!==u&&(p=f-u,f=u),h&&(u=d.barStart,f=d.barEnd-d.barStart,0!==u&&vt(u)!==vt(d.barEnd)&&(p=0),p+=u);const _=L(s)||h?p:s;let b=t.getPixelForValue(_);if(g=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):b,m=g-b,Math.abs(m)<r){m=function nc(n,e,t){return 0!==n?vt(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}(m,t,l)*r,u===l&&(b-=m/2);const x=t.getPixelForDecimal(0),M=t.getPixelForDecimal(1),v=Math.min(x,M),y=Math.max(x,M);b=Math.max(Math.min(b,y),v),g=b+m,i&&!h&&(c._stacks[t.axis]._visualValues[a]=t.getValueForPixel(g)-t.getValueForPixel(b))}if(b===t.getPixelForValue(l)){const x=vt(m)*t.getLineWidthForValue(l)/2;b+=x,m-=x}return{size:m,base:b,head:g,center:g+m/2}}_calculateBarIndexPixels(e,t){const i=t.scale,a=this.options,s=a.skipNull,r=I(a.maxBarThickness,1/0);let l,c;if(t.grouped){const d=s?this._getStackCount(e):t.stackCount,h="flex"===a.barThickness?function ec(n,e,t,i){const a=e.pixels,s=a[n];let r=n>0?a[n-1]:null,l=n<a.length-1?a[n+1]:null;const c=t.categoryPercentage;null===r&&(r=s-(null===l?e.end-e.start:l-s)),null===l&&(l=s+s-r);const d=s-(s-Math.min(r,l))/2*c;return{chunk:Math.abs(l-r)/2*c/i,ratio:t.barPercentage,start:d}}(e,t,a,d):function tc(n,e,t,i){const a=t.barThickness;let s,r;return L(a)?(s=e.min*t.categoryPercentage,r=t.barPercentage):(s=a*i,r=1),{chunk:s/i,ratio:r,start:e.pixels[n]-s/2}}(e,t,a,d),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=h.start+h.chunk*u+h.chunk/2,c=Math.min(r,h.chunk*h.ratio)}else l=i.getPixelForValue(this.getParsed(e)[i.axis],e),c=Math.min(r,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,a=i.length;let s=0;for(;s<a;++s)null!==this.getParsed(s)[t.axis]&&!i[s].hidden&&i[s].draw(this._ctx)}}C(gi,"id","bar"),C(gi,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),C(gi,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class mi extends _t{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,a){const s=super.parsePrimitiveData(e,t,i,a);for(let r=0;r<s.length;r++)s[r]._custom=this.resolveDataElementOptions(r+i).radius;return s}parseArrayData(e,t,i,a){const s=super.parseArrayData(e,t,i,a);for(let r=0;r<s.length;r++)s[r]._custom=I(t[i+r][2],this.resolveDataElementOptions(r+i).radius);return s}parseObjectData(e,t,i,a){const s=super.parseObjectData(e,t,i,a);for(let r=0;r<s.length;r++){const l=t[i+r];s[r]._custom=I(l&&l.r&&+l.r,this.resolveDataElementOptions(r+i).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:s}=t,r=this.getParsed(e),l=a.getLabelForValue(r.x),c=s.getLabelForValue(r.y),d=r._custom;return{label:i[e]||"",value:"("+l+", "+c+(d?", "+d:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,a){const s="reset"===a,{iScale:r,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,a),h=r.axis,u=l.axis;for(let p=t;p<t+i;p++){const f=e[p],g=!s&&this.getParsed(p),m={},_=m[h]=s?r.getPixelForDecimal(.5):r.getPixelForValue(g[h]),b=m[u]=s?l.getBasePixel():l.getPixelForValue(g[u]);m.skip=isNaN(_)||isNaN(b),d&&(m.options=c||this.resolveDataElementOptions(p,f.active?"active":a),s&&(m.options.radius=0)),this.updateElement(f,p,m,a)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let a=super.resolveDataElementOptions(e,t);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const s=a.radius;return"active"!==t&&(a.radius=0),a.radius+=I(i&&i._custom,s),a}}C(mi,"id","bubble"),C(mi,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),C(mi,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Qt extends _t{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,a=this._cachedMeta;if(!1===this._parsing)a._parsed=i;else{let r,l,s=c=>+i[c];if(V(i[e])){const{key:c="value"}=this._parsing;s=d=>+Lt(i[d],c)}for(r=e,l=e+t;r<l;++r)a._parsed[r]=s(r)}}_getRotation(){return mt(this.options.rotation-90)}_getCircumference(){return mt(this.options.circumference)}_getRotationExtents(){let e=q,t=-q;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,s=a._getRotation(),r=a._getCircumference();e=Math.min(e,s),t=Math.max(t,s+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,a=this._cachedMeta,s=a.data,r=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(i.width,i.height)-r)/2,0),c=Math.min(((n,e)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:+n/e)(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:g,offsetY:m}=function lc(n,e,t){let i=1,a=1,s=0,r=0;if(e<q){const l=n,c=l+e,d=Math.cos(l),h=Math.sin(l),u=Math.cos(c),p=Math.sin(c),f=(M,v,y)=>Ae(M,l,c,!0)?1:Math.max(v,v*t,y,y*t),g=(M,v,y)=>Ae(M,l,c,!0)?-1:Math.min(v,v*t,y,y*t),m=f(0,d,u),_=f(X,h,p),b=g(j,d,u),x=g(j+X,h,p);i=(m-b)/2,a=(_-x)/2,s=-(m+b)/2,r=-(_+x)/2}return{ratioX:i,ratioY:a,offsetX:s,offsetY:r}}(u,h,c),x=Math.max(Math.min((i.width-r)/p,(i.height-r)/f)/2,0),M=ha(this.options.radius,x),y=(M-Math.max(M*c,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*M,this.offsetY=m*M,a.total=this.calculateTotal(),this.outerRadius=M-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const i=this.options,a=this._cachedMeta,s=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===a._parsed[e]||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*s/q)}updateElements(e,t,i,a){const s="reset"===a,r=this.chart,l=r.chartArea,h=(l.left+l.right)/2,u=(l.top+l.bottom)/2,p=s&&r.options.animation.animateScale,f=p?0:this.innerRadius,g=p?0:this.outerRadius,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(t,a);let x,b=this._getRotation();for(x=0;x<t;++x)b+=this._circumference(x,s);for(x=t;x<t+i;++x){const M=this._circumference(x,s),v=e[x],y={x:h+this.offsetX,y:u+this.offsetY,startAngle:b,endAngle:b+M,circumference:M,outerRadius:g,innerRadius:f};_&&(y.options=m||this.resolveDataElementOptions(x,v.active?"active":a)),b+=M,this.updateElement(v,x,y,a)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let a,i=0;for(a=0;a<t.length;a++){const s=e._parsed[a];null!==s&&!isNaN(s)&&this.chart.getDataVisibility(a)&&!t[a].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?q*(Math.abs(e)/t):0}getLabelAndValue(e){const i=this.chart,a=i.data.labels||[],s=Te(this._cachedMeta._parsed[e],i.options.locale);return{label:a[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const i=this.chart;let a,s,r,l,c;if(!e)for(a=0,s=i.data.datasets.length;a<s;++a)if(i.isDatasetVisible(a)){r=i.getDatasetMeta(a),e=r.data,l=r.controller;break}if(!e)return 0;for(a=0,s=e.length;a<s;++a)c=l.resolveDataElementOptions(a),"inner"!==c.borderAlign&&(t=Math.max(t,c.borderWidth||0,c.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,a=e.length;i<a;++i){const s=this.resolveDataElementOptions(i);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(I(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}C(Qt,"id","doughnut"),C(Qt,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),C(Qt,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),C(Qt,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:a}}=e.legend.options;return t.labels.map((s,r)=>{const c=e.getDatasetMeta(0).controller.getStyle(r);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}}});class _i extends _t{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:a=[],_dataset:s}=t,r=this.chart._animationsDisabled;let{start:l,count:c}=wa(t,a,r);this._drawStart=l,this._drawCount=c,ka(t)&&(l=0,c=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=a;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:d},e),this.updateElements(a,l,c,e)}updateElements(e,t,i,a){const s="reset"===a,{iScale:r,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(t,a),p=r.axis,f=l.axis,{spanGaps:g,segment:m}=this.options,_=he(g)?g:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||s||"none"===a,x=t+i,M=e.length;let v=t>0&&this.getParsed(t-1);for(let y=0;y<M;++y){const D=e[y],w=b?D:{};if(y<t||y>=x){w.skip=!0;continue}const k=this.getParsed(y),S=L(k[f]),R=w[p]=r.getPixelForValue(k[p],y),F=w[f]=s||S?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,k,c):k[f],y);w.skip=isNaN(R)||isNaN(F)||S,w.stop=y>0&&Math.abs(k[p]-v[p])>_,m&&(w.parsed=k,w.raw=d.data[y]),u&&(w.options=h||this.resolveDataElementOptions(y,D.active?"active":a)),b||this.updateElement(D,y,w,a),v=k}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,a=e.data||[];if(!a.length)return i;const s=a[0].size(this.resolveDataElementOptions(0)),r=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,s,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}C(_i,"id","line"),C(_i,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),C(_i,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Re extends _t{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const i=this.chart,a=i.data.labels||[],s=Te(this._cachedMeta._parsed[e].r,i.options.locale);return{label:a[e]||"",value:s}}parseObjectData(e,t,i,a){return za.bind(this)(e,t,i,a)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((i,a)=>{const s=this.getParsed(a).r;!isNaN(s)&&this.chart.getDataVisibility(a)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,a=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(a/2,0),l=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,t,i,a){const s="reset"===a,r=this.chart,c=r.options.animation,d=this._cachedMeta.rScale,h=d.xCenter,u=d.yCenter,p=d.getIndexAngle(0)-.5*j;let g,f=p;const m=360/this.countVisibleElements();for(g=0;g<t;++g)f+=this._computeAngle(g,a,m);for(g=t;g<t+i;g++){const _=e[g];let b=f,x=f+this._computeAngle(g,a,m),M=r.getDataVisibility(g)?d.getDistanceFromCenterForValue(this.getParsed(g).r):0;f=x,s&&(c.animateScale&&(M=0),c.animateRotate&&(b=x=p));const v={x:h,y:u,innerRadius:0,outerRadius:M,startAngle:b,endAngle:x,options:this.resolveDataElementOptions(g,_.active?"active":a)};this.updateElement(_,g,v,a)}}countVisibleElements(){let t=0;return this._cachedMeta.data.forEach((i,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?mt(this.resolveDataElementOptions(e,t).angle||i):0}}C(Re,"id","polarArea"),C(Re,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),C(Re,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i,color:a}}=e.legend.options;return t.labels.map((s,r)=>{const c=e.getDatasetMeta(0).controller.getStyle(r);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:a,lineWidth:c.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class xn extends Qt{}C(xn,"id","pie"),C(xn,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class bi extends _t{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,a){return za.bind(this)(e,t,i,a)}update(e){const t=this._cachedMeta,i=t.dataset,a=t.data||[],s=t.iScale.getLabels();if(i.points=a,"resize"!==e){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0),this.updateElement(i,void 0,{_loop:!0,_fullLoop:s.length===a.length,options:r},e)}this.updateElements(a,0,a.length,e)}updateElements(e,t,i,a){const s=this._cachedMeta.rScale,r="reset"===a;for(let l=t;l<t+i;l++){const c=e[l],d=this.resolveDataElementOptions(l,c.active?"active":a),h=s.getPointPositionForValue(l,this.getParsed(l).r),u=r?s.xCenter:h.x,p=r?s.yCenter:h.y,f={x:u,y:p,angle:h.angle,skip:isNaN(u)||isNaN(p),options:d};this.updateElement(c,l,f,a)}}}C(bi,"id","radar"),C(bi,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),C(bi,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class xi extends _t{getLabelAndValue(e){const t=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:s}=t,r=this.getParsed(e),l=a.getLabelForValue(r.x),c=s.getLabelForValue(r.y);return{label:i[e]||"",value:"("+l+", "+c+")"}}update(e){const t=this._cachedMeta,{data:i=[]}=t,a=this.chart._animationsDisabled;let{start:s,count:r}=wa(t,i,a);if(this._drawStart=s,this._drawCount=r,ka(t)&&(s=0,r=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:l,_dataset:c}=t;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=i;const d=this.resolveDatasetElementOptions(e);d.segment=this.options.segment,this.updateElement(l,void 0,{animated:!a,options:d},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,s,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,i,a){const s="reset"===a,{iScale:r,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,h=this.resolveDataElementOptions(t,a),u=this.getSharedOptions(h),p=this.includeOptions(a,u),f=r.axis,g=l.axis,{spanGaps:m,segment:_}=this.options,b=he(m)?m:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||"none"===a;let M=t>0&&this.getParsed(t-1);for(let v=t;v<t+i;++v){const y=e[v],D=this.getParsed(v),w=x?y:{},k=L(D[g]),S=w[f]=r.getPixelForValue(D[f],v),R=w[g]=s||k?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,D,c):D[g],v);w.skip=isNaN(S)||isNaN(R)||k,w.stop=v>0&&Math.abs(D[f]-M[f])>b,_&&(w.parsed=D,w.raw=d.data[v]),p&&(w.options=u||this.resolveDataElementOptions(v,y.active?"active":a)),x||this.updateElement(y,v,w,a),M=D}this.updateSharedOptions(u,a,h)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let l=0;for(let c=t.length-1;c>=0;--c)l=Math.max(l,t[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const i=e.dataset,a=i.options&&i.options.borderWidth||0;if(!t.length)return a;const s=t[0].size(this.resolveDataElementOptions(0)),r=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(a,s,r)/2}}C(xi,"id","scatter"),C(xi,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),C(xi,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var cc=Object.freeze({__proto__:null,BarController:gi,BubbleController:mi,DoughnutController:Qt,LineController:_i,PieController:xn,PolarAreaController:Re,RadarController:bi,ScatterController:xi});function Kt(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yn{constructor(e){C(this,"options"),this.options=e||{}}static override(e){Object.assign(yn.prototype,e)}init(){}formats(){return Kt()}parse(){return Kt()}format(){return Kt()}add(){return Kt()}diff(){return Kt()}startOf(){return Kt()}endOf(){return Kt()}}var dc__date=yn;function hc(n,e,t,i){const{controller:a,data:s,_sorted:r}=n,l=a._cachedMeta.iScale,c=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(l&&e===l.axis&&"r"!==e&&r&&s.length){const d=l._reversePixels?Ir:Tt;if(!i){const h=d(s,e,t);if(c){const{vScale:u}=a._cachedMeta,{_parsed:p}=n,f=p.slice(0,h.lo+1).reverse().findIndex(m=>!L(m[u.axis]));h.lo-=Math.max(0,f);const g=p.slice(h.hi).findIndex(m=>!L(m[u.axis]));h.hi+=Math.max(0,g)}return h}if(a._sharedOptions){const h=s[0],u="function"==typeof h.getRange&&h.getRange(e);if(u){const p=d(s,e,t-u),f=d(s,e,t+u);return{lo:p.lo,hi:f.hi}}}}return{lo:0,hi:s.length-1}}function Fe(n,e,t,i,a){const s=n.getSortedVisibleDatasetMetas(),r=t[e];for(let l=0,c=s.length;l<c;++l){const{index:d,data:h}=s[l],{lo:u,hi:p}=hc(s[l],e,r,a);for(let f=u;f<=p;++f){const g=h[f];g.skip||i(g,d,f)}}}function vn(n,e,t,i,a){const s=[];return!a&&!n.isPointInArea(e)||Fe(n,t,e,function(l,c,d){!a&&!Ot(l,n.chartArea,0)||l.inRange(e.x,e.y,i)&&s.push({element:l,datasetIndex:c,index:d})},!0),s}function Mn(n,e,t,i,a,s){return s||n.isPointInArea(e)?"r"!==t||i?function fc(n,e,t,i,a,s){let r=[];const l=function uc(n){const e=-1!==n.indexOf("x"),t=-1!==n.indexOf("y");return function(i,a){const s=e?Math.abs(i.x-a.x):0,r=t?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}(t);let c=Number.POSITIVE_INFINITY;return Fe(n,t,e,function d(h,u,p){const f=h.inRange(e.x,e.y,a);if(i&&!f)return;const g=h.getCenterPoint(a);if(!s&&!n.isPointInArea(g)&&!f)return;const _=l(e,g);_<c?(r=[{element:h,datasetIndex:u,index:p}],c=_):_===c&&r.push({element:h,datasetIndex:u,index:p})}),r}(n,e,t,i,a,s):function pc(n,e,t,i){let a=[];return Fe(n,t,e,function s(r,l,c){const{startAngle:d,endAngle:h}=r.getProps(["startAngle","endAngle"],i),{angle:u}=xa(r,{x:e.x,y:e.y});Ae(u,d,h)&&a.push({element:r,datasetIndex:l,index:c})}),a}(n,e,t,a):[]}function us(n,e,t,i,a){const s=[],r="x"===t?"inXRange":"inYRange";let l=!1;return Fe(n,t,e,(c,d,h)=>{c[r]&&c[r](e[t],a)&&(s.push({element:c,datasetIndex:d,index:h}),l=l||c.inRange(e.x,e.y,a))}),i&&!l?[]:s}var gc={evaluateInteractionItems:Fe,modes:{index(n,e,t,i){const a=Xt(e,n),s=t.axis||"x",r=t.includeInvisible||!1,l=t.intersect?vn(n,a,s,i,r):Mn(n,a,s,!1,i,r),c=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const h=l[0].index,u=d.data[h];u&&!u.skip&&c.push({element:u,datasetIndex:d.index,index:h})}),c):[]},dataset(n,e,t,i){const a=Xt(e,n),s=t.axis||"xy",r=t.includeInvisible||!1;let l=t.intersect?vn(n,a,s,i,r):Mn(n,a,s,!1,i,r);if(l.length>0){const c=l[0].datasetIndex,d=n.getDatasetMeta(c).data;l=[];for(let h=0;h<d.length;++h)l.push({element:d[h],datasetIndex:c,index:h})}return l},point:(n,e,t,i)=>vn(n,Xt(e,n),t.axis||"xy",i,t.includeInvisible||!1),nearest:(n,e,t,i)=>Mn(n,Xt(e,n),t.axis||"xy",t.intersect,i,t.includeInvisible||!1),x:(n,e,t,i)=>us(n,Xt(e,n),"x",t.intersect,i),y:(n,e,t,i)=>us(n,Xt(e,n),"y",t.intersect,i)}};const ps=["left","top","right","bottom"];function Le(n,e){return n.filter(t=>t.pos===e)}function fs(n,e){return n.filter(t=>-1===ps.indexOf(t.pos)&&t.box.axis===e)}function Ve(n,e){return n.sort((t,i)=>{const a=e?i:t,s=e?t:i;return a.weight===s.weight?a.index-s.index:a.weight-s.weight})}function gs(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function ms(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function yc(n,e,t,i){const{pos:a,box:s}=t,r=n.maxPadding;if(!V(a)){t.size&&(n[a]-=t.size);const u=i[t.stack]||{size:0,count:1};u.size=Math.max(u.size,t.horizontal?s.height:s.width),t.size=u.size/u.count,n[a]+=t.size}s.getPadding&&ms(r,s.getPadding());const l=Math.max(0,e.outerWidth-gs(r,n,"left","right")),c=Math.max(0,e.outerHeight-gs(r,n,"top","bottom")),d=l!==n.w,h=c!==n.h;return n.w=l,n.h=c,t.horizontal?{same:d,other:h}:{same:h,other:d}}function Mc(n,e){const t=e.maxPadding;return function i(a){const s={left:0,top:0,right:0,bottom:0};return a.forEach(r=>{s[r]=Math.max(e[r],t[r])}),s}(n?["left","right"]:["top","bottom"])}function Be(n,e,t,i){const a=[];let s,r,l,c,d,h;for(s=0,r=n.length,d=0;s<r;++s){l=n[s],c=l.box,c.update(l.width||e.w,l.height||e.h,Mc(l.horizontal,e));const{same:u,other:p}=yc(e,t,l,i);d|=u&&a.length,h=h||p,c.fullSize||a.push(l)}return d&&Be(a,e,t,i)||h}function yi(n,e,t,i,a){n.top=t,n.left=e,n.right=e+i,n.bottom=t+a,n.width=i,n.height=a}function _s(n,e,t,i){const a=t.padding;let{x:s,y:r}=e;for(const l of n){const c=l.box,d=i[l.stack]||{count:1,placed:0,weight:1},h=l.stackWeight/d.weight||1;if(l.horizontal){const u=e.w*h,p=d.size||c.height;we(d.start)&&(r=d.start),c.fullSize?yi(c,a.left,r,t.outerWidth-a.right-a.left,p):yi(c,e.left+d.placed,r,u,p),d.start=r,d.placed+=u,r=c.bottom}else{const u=e.h*h,p=d.size||c.width;we(d.start)&&(s=d.start),c.fullSize?yi(c,s,a.top,p,t.outerHeight-a.bottom-a.top):yi(c,s,e.top+d.placed,p,u),d.start=s,d.placed+=u,s=c.right}}e.x=s,e.y=r}var st={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;-1!==t&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const a=at(n.options.layout.padding),s=Math.max(e-a.width,0),r=Math.max(t-a.height,0),l=function xc(n){const e=function mc(n){const e=[];let t,i,a,s,r,l;for(t=0,i=(n||[]).length;t<i;++t)a=n[t],({position:s,options:{stack:r,stackWeight:l=1}}=a),e.push({index:t,box:a,pos:s,horizontal:a.isHorizontal(),weight:a.weight,stack:r&&s+r,stackWeight:l});return e}(n),t=Ve(e.filter(d=>d.box.fullSize),!0),i=Ve(Le(e,"left"),!0),a=Ve(Le(e,"right")),s=Ve(Le(e,"top"),!0),r=Ve(Le(e,"bottom")),l=fs(e,"x"),c=fs(e,"y");return{fullSize:t,leftAndTop:i.concat(s),rightAndBottom:a.concat(c).concat(r).concat(l),chartArea:Le(e,"chartArea"),vertical:i.concat(a).concat(c),horizontal:s.concat(r).concat(l)}}(n.boxes),c=l.vertical,d=l.horizontal;H(n.boxes,m=>{"function"==typeof m.beforeLayout&&m.beforeLayout()});const h=c.reduce((m,_)=>_.box.options&&!1===_.box.options.display?m:m+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:t,padding:a,availableWidth:s,availableHeight:r,vBoxMaxWidth:s/2/h,hBoxMaxHeight:r/2}),p=Object.assign({},a);ms(p,at(i));const f=Object.assign({maxPadding:p,w:s,h:r,x:a.left,y:a.top},a),g=function bc(n,e){const t=function _c(n){const e={};for(const t of n){const{stack:i,pos:a,stackWeight:s}=t;if(!i||!ps.includes(a))continue;const r=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return e}(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=e;let s,r,l;for(s=0,r=n.length;s<r;++s){l=n[s];const{fullSize:c}=l.box,d=t[l.stack],h=d&&l.stackWeight/d.weight;l.horizontal?(l.width=h?h*i:c&&e.availableWidth,l.height=a):(l.width=i,l.height=h?h*a:c&&e.availableHeight)}return t}(c.concat(d),u);Be(l.fullSize,f,u,g),Be(c,f,u,g),Be(d,f,u,g)&&Be(c,f,u,g),function vc(n){const e=n.maxPadding;function t(i){const a=Math.max(e[i]-n[i],0);return n[i]+=a,a}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}(f),_s(l.leftAndTop,f,u,g),f.x+=f.w,f.y+=f.h,_s(l.rightAndBottom,f,u,g),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},H(l.chartArea,m=>{const _=m.box;Object.assign(_,n.chartArea),_.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class bs{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,a){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,a?Math.floor(t/a):i)}}isAttached(e){return!0}updateConfig(e){}}class Cc extends bs{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const vi="$chartjs",Dc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xs=n=>null===n||""===n,ys=!!kl&&{passive:!0};function Ac(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,ys)}function Mi(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function Tc(n,e,t){const i=n.canvas,a=new MutationObserver(s=>{let r=!1;for(const l of s)r=r||Mi(l.addedNodes,i),r=r&&!Mi(l.removedNodes,i);r&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}function Oc(n,e,t){const i=n.canvas,a=new MutationObserver(s=>{let r=!1;for(const l of s)r=r||Mi(l.removedNodes,i),r=r&&!Mi(l.addedNodes,i);r&&t()});return a.observe(document,{childList:!0,subtree:!0}),a}const Ne=new Map;let vs=0;function Ms(){const n=window.devicePixelRatio;n!==vs&&(vs=n,Ne.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function Ic(n,e,t){const i=n.canvas,a=i&&fn(i);if(!a)return;const s=Da((l,c)=>{const d=a.clientWidth;t(l,c),d<a.clientWidth&&t()},window),r=new ResizeObserver(l=>{const c=l[0],d=c.contentRect.width,h=c.contentRect.height;0===d&&0===h||s(d,h)});return r.observe(a),function Ec(n,e){Ne.size||window.addEventListener("resize",Ms),Ne.set(n,e)}(n,s),r}function Cn(n,e,t){t&&t.disconnect(),"resize"===e&&function Pc(n){Ne.delete(n),Ne.size||window.removeEventListener("resize",Ms)}(n)}function Rc(n,e,t){const i=n.canvas,a=Da(s=>{null!==n.ctx&&t(function Sc(n,e){const t=Dc[n.type]||n.type,{x:i,y:a}=Xt(n,e);return{type:t,chart:e,native:n,x:void 0!==i?i:null,y:void 0!==a?a:null}}(s,n))},n);return function kc(n,e,t){n&&n.addEventListener(e,t,ys)}(i,e,a),a}class Fc extends bs{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function wc(n,e){const t=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[vi]={initial:{height:i,width:a,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",xs(a)){const s=ja(n,"width");void 0!==s&&(n.width=s)}if(xs(i))if(""===n.style.height)n.height=n.width/(e||2);else{const s=ja(n,"height");void 0!==s&&(n.height=s)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[vi])return!1;const i=t[vi].initial;["height","width"].forEach(s=>{const r=i[s];L(r)?t.removeAttribute(s):t.setAttribute(s,r)});const a=i.style||{};return Object.keys(a).forEach(s=>{t.style[s]=a[s]}),t.width=t.width,delete t[vi],!0}addEventListener(e,t,i){this.removeEventListener(e,t),(e.$proxies||(e.$proxies={}))[t]=({attach:Tc,detach:Oc,resize:Ic}[t]||Rc)(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),a=i[t];a&&(({attach:Cn,detach:Cn,resize:Cn}[t]||Ac)(e,t,a),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,a){return function wl(n,e,t,i){const a=ui(n),s=$t(a,"margin"),r=hi(a.maxWidth,n,"clientWidth")||ai,l=hi(a.maxHeight,n,"clientHeight")||ai,c=function Dl(n,e,t){let i,a;if(void 0===e||void 0===t){const s=n&&fn(n);if(s){const r=s.getBoundingClientRect(),l=ui(s),c=$t(l,"border","width"),d=$t(l,"padding");e=r.width-d.width-c.width,t=r.height-d.height-c.height,i=hi(l.maxWidth,s,"clientWidth"),a=hi(l.maxHeight,s,"clientHeight")}else e=n.clientWidth,t=n.clientHeight}return{width:e,height:t,maxWidth:i||ai,maxHeight:a||ai}}(n,e,t);let{width:d,height:h}=c;if("content-box"===a.boxSizing){const p=$t(a,"border","width"),f=$t(a,"padding");d-=f.width+p.width,h-=f.height+p.height}return d=Math.max(0,d-s.width),h=Math.max(0,i?d/i:h-s.height),d=pi(Math.min(d,r,c.maxWidth)),h=pi(Math.min(h,l,c.maxHeight)),d&&!h&&(h=pi(d/2)),(void 0!==e||void 0!==t)&&i&&c.height&&h>c.height&&(h=c.height,d=pi(Math.floor(h*i))),{width:d,height:h}}(e,t,i,a)}isAttached(e){const t=e&&fn(e);return!(!t||!t.isConnected)}}class bt{constructor(){C(this,"x"),C(this,"y"),C(this,"active",!1),C(this,"options"),C(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return he(this.x)&&he(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const a={};return e.forEach(s=>{a[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),a}}function Ci(n,e,t,i,a){const s=I(i,0),r=Math.min(I(a,n.length),n.length);let c,d,h,l=0;for(t=Math.ceil(t),a&&(c=a-i,t=c/Math.floor(c/t)),h=s;h<0;)l++,h=Math.round(s+l*t);for(d=Math.max(s,0);d<r;d++)d===h&&(e.push(n[d]),l++,h=Math.round(s+l*t))}C(bt,"defaults",{}),C(bt,"defaultRoutes");const Cs=(n,e,t)=>"top"===e||"left"===e?n[e]+t:n[e]-t,Ds=(n,e)=>Math.min(e||n,n);function ws(n,e){const t=[],i=n.length/e,a=n.length;let s=0;for(;s<a;s+=i)t.push(n[Math.floor(s)]);return t}function jc(n,e,t){const i=n.ticks.length,a=Math.min(e,i-1),s=n._startPixel,r=n._endPixel,l=1e-6;let d,c=n.getPixelForTick(a);if(!(t&&(d=1===i?Math.max(c-s,r-c):0===e?(n.getPixelForTick(1)-c)/2:(c-n.getPixelForTick(a-1))/2,c+=a<e?d:-d,c<s-l||c>r+l)))return c}function He(n){return n.drawTicks?n.tickLength:0}function ks(n,e){if(!n.display)return 0;const t=Q(n.font,e),i=at(n.padding);return(Z(n.text)?n.text.length:1)*t.lineHeight+i.height}function Gc(n,e,t){let i=nn(n);return(t&&"right"!==e||!t&&"right"===e)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class te extends bt{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:a}=this;return e=ht(e,Number.POSITIVE_INFINITY),t=ht(t,Number.NEGATIVE_INFINITY),i=ht(i,Number.POSITIVE_INFINITY),a=ht(a,Number.NEGATIVE_INFINITY),{min:ht(e,i),max:ht(t,a),minDefined:$(e),maxDefined:$(t)}}getMinMax(e){let r,{min:t,max:i,minDefined:a,maxDefined:s}=this.getUserBounds();if(a&&s)return{min:t,max:i};const l=this.getMatchingVisibleMetas();for(let c=0,d=l.length;c<d;++c)r=l[c].controller.getMinMax(this,e),a||(t=Math.min(t,r.min)),s||(i=Math.max(i,r.max));return t=s&&t>i?i:t,i=a&&t>i?t:i,{min:ht(t,ht(i,t)),max:ht(i,ht(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Y(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:a,grace:s,ticks:r}=this.options,l=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function nl(n,e,t){const{min:i,max:a}=n,s=ha(e,(a-i)/2),r=(l,c)=>t&&0===l?0:l+c;return{min:r(i,-Math.abs(s)),max:r(a,s)}}(this,s,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const c=l<this.ticks.length;this._convertTicksToLabels(c?ws(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=function Vc(n,e){const t=n.options.ticks,i=function Bc(n){const e=n.options.offset,t=n._tickSize();return Math.floor(Math.min(n._length/t+(e?0:1),n._maxLength/t))}(n),a=Math.min(t.maxTicksLimit||i,i),s=t.major.enabled?function Hc(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}(e):[],r=s.length,l=s[0],c=s[r-1],d=[];if(r>a)return function zc(n,e,t,i){let r,a=0,s=t[0];for(i=Math.ceil(i),r=0;r<n.length;r++)r===s&&(e.push(n[r]),a++,s=t[a*i])}(e,d,s,r/a),d;const h=function Nc(n,e,t){const i=function Yc(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}(n),a=e.length/t;if(!i)return Math.max(a,1);const s=function Sr(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i==0&&(e.push(i),e.push(n/i));return t===(0|t)&&e.push(t),e.sort((a,s)=>a-s).pop(),e}(i);for(let r=0,l=s.length-1;r<l;r++){const c=s[r];if(c>a)return c}return Math.max(a,1)}(s,e,a);if(r>0){let u,p;const f=r>1?Math.round((c-l)/(r-1)):null;for(Ci(e,d,h,L(f)?0:l-f,l),u=0,p=r-1;u<p;u++)Ci(e,d,h,s[u],s[u+1]);return Ci(e,d,h,c,L(f)?e.length:c+f),d}return Ci(e,d,h),d}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,i,e=this.options.reverse;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Y(this.options.afterUpdate,[this])}beforeSetDimensions(){Y(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Y(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Y(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Y(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,a,s;for(i=0,a=e.length;i<a;i++)s=e[i],s.label=Y(t.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Y(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Y(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Ds(this.ticks.length,e.ticks.maxTicksLimit),a=t.minRotation||0,s=t.maxRotation;let l,c,d,r=a;if(!this._isVisible()||!t.display||a>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=a);const h=this._getLabelSizes(),u=h.widest.width,p=h.highest.height,f=K(this.chart.width-u,0,this.maxWidth);l=e.offset?this.maxWidth/i:f/(i-1),u+6>l&&(l=f/(i-(e.offset?.5:1)),c=this.maxHeight-He(e.grid)-t.padding-ks(e.title,this.chart.options.font),d=Math.sqrt(u*u+p*p),r=Ki(Math.min(Math.asin(K((h.highest.height+6)/l,-1,1)),Math.asin(K(c/d,-1,1))-Math.asin(K(p/d,-1,1)))),r=Math.max(a,Math.min(s,r))),this.labelRotation=r}afterCalculateLabelRotation(){Y(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Y(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:a,grid:s}}=this,r=this._isVisible(),l=this.isHorizontal();if(r){const c=ks(a,t.options.font);if(l?(e.width=this.maxWidth,e.height=He(s)+c):(e.height=this.maxHeight,e.width=He(s)+c),i.display&&this.ticks.length){const{first:d,last:h,widest:u,highest:p}=this._getLabelSizes(),f=2*i.padding,g=mt(this.labelRotation),m=Math.cos(g),_=Math.sin(g);l?e.height=Math.min(this.maxHeight,e.height+(i.mirror?0:_*u.width+m*p.height)+f):e.width=Math.min(this.maxWidth,e.width+(i.mirror?0:m*u.width+_*p.height)+f),this._calculatePadding(d,h,_,m)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,a){const{ticks:{align:s,padding:r},position:l}=this.options,c=0!==this.labelRotation,d="top"!==l&&"x"===this.axis;if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let p=0,f=0;c?d?(p=a*e.width,f=i*t.height):(p=i*e.height,f=a*t.width):"start"===s?f=t.width:"end"===s?p=e.width:"inner"!==s&&(p=e.width/2,f=t.width/2),this.paddingLeft=Math.max((p-h+r)*this.width/(this.width-h),0),this.paddingRight=Math.max((f-u+r)*this.width/(this.width-u),0)}else{let h=t.height/2,u=e.height/2;"start"===s?(h=0,u=e.height):"end"===s&&(h=t.height,u=0),this.paddingTop=h+r,this.paddingBottom=u+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Y(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)L(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=ws(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:a,_longestTextCache:s}=this,r=[],l=[],c=Math.floor(t/Ds(t,i));let u,p,f,g,m,_,b,x,M,v,y,d=0,h=0;for(u=0;u<t;u+=c){if(g=e[u].label,m=this._resolveTickFontOptions(u),a.font=_=m.string,b=s[_]=s[_]||{data:{},gc:[]},x=m.lineHeight,M=v=0,L(g)||Z(g)){if(Z(g))for(p=0,f=g.length;p<f;++p)y=g[p],!L(y)&&!Z(y)&&(M=ri(a,b.data,b.gc,M,y),v+=x)}else M=ri(a,b.data,b.gc,M,g),v=x;r.push(M),l.push(v),d=Math.max(M,d),h=Math.max(v,h)}!function qc(n,e){H(n,t=>{const i=t.gc,a=i.length/2;let s;if(a>e){for(s=0;s<a;++s)delete t.data[i[s]];i.splice(0,a)}})}(s,t);const D=r.indexOf(d),w=l.indexOf(h),k=S=>({width:r[S]||0,height:l[S]||0});return{first:k(0),last:k(t-1),widest:k(D),highest:k(w),widths:r,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function Pr(n){return K(n,-32768,32767)}(this._alignToPixels?Ut(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function Wc(n,e,t){return Nt(n,{tick:t,index:e,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=function Uc(n,e){return Nt(n,{scale:e,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=mt(this.labelRotation),i=Math.abs(Math.cos(t)),a=Math.abs(Math.sin(t)),s=this._getLabelSizes(),r=e.autoSkipPadding||0,l=s?s.widest.width+r:0,c=s?s.highest.height+r:0;return this.isHorizontal()?c*i>l*a?l/i:c/a:c*a<l*i?c/i:l/a}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,a=this.options,{grid:s,position:r,border:l}=a,c=s.offset,d=this.isHorizontal(),u=this.ticks.length+(c?1:0),p=He(s),f=[],g=l.setContext(this.getContext()),m=g.display?g.width:0,_=m/2,b=function(G){return Ut(i,G,m)};let x,M,v,y,D,w,k,S,R,F,N,et;if("top"===r)x=b(this.bottom),w=this.bottom-p,S=x-_,F=b(e.top)+_,et=e.bottom;else if("bottom"===r)x=b(this.top),F=e.top,et=b(e.bottom)-_,w=x+_,S=this.top+p;else if("left"===r)x=b(this.right),D=this.right-p,k=x-_,R=b(e.left)+_,N=e.right;else if("right"===r)x=b(this.left),R=e.left,N=b(e.right)-_,D=x+_,k=this.left+p;else if("x"===t){if("center"===r)x=b((e.top+e.bottom)/2+.5);else if(V(r)){const G=Object.keys(r)[0];x=b(this.chart.scales[G].getPixelForValue(r[G]))}F=e.top,et=e.bottom,w=x+_,S=w+p}else if("y"===t){if("center"===r)x=b((e.left+e.right)/2);else if(V(r)){const G=Object.keys(r)[0];x=b(this.chart.scales[G].getPixelForValue(r[G]))}D=x-_,k=D-p,R=e.left,N=e.right}const ft=I(a.ticks.maxTicksLimit,u),z=Math.max(1,Math.ceil(u/ft));for(M=0;M<u;M+=z){const G=this.getContext(M),J=s.setContext(G),xt=l.setContext(G),ot=J.lineWidth,ye=J.color,ji=xt.dash||[],ve=xt.dashOffset,Je=J.tickWidth,se=J.tickColor,Qe=J.tickBorderDash||[],oe=J.tickBorderDashOffset;v=jc(this,M,c),void 0!==v&&(y=Ut(i,v,ot),d?D=k=R=N=y:w=S=F=et=y,f.push({tx1:D,ty1:w,tx2:k,ty2:S,x1:R,y1:F,x2:N,y2:et,width:ot,color:ye,borderDash:ji,borderDashOffset:ve,tickWidth:Je,tickColor:se,tickBorderDash:Qe,tickBorderDashOffset:oe}))}return this._ticksLength=u,this._borderValue=x,f}_computeLabelItems(e){const t=this.axis,i=this.options,{position:a,ticks:s}=i,r=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:d,padding:h,mirror:u}=s,p=He(i.grid),f=p+h,g=u?-h:f,m=-mt(this.labelRotation),_=[];let b,x,M,v,y,D,w,k,S,R,F,N,et="middle";if("top"===a)D=this.bottom-g,w=this._getXAxisLabelAlignment();else if("bottom"===a)D=this.top+g,w=this._getXAxisLabelAlignment();else if("left"===a){const z=this._getYAxisLabelAlignment(p);w=z.textAlign,y=z.x}else if("right"===a){const z=this._getYAxisLabelAlignment(p);w=z.textAlign,y=z.x}else if("x"===t){if("center"===a)D=(e.top+e.bottom)/2+f;else if(V(a)){const z=Object.keys(a)[0];D=this.chart.scales[z].getPixelForValue(a[z])+f}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===a)y=(e.left+e.right)/2-f;else if(V(a)){const z=Object.keys(a)[0];y=this.chart.scales[z].getPixelForValue(a[z])}w=this._getYAxisLabelAlignment(p).textAlign}"y"===t&&("start"===c?et="top":"end"===c&&(et="bottom"));const ft=this._getLabelSizes();for(b=0,x=l.length;b<x;++b){M=l[b],v=M.label;const z=s.setContext(this.getContext(b));k=this.getPixelForTick(b)+s.labelOffset,S=this._resolveTickFontOptions(b),R=S.lineHeight,F=Z(v)?v.length:1;const G=F/2,J=z.color,xt=z.textStrokeColor,ot=z.textStrokeWidth;let ji,ye=w;if(r?(y=k,"inner"===w&&(ye=b===x-1?this.options.reverse?"left":"right":0===b?this.options.reverse?"right":"left":"center"),N="top"===a?"near"===d||0!==m?-F*R+R/2:"center"===d?-ft.highest.height/2-G*R+R:R/2-ft.highest.height:"near"===d||0!==m?R/2:"center"===d?ft.highest.height/2-G*R:ft.highest.height-F*R,u&&(N*=-1),0!==m&&!z.showLabelBackdrop&&(y+=R/2*Math.sin(m))):(D=k,N=(1-F)*R/2),z.showLabelBackdrop){const ve=at(z.backdropPadding),Je=ft.heights[b],se=ft.widths[b];let Qe=N-ve.top,oe=0-ve.left;switch(et){case"middle":Qe-=Je/2;break;case"bottom":Qe-=Je}switch(w){case"center":oe-=se/2;break;case"right":oe-=se;break;case"inner":b===x-1?oe-=se:b>0&&(oe-=se/2)}ji={left:oe,top:Qe,width:se+ve.width,height:Je+ve.height,color:z.backdropColor}}_.push({label:v,font:S,textOffset:N,options:{rotation:m,color:J,strokeColor:xt,strokeWidth:ot,textAlign:ye,textBaseline:et,translation:[y,D],backdrop:ji}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-mt(this.labelRotation))return"top"===e?"left":"right";let a="center";return"start"===t.align?a="left":"end"===t.align?a="right":"inner"===t.align&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:a,padding:s}}=this.options,l=e+s,c=this._getLabelSizes().widest.width;let d,h;return"left"===t?a?(h=this.right+s,"near"===i?d="left":"center"===i?(d="center",h+=c/2):(d="right",h+=c)):(h=this.right-l,"near"===i?d="right":"center"===i?(d="center",h-=c/2):(d="left",h=this.left)):"right"===t?a?(h=this.left+s,"near"===i?d="right":"center"===i?(d="center",h-=c/2):(d="left",h-=c)):(h=this.left+l,"near"===i?d="left":"center"===i?(d="center",h+=c/2):(d="right",h=this.right)):d="right",{textAlign:d,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:a,width:s,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,a,s,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const a=this.ticks.findIndex(s=>s.value===e);return a>=0?t.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,r;const l=(c,d,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(c.x,c.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(t.display)for(s=0,r=a.length;s<r;++s){const c=a[s];t.drawOnChartArea&&l({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),t.drawTicks&&l({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:a}}=this,s=i.setContext(this.getContext()),r=i.display?s.width:0;if(!r)return;const l=a.setContext(this.getContext(0)).lineWidth,c=this._borderValue;let d,h,u,p;this.isHorizontal()?(d=Ut(e,this.left,r)-r/2,h=Ut(e,this.right,l)+l/2,u=p=c):(u=Ut(e,this.top,r)-r/2,p=Ut(e,this.bottom,l)+l/2,d=h=c),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(d,u),t.lineTo(h,p),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&li(i,a);const s=this.getLabelItems(e);for(const r of s)Wt(i,r.label,0,r.textOffset,r.font,r.options);a&&ci(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:a}}=this;if(!i.display)return;const s=Q(i.font),r=at(i.padding),l=i.align;let c=s.lineHeight/2;"bottom"===t||"center"===t||V(t)?(c+=r.bottom,Z(i.text)&&(c+=s.lineHeight*(i.text.length-1))):c+=r.top;const{titleX:d,titleY:h,maxWidth:u,rotation:p}=function $c(n,e,t,i){const{top:a,left:s,bottom:r,right:l,chart:c}=n,{chartArea:d,scales:h}=c;let p,f,g,u=0;const m=r-a,_=l-s;if(n.isHorizontal()){if(f=nt(i,s,l),V(t)){const b=Object.keys(t)[0];g=h[b].getPixelForValue(t[b])+m-e}else g="center"===t?(d.bottom+d.top)/2+m-e:Cs(n,t,e);p=l-s}else{if(V(t)){const b=Object.keys(t)[0];f=h[b].getPixelForValue(t[b])-_+e}else f="center"===t?(d.left+d.right)/2-_+e:Cs(n,t,e);g=nt(i,r,a),u="left"===t?-X:X}return{titleX:f,titleY:g,maxWidth:p,rotation:u}}(this,c,t,l);Wt(e,i.text,0,0,s,{color:i.color,maxWidth:u,rotation:p,textAlign:Gc(l,t,a),textBaseline:"middle",translation:[d,h]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=I(e.grid&&e.grid.z,-1),a=I(e.border&&e.border.z,0);return this._isVisible()&&this.draw===te.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:t,draw:s=>{this.drawLabels(s)}}]:[{z:t,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let s,r;for(s=0,r=t.length;s<r;++s){const l=t[s];l[i]===this.id&&(!e||l.type===e)&&a.push(l)}return a}_resolveTickFontOptions(e){return Q(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Di{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function Qc(n){return"id"in n&&"defaults"in n})(t)&&(i=this.register(t));const a=this.items,s=e.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in a||(a[s]=e,function Xc(n,e,t){const i=Ce(Object.create(null),[t?U.get(t):{},U.get(e),n.defaults]);U.set(e,i),n.defaultRoutes&&function Jc(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),a=i.pop(),s=[n].concat(i).join("."),r=e[t].split("."),l=r.pop(),c=r.join(".");U.route(s,a,c,l)})}(e,n.defaultRoutes),n.descriptors&&U.describe(e,n.descriptors)}(e,r,i),this.override&&U.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,a=this.scope;i in t&&delete t[i],a&&i in U[a]&&(delete U[a][i],this.override&&delete qt[i])}}class Kc{constructor(){this.controllers=new Di(_t,"datasets",!0),this.elements=new Di(bt,"elements"),this.plugins=new Di(Object,"plugins"),this.scales=new Di(te,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(a=>{const s=i||this._getRegistryForType(a);i||s.isForType(a)||s===this.plugins&&a.id?this._exec(e,s,a):H(a,r=>{const l=i||this._getRegistryForType(r);this._exec(e,l,r)})})}_exec(e,t,i){const a=Qi(e);Y(i["before"+a],[],i),t[e](i),Y(i["after"+a],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const a=t.get(e);if(void 0===a)throw new Error('"'+e+'" is not a registered '+i+".");return a}}var Mt=new Kc;class td{constructor(){this._init=[]}notify(e,t,i,a){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=a?this._descriptors(e).filter(a):this._descriptors(e),r=this._notify(s,e,t,i);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,i,a){a=a||{};for(const s of e){const r=s.plugin;if(!1===Y(r[i],[t,a,s.options],r)&&a.cancelable)return!1}return!0}invalidate(){L(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,a=I(i.options&&i.options.plugins,{}),s=function ed(n){const e={},t=[],i=Object.keys(Mt.plugins.items);for(let s=0;s<i.length;s++)t.push(Mt.getPlugin(i[s]));const a=n.plugins||[];for(let s=0;s<a.length;s++){const r=a[s];-1===t.indexOf(r)&&(t.push(r),e[r.id]=!0)}return{plugins:t,localIds:e}}(i);return!1!==a||t?function nd(n,{plugins:e,localIds:t},i,a){const s=[],r=n.getContext();for(const l of e){const c=l.id,d=id(i[c],a);null!==d&&s.push({plugin:l,options:ad(n.config,{plugin:l,local:t[c]},d,r)})}return s}(e,s,a,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,a=(s,r)=>s.filter(l=>!r.some(c=>l.plugin.id===c.plugin.id));this._notify(a(t,i),e,"stop"),this._notify(a(i,t),e,"start")}}function id(n,e){return e||!1!==n?!0===n?{}:n:null}function ad(n,{plugin:e,local:t},i,a){const s=n.pluginScopeKeys(e),r=n.getOptionScopes(i,s);return t&&e.defaults&&r.push(e.defaults),n.createResolver(r,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Dn(n,e){return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||(U.datasets[n]||{}).indexAxis||"x"}function As(n){if("x"===n||"y"===n||"r"===n)return n}function rd(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}function wn(n,...e){if(As(n))return n;for(const t of e){const i=t.axis||rd(t.position)||n.length>1&&As(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ss(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function Ts(n){const e=n.options||(n.options={});e.plugins=I(e.plugins,{}),e.scales=function cd(n,e){const t=qt[n.type]||{scales:{}},i=e.scales||{},a=Dn(n.type,e),s=Object.create(null);return Object.keys(i).forEach(r=>{const l=i[r];if(!V(l))return console.error(`Invalid scale configuration for scale: ${r}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const c=wn(r,l,function ld(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return Ss(n,"x",t[0])||Ss(n,"y",t[0])}return{}}(r,n),U.scales[l.type]),d=function od(n,e){return n===e?"_index_":"_value_"}(c,a),h=t.scales||{};s[r]=De(Object.create(null),[{axis:c},l,h[c],h[d]])}),n.data.datasets.forEach(r=>{const l=r.type||n.type,c=r.indexAxis||Dn(l,e),h=(qt[l]||{}).scales||{};Object.keys(h).forEach(u=>{const p=function sd(n,e){let t=n;return"_index_"===n?t=e:"_value_"===n&&(t="x"===e?"y":"x"),t}(u,c),f=r[p+"AxisID"]||p;s[f]=s[f]||Object.create(null),De(s[f],[{axis:p},i[f],h[u]])})}),Object.keys(s).forEach(r=>{const l=s[r];De(l,[U.scales[l.type],U.scale])}),s}(n,e)}function Os(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const Es=new Map,Ps=new Set;function wi(n,e){let t=Es.get(n);return t||(t=e(),Es.set(n,t),Ps.add(t)),t}const ze=(n,e,t)=>{const i=Lt(e,t);void 0!==i&&n.add(i)};class hd{constructor(e){this._config=function dd(n){return(n=n||{}).data=Os(n.data),Ts(n),n}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Os(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Ts(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return wi(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return wi(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return wi(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return wi(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let a=i.get(e);return(!a||t)&&(a=new Map,i.set(e,a)),a}getOptionScopes(e,t,i){const{options:a,type:s}=this,r=this._cachedScopes(e,i),l=r.get(t);if(l)return l;const c=new Set;t.forEach(h=>{e&&(c.add(e),h.forEach(u=>ze(c,e,u))),h.forEach(u=>ze(c,a,u)),h.forEach(u=>ze(c,qt[s]||{},u)),h.forEach(u=>ze(c,U,u)),h.forEach(u=>ze(c,on,u))});const d=Array.from(c);return 0===d.length&&d.push(Object.create(null)),Ps.has(t)&&r.set(t,d),d}chartOptionScopes(){const{options:e,type:t}=this;return[e,qt[t]||{},U.datasets[t]||{},{type:t},U,on]}resolveNamedOptions(e,t,i,a=[""]){const s={$shared:!0},{resolver:r,subPrefixes:l}=Is(this._resolverCache,e,a);let c=r;(function pd(n,e){const{isScriptable:t,isIndexable:i}=Fa(n);for(const a of e){const s=t(a),r=i(a),l=(r||s)&&n[a];if(s&&(Vt(l)||ud(l))||r&&Z(l))return!0}return!1})(r,t)&&(s.$shared=!1,c=ue(r,i=Vt(i)?i():i,this.createResolver(e,i,l)));for(const d of t)s[d]=c[d];return s}createResolver(e,t,i=[""],a){const{resolver:s}=Is(this._resolverCache,e,i);return V(t)?ue(s,t,void 0,a):s}}function Is(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const a=t.join();let s=i.get(a);return s||(s={resolver:dn(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},i.set(a,s)),s}const ud=n=>V(n)&&Object.getOwnPropertyNames(n).some(e=>Vt(n[e])),gd=["top","bottom","left","right","chartArea"];function Rs(n,e){return"top"===n||"bottom"===n||-1===gd.indexOf(n)&&"x"===e}function Fs(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Ls(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Y(t&&t.onComplete,[n],e)}function md(n){const e=n.chart,t=e.options.animation;Y(t&&t.onProgress,[n],e)}function Vs(n){return pn()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ki={},Bs=n=>{const e=Vs(n);return Object.values(ki).filter(t=>t.canvas===e).pop()};function _d(n,e,t){const i=Object.keys(n);for(const a of i){const s=+a;if(s>=e){const r=n[a];delete n[a],(t>0||s>e)&&(n[s+t]=r)}}}class Pt{static register(...e){Mt.add(...e),Ns()}static unregister(...e){Mt.remove(...e),Ns()}constructor(e,t){const i=this.config=new hd(t),a=Vs(e),s=Bs(a);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function Lc(n){return!pn()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Cc:Fc}(a)),this.platform.updateConfig(i);const l=this.platform.acquireContext(a,r.aspectRatio),c=l&&l.canvas,d=c&&c.height,h=c&&c.width;this.id=xr(),this.ctx=l,this.canvas=c,this.width=h,this.height=d,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new td,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Lr(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}(u=>this.update(u),r.resizeDelay||0),this._dataChanges=[],ki[this.id]=this,l&&c?(Et.listen(this,"complete",Ls),Et.listen(this,"progress",md),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:a,_aspectRatio:s}=this;return L(e)?t&&s?s:a?i/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Mt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Za(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Pa(this.canvas,this.ctx),this}stop(){return Et.stop(this),this}resize(e,t){Et.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,r=this.platform.getMaximumSize(this.canvas,e,t,i.maintainAspectRatio&&this.aspectRatio),l=i.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Za(this,l,!0)&&(this.notifyPlugins("resize",{size:r}),Y(i.onResize,[this,r],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){H(this.options.scales||{},(i,a)=>{i.id=a})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,a=Object.keys(i).reduce((r,l)=>(r[l]=!1,r),{});let s=[];t&&(s=s.concat(Object.keys(t).map(r=>{const l=t[r],c=wn(r,l),d="r"===c,h="x"===c;return{options:l,dposition:d?"chartArea":h?"bottom":"left",dtype:d?"radialLinear":h?"category":"linear"}}))),H(s,r=>{const l=r.options,c=l.id,d=wn(c,l),h=I(l.type,r.dtype);(void 0===l.position||Rs(l.position,d)!==Rs(r.dposition))&&(l.position=r.dposition),a[c]=!0;let u=null;c in i&&i[c].type===h?u=i[c]:(u=new(Mt.getScale(h))({id:c,type:h,ctx:this.ctx,chart:this}),i[u.id]=u),u.init(l,e)}),H(a,(r,l)=>{r||delete i[l]}),H(i,r=>{st.configure(this,r,r.options),st.addBox(this,r)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((a,s)=>a.index-s.index),i>t){for(let a=t;a<i;++a)this._destroyDatasetMeta(a);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Fs("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,a)=>{0===t.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=t.length;i<a;i++){const s=t[i];let r=this.getDatasetMeta(i);const l=s.type||this.config.type;if(r.type&&r.type!==l&&(this._destroyDatasetMeta(i),r=this.getDatasetMeta(i)),r.type=l,r.indexAxis=s.indexAxis||Dn(l,this.options),r.order=s.order||0,r.index=i,r.label=""+s.label,r.visible=this.isDatasetVisible(i),r.controller)r.controller.updateIndex(i),r.controller.linkScales();else{const c=Mt.getController(l),{datasetElementType:d,dataElementType:h}=U.datasets[l];Object.assign(c,{dataElementType:Mt.getElement(h),datasetElementType:d&&Mt.getElement(d)}),r.controller=new c(this,i),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){H(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let d=0,h=this.data.datasets.length;d<h;d++){const{controller:u}=this.getDatasetMeta(d),p=!a&&-1===s.indexOf(u);u.buildOrUpdateElements(p),r=Math.max(+u.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),a||H(s,d=>{d.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Fs("z","_idx"));const{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){H(this.scales,e=>{st.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!fa(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:s}of t)_d(e,a,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=s=>new Set(e.filter(r=>r[0]===s).map((r,l)=>l+","+r.splice(1).join(","))),a=i(0);for(let s=1;s<t;s++)if(!fa(a,i(s)))return;return Array.from(a).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;st.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],H(this.boxes,a=>{i&&"chartArea"===a.position||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,s)=>{a._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Vt(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),a={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",a)&&(i.controller._update(t),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Et.has(this)?this.attached&&!Et.running(this)&&Et.start(this):(this.draw(),Ls({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let a,s;for(a=0,s=t.length;a<s;++a){const r=t[a];(!e||r.visible)&&i.push(r)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},a=Ka(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",i)&&(a&&li(t,a),e.controller.draw(),a&&ci(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ot(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,a){const s=gc.modes[t];return"function"==typeof s?s(this,e,i,a):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let a=i.filter(s=>s&&s._dataset===t).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Nt(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const a=i?"show":"hide",s=this.getDatasetMeta(e),r=s.controller._resolveAnimations(void 0,a);we(t)?(s.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(s,{visible:i}),this.update(l=>l.datasetIndex===e?a:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Et.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Pa(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ki[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(s,r)=>{t.addEventListener(this,s,r),e[s]=r},a=(s,r,l)=>{s.offsetX=r,s.offsetY=l,this._eventHandler(s)};H(this.options.events,s=>i(s,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(c,d)=>{t.addEventListener(this,c,d),e[c]=d},a=(c,d)=>{e[c]&&(t.removeEventListener(this,c,d),delete e[c])},s=(c,d)=>{this.canvas&&this.resize(c,d)};let r;const l=()=>{a("attach",l),this.attached=!0,this.resize(),i("resize",s),i("detach",r)};r=()=>{this.attached=!1,a("resize",s),this._stop(),this._resize(0,0),i("attach",l)},t.isAttached(this.canvas)?l():r()}unbindEvents(){H(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},H(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const a=i?"set":"remove";let s,r,l,c;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+a+"DatasetHoverStyle"]()),l=0,c=e.length;l<c;++l){r=e[l];const d=r&&this.getDatasetMeta(r.datasetIndex).controller;d&&d[a+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:s,index:r})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[r],index:r}});!ii(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,i){const a=this.options.hover,s=(c,d)=>c.filter(h=>!d.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),r=s(t,e),l=i?e:s(e,t);r.length&&this.updateHoverStyle(r,a.mode,!1),l.length&&a.mode&&this.updateHoverStyle(l,a.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},a=r=>(r.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,a))return;const s=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(s||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:a=[],options:s}=this,l=this._getActiveElements(e,a,i,t),c=function wr(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(e),d=function bd(n,e,t,i){return t&&"mouseout"!==n.type?i?e:n:null}(e,this._lastEvent,i,c);i&&(this._lastEvent=null,Y(s.onHover,[e,l,this],this),c&&Y(s.onClick,[e,l,this],this));const h=!ii(l,a);return(h||t)&&(this._active=l,this._updateHoverStyles(l,a,t)),this._lastEvent=d,h}_getActiveElements(e,t,i,a){if("mouseout"===e.type)return[];if(!i)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,a)}}function Ns(){return H(Pt.instances,n=>n._plugins.invalidate())}function ge(n,e,t,i){return{x:t+n*Math.cos(e),y:i+n*Math.sin(e)}}function Ai(n,e,t,i,a,s){const{x:r,y:l,startAngle:c,pixelMargin:d,innerRadius:h}=e,u=Math.max(e.outerRadius+i+t-d,0),p=h>0?h+i+t+d:0;let f=0;const g=a-c;if(i){const J=((h>0?h-i:0)+(u>0?u-i:0))/2;f=(g-(0!==J?g*J/(J+i):g))/2}const _=(g-Math.max(.001,g*u-t/j)/u)/2,b=c+_+f,x=a-_-f,{outerStart:M,outerEnd:v,innerStart:y,innerEnd:D}=function vd(n,e,t,i){const a=function yd(n){return cn(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(t-e)/2,r=Math.min(s,i*e/2),l=c=>{const d=(t-Math.min(s,c))*i/2;return K(c,0,Math.min(s,d))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:K(a.innerStart,0,r),innerEnd:K(a.innerEnd,0,r)}}(e,p,u,x-b),w=u-M,k=u-v,S=b+M/w,R=x-v/k,F=p+y,N=p+D,et=b+y/F,ft=x-D/N;if(n.beginPath(),s){const z=(S+R)/2;if(n.arc(r,l,u,S,z),n.arc(r,l,u,z,R),v>0){const ot=ge(k,R,r,l);n.arc(ot.x,ot.y,v,R,x+X)}const G=ge(N,x,r,l);if(n.lineTo(G.x,G.y),D>0){const ot=ge(N,ft,r,l);n.arc(ot.x,ot.y,D,x+X,ft+Math.PI)}const J=(x-D/p+(b+y/p))/2;if(n.arc(r,l,p,x-D/p,J,!0),n.arc(r,l,p,J,b+y/p,!0),y>0){const ot=ge(F,et,r,l);n.arc(ot.x,ot.y,y,et+Math.PI,b-X)}const xt=ge(w,b,r,l);if(n.lineTo(xt.x,xt.y),M>0){const ot=ge(w,S,r,l);n.arc(ot.x,ot.y,M,b-X,S)}}else{n.moveTo(r,l);const z=Math.cos(S)*u+r,G=Math.sin(S)*u+l;n.lineTo(z,G);const J=Math.cos(R)*u+r,xt=Math.sin(R)*u+l;n.lineTo(J,xt)}n.closePath()}C(Pt,"defaults",U),C(Pt,"instances",ki),C(Pt,"overrides",qt),C(Pt,"registry",Mt),C(Pt,"version","4.4.9"),C(Pt,"getChart",Bs);class Ye extends bt{constructor(t){super(),C(this,"circumference"),C(this,"endAngle"),C(this,"fullCircles"),C(this,"innerRadius"),C(this,"outerRadius"),C(this,"pixelMargin"),C(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,a){const s=this.getProps(["x","y"],a),{angle:r,distance:l}=xa(s,{x:t,y:i}),{startAngle:c,endAngle:d,innerRadius:h,outerRadius:u,circumference:p}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),f=(this.options.spacing+this.options.borderWidth)/2,g=I(p,d-c),m=Ae(r,c,d)&&c!==d,_=g>=q||m,b=St(l,h+f,u+f);return _&&b}getCenterPoint(t){const{x:i,y:a,startAngle:s,endAngle:r,innerRadius:l,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:h}=this.options,u=(s+r)/2,p=(l+c+h+d)/2;return{x:i+Math.cos(u)*p,y:a+Math.sin(u)*p}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:i,circumference:a}=this,s=(i.offset||0)/4,r=(i.spacing||0)/2,l=i.circular;if(this.pixelMargin="inner"===i.borderAlign?.33:0,this.fullCircles=a>q?Math.floor(a/q):0,0===a||this.innerRadius<0||this.outerRadius<0)return;t.save();const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*s,Math.sin(c)*s);const h=s*(1-Math.sin(Math.min(j,a||0)));t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,function Md(n,e,t,i,a){const{fullCircles:s,startAngle:r,circumference:l}=e;let c=e.endAngle;if(s){Ai(n,e,t,i,c,a);for(let d=0;d<s;++d)n.fill();isNaN(l)||(c=r+(l%q||q))}Ai(n,e,t,i,c,a),n.fill()}(t,this,h,r,l),function Cd(n,e,t,i,a){const{fullCircles:s,startAngle:r,circumference:l,options:c}=e,{borderWidth:d,borderJoinStyle:h,borderDash:u,borderDashOffset:p}=c,f="inner"===c.borderAlign;if(!d)return;n.setLineDash(u||[]),n.lineDashOffset=p,f?(n.lineWidth=2*d,n.lineJoin=h||"round"):(n.lineWidth=d,n.lineJoin=h||"bevel");let g=e.endAngle;if(s){Ai(n,e,t,i,g,a);for(let m=0;m<s;++m)n.stroke();isNaN(l)||(g=r+(l%q||q))}f&&function xd(n,e,t){const{startAngle:i,pixelMargin:a,x:s,y:r,outerRadius:l,innerRadius:c}=e;let d=a/l;n.beginPath(),n.arc(s,r,l,i-d,t+d),c>a?(d=a/c,n.arc(s,r,c,t+d,i-d,!0)):n.arc(s,r,a,t+X,i-X),n.closePath(),n.clip()}(n,e,g),s||(Ai(n,e,t,i,g,a),n.stroke())}(t,this,h,r,l),t.restore()}}function Hs(n,e,t=e){n.lineCap=I(t.borderCapStyle,e.borderCapStyle),n.setLineDash(I(t.borderDash,e.borderDash)),n.lineDashOffset=I(t.borderDashOffset,e.borderDashOffset),n.lineJoin=I(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=I(t.borderWidth,e.borderWidth),n.strokeStyle=I(t.borderColor,e.borderColor)}function Dd(n,e,t){n.lineTo(t.x,t.y)}function zs(n,e,t={}){const i=n.length,{start:a=0,end:s=i-1}=t,{start:r,end:l}=e,c=Math.max(a,r),d=Math.min(s,l);return{count:i,start:c,loop:e.loop,ilen:d<c&&!(a<r&&s<r||a>l&&s>l)?i+d-c:d-c}}function kd(n,e,t,i){const{points:a,options:s}=e,{count:r,start:l,loop:c,ilen:d}=zs(a,t,i),h=function wd(n){return n.stepped?Gr:n.tension||"monotone"===n.cubicInterpolationMode?$r:Dd}(s);let f,g,m,{move:u=!0,reverse:p}=i||{};for(f=0;f<=d;++f)g=a[(l+(p?d-f:f))%r],!g.skip&&(u?(n.moveTo(g.x,g.y),u=!1):h(n,m,g,p,s.stepped),m=g);return c&&(g=a[(l+(p?d:0))%r],h(n,m,g,p,s.stepped)),!!c}function Ad(n,e,t,i){const a=e.points,{count:s,start:r,ilen:l}=zs(a,t,i),{move:c=!0,reverse:d}=i||{};let p,f,g,m,_,b,h=0,u=0;const x=v=>(r+(d?l-v:v))%s,M=()=>{m!==_&&(n.lineTo(h,_),n.lineTo(h,m),n.lineTo(h,b))};for(c&&(f=a[x(0)],n.moveTo(f.x,f.y)),p=0;p<=l;++p){if(f=a[x(p)],f.skip)continue;const v=f.x,y=f.y,D=0|v;D===g?(y<m?m=y:y>_&&(_=y),h=(u*h+v)/++u):(M(),n.lineTo(v,y),g=D,u=0,m=_=y),b=y}M()}function kn(n){const e=n.options;return n._decimated||n._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||e.borderDash&&e.borderDash.length?kd:Ad}C(Ye,"id","arc"),C(Ye,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),C(Ye,"defaultRoutes",{backgroundColor:"backgroundColor"}),C(Ye,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const Ed="function"==typeof Path2D;class Ht extends bt{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;!i.tension&&"monotone"!==i.cubicInterpolationMode||i.stepped||this._pointsUpdated||(xl(this._points,i,e,i.spanGaps?this._loop:this._fullLoop,t),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Rl(n,e){const t=n.points,i=n.options.spanGaps,a=t.length;if(!a)return[];const s=!!n._loop,{start:r,end:l}=function Pl(n,e,t,i){let a=0,s=e-1;if(t&&!i)for(;a<e&&!n[a].skip;)a++;for(;a<e&&n[a].skip;)a++;for(a%=e,t&&(s+=a);s>a&&n[s%e].skip;)s--;return s%=e,{start:a,end:s}}(t,a,s,i);return function Ja(n,e,t,i){return i&&i.setContext&&t?function Fl(n,e,t,i){const a=n._chart.getContext(),s=Qa(n.options),{_datasetIndex:r,options:{spanGaps:l}}=n,c=t.length,d=[];let h=s,u=e[0].start,p=u;function f(g,m,_,b){const x=l?-1:1;if(g!==m){for(g+=c;t[g%c].skip;)g-=x;for(;t[m%c].skip;)m+=x;g%c!=m%c&&(d.push({start:g%c,end:m%c,loop:_,style:b}),h=b,u=m%c)}}for(const g of e){u=l?u:g.start;let _,m=t[u%c];for(p=u+1;p<=g.end;p++){const b=t[p%c];_=Qa(i.setContext(Nt(a,{type:"segment",p0:m,p1:b,p0DataIndex:(p-1)%c,p1DataIndex:p%c,datasetIndex:r}))),Ll(_,h)&&f(u,p-1,g.loop,h),m=b,h=_}u<p-1&&f(u,p-1,g.loop,h)}return d}(n,e,t,i):e}(n,!0===i?[{start:r,end:l,loop:s}]:function Il(n,e,t,i){const a=n.length,s=[];let c,r=e,l=n[e];for(c=e+1;c<=t;++c){const d=n[c%a];d.skip||d.stop?l.skip||(s.push({start:e%a,end:(c-1)%a,loop:i=!1}),e=r=d.stop?c:null):(r=c,l.skip&&(e=c)),l=d}return null!==r&&s.push({start:e%a,end:r%a,loop:i}),s}(t,r,l<r?l+a:l,!!n._fullLoop&&0===r&&l===a-1),t,e)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,i=e.length;return i&&this.points[e[i-1].end]}interpolate(e,t){const i=this.options,a=e[t],s=this.points,r=Xa(this,{property:t,start:a,end:a});if(!r.length)return;const l=[],c=function Sd(n){return n.stepped?Al:n.tension||"monotone"===n.cubicInterpolationMode?Sl:Jt}(i);let d,h;for(d=0,h=r.length;d<h;++d){const{start:u,end:p}=r[d],f=s[u],g=s[p];if(f===g){l.push(f);continue}const _=c(f,g,Math.abs((a-f[t])/(g[t]-f[t])),i.stepped);_[t]=e[t],l.push(_)}return 1===l.length?l[0]:l}pathSegment(e,t,i){return kn(this)(e,this,t,i)}path(e,t,i){const a=this.segments,s=kn(this);let r=this._loop;t=t||0,i=i||this.points.length-t;for(const l of a)r&=s(e,this,l,{start:t,end:t+i-1});return!!r}draw(e,t,i,a){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Pd(n,e,t,i){Ed&&!e.options.segment?function Td(n,e,t,i){let a=e._path;a||(a=e._path=new Path2D,e.path(a,t,i)&&a.closePath()),Hs(n,e.options),n.stroke(a)}(n,e,t,i):function Od(n,e,t,i){const{segments:a,options:s}=e,r=kn(e);for(const l of a)Hs(n,s,l.style),n.beginPath(),r(n,e,l,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}(n,e,t,i)}(e,this,i,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ys(n,e,t,i){const a=n.options,{[t]:s}=n.getProps([t],i);return Math.abs(e-s)<a.radius+a.hitRadius}C(Ht,"id","line"),C(Ht,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),C(Ht,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),C(Ht,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class Si extends bt{constructor(t){super(),C(this,"parsed"),C(this,"skip"),C(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,a){const s=this.options,{x:r,y:l}=this.getProps(["x","y"],a);return Math.pow(t-r,2)+Math.pow(i-l,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return Ys(this,t,"x",i)}inYRange(t,i){return Ys(this,t,"y",i)}getCenterPoint(t){const{x:i,y:a}=this.getProps(["x","y"],t);return{x:i,y:a}}size(t){let i=(t=t||this.options||{}).radius||0;return i=Math.max(i,i&&t.hoverRadius||0),2*(i+(i&&t.borderWidth||0))}draw(t,i){const a=this.options;this.skip||a.radius<.1||!Ot(this,i,this.size(a)/2)||(t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.fillStyle=a.backgroundColor,ln(t,a,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Zs(n,e){const{x:t,y:i,base:a,width:s,height:r}=n.getProps(["x","y","base","width","height"],e);let l,c,d,h,u;return n.horizontal?(u=r/2,l=Math.min(t,a),c=Math.max(t,a),d=i-u,h=i+u):(u=s/2,l=t-u,c=t+u,d=Math.min(i,a),h=Math.max(i,a)),{left:l,top:d,right:c,bottom:h}}function zt(n,e,t,i){return n?0:K(e,t,i)}function An(n,e,t,i){const a=null===e,s=null===t,l=n&&!(a&&s)&&Zs(n,i);return l&&(a||St(e,l.left,l.right))&&(s||St(t,l.top,l.bottom))}function Vd(n,e){n.rect(e.x,e.y,e.w,e.h)}function Sn(n,e,t={}){const i=n.x!==t.x?-e:0,a=n.y!==t.y?-e:0;return{x:n.x+i,y:n.y+a,w:n.w+((n.x+n.w!==t.x+t.w?e:0)-i),h:n.h+((n.y+n.h!==t.y+t.h?e:0)-a),radius:n.radius}}C(Si,"id","point"),C(Si,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),C(Si,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Ti extends bt{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:a}}=this,{inner:s,outer:r}=function Fd(n){const e=Zs(n),t=e.right-e.left,i=e.bottom-e.top,a=function Id(n,e,t){const a=n.borderSkipped,s=Ra(n.options.borderWidth);return{t:zt(a.top,s.top,0,t),r:zt(a.right,s.right,0,e),b:zt(a.bottom,s.bottom,0,t),l:zt(a.left,s.left,0,e)}}(n,t/2,i/2),s=function Rd(n,e,t){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,s=Gt(a),r=Math.min(e,t),l=n.borderSkipped,c=i||V(a);return{topLeft:zt(!c||l.top||l.left,s.topLeft,0,r),topRight:zt(!c||l.top||l.right,s.topRight,0,r),bottomLeft:zt(!c||l.bottom||l.left,s.bottomLeft,0,r),bottomRight:zt(!c||l.bottom||l.right,s.bottomRight,0,r)}}(n,t/2,i/2);return{outer:{x:e.left,y:e.top,w:t,h:i,radius:s},inner:{x:e.left+a.l,y:e.top+a.t,w:t-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,s.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(a.b,a.r))}}}}(this),l=function Ld(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(r.radius)?Ee:Vd;e.save(),(r.w!==s.w||r.h!==s.h)&&(e.beginPath(),l(e,Sn(r,t,s)),e.clip(),l(e,Sn(s,-t,r)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),l(e,Sn(s,t)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,t,i){return An(this,e,t,i)}inXRange(e,t){return An(this,e,null,t)}inYRange(e,t){return An(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:a,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+a)/2:t,y:s?i:(i+a)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}C(Ti,"id","bar"),C(Ti,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),C(Ti,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Bd=Object.freeze({__proto__:null,ArcElement:Ye,BarElement:Ti,LineElement:Ht,PointElement:Si});const Tn=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],js=Tn.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function qs(n){return Tn[n%Tn.length]}function Us(n){return js[n%js.length]}function Ws(n){let e;for(e in n)if(n[e].borderColor||n[e].backgroundColor)return!0;return!1}var qd={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,e,t){if(!t.enabled)return;const{data:{datasets:i},options:a}=n.config,{elements:s}=a,r=Ws(i)||function Zd(n){return n&&(n.borderColor||n.backgroundColor)}(a)||s&&Ws(s)||function jd(){return"rgba(0,0,0,0.1)"!==U.borderColor||"rgba(0,0,0,0.1)"!==U.backgroundColor}();if(!t.forceOverride&&r)return;const l=function Yd(n){let e=0;return(t,i)=>{const a=n.getDatasetMeta(i).controller;a instanceof Qt?e=function Hd(n,e){return n.backgroundColor=n.data.map(()=>qs(e++)),e}(t,e):a instanceof Re?e=function zd(n,e){return n.backgroundColor=n.data.map(()=>Us(e++)),e}(t,e):a&&(e=function Nd(n,e){return n.borderColor=qs(e),n.backgroundColor=Us(e),++e}(t,e))}}(n);i.forEach(l)}};function Gs(n){if(n._decimated){const e=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function $s(n){n.data.datasets.forEach(e=>{Gs(e)})}var $d={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,e,t)=>{if(!t.enabled)return void $s(n);const i=n.width;n.data.datasets.forEach((a,s)=>{const{_data:r,indexAxis:l}=a,c=n.getDatasetMeta(s),d=r||a.data;if("y"===Pe([l,n.options.indexAxis])||!c.controller.supportsDecimation)return;const h=n.scales[c.xAxisID];if("linear"!==h.type&&"time"!==h.type||n.options.parsing)return;let g,{start:u,count:p}=function Gd(n,e){const t=e.length;let a,i=0;const{iScale:s}=n,{min:r,max:l,minDefined:c,maxDefined:d}=s.getUserBounds();return c&&(i=K(Tt(e,s.axis,r).lo,0,t-1)),a=d?K(Tt(e,s.axis,l).hi+1,i,t)-i:t-i,{start:i,count:a}}(c,d);if(p<=(t.threshold||4*i))Gs(a);else{switch(L(r)&&(a._data=d,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}})),t.algorithm){case"lttb":g=function Ud(n,e,t,i,a){const s=a.samples||i;if(s>=t)return n.slice(e,e+t);const r=[],l=(t-2)/(s-2);let c=0;const d=e+t-1;let u,p,f,g,m,h=e;for(r[c++]=n[h],u=0;u<s-2;u++){let x,_=0,b=0;const M=Math.floor((u+1)*l)+1+e,v=Math.min(Math.floor((u+2)*l)+1,t)+e,y=v-M;for(x=M;x<v;x++)_+=n[x].x,b+=n[x].y;_/=y,b/=y;const D=Math.floor(u*l)+1+e,w=Math.min(Math.floor((u+1)*l)+1,t)+e,{x:k,y:S}=n[h];for(f=g=-1,x=D;x<w;x++)g=.5*Math.abs((k-_)*(n[x].y-S)-(k-n[x].x)*(b-S)),g>f&&(f=g,p=n[x],m=x);r[c++]=p,h=m}return r[c++]=n[d],r}(d,u,p,i,t);break;case"min-max":g=function Wd(n,e,t,i){let r,l,c,d,h,u,p,f,g,m,a=0,s=0;const _=[],x=n[e].x,v=n[e+t-1].x-x;for(r=e;r<e+t;++r){l=n[r],c=(l.x-x)/v*i,d=l.y;const y=0|c;if(y===h)d<g?(g=d,u=r):d>m&&(m=d,p=r),a=(s*a+l.x)/++s;else{const D=r-1;if(!L(u)&&!L(p)){const w=Math.min(u,p),k=Math.max(u,p);w!==f&&w!==D&&_.push({...n[w],x:a}),k!==f&&k!==D&&_.push({...n[k],x:a})}r>0&&D!==f&&_.push(n[D]),_.push(l),h=y,s=0,g=m=d,u=p=f=r}}return _}(d,u,p,i);break;default:throw new Error(`Unsupported decimation algorithm '${t.algorithm}'`)}a._decimated=g}})},destroy(n){$s(n)}};function On(n,e,t,i){if(i)return;let a=e[n],s=t[n];return"angle"===n&&(a=ut(a),s=ut(s)),{property:n,start:a,end:s}}function En(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Xs(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function Js(n,e){let t=[],i=!1;return Z(n)?(i=!0,t=n):t=function Jd(n,e){const{x:t=null,y:i=null}=n||{},a=e.points,s=[];return e.segments.forEach(({start:r,end:l})=>{l=En(r,l,a);const c=a[r],d=a[l];null!==i?(s.push({x:c.x,y:i}),s.push({x:d.x,y:i})):null!==t&&(s.push({x:t,y:c.y}),s.push({x:t,y:d.y}))}),s}(n,e),t.length?new Ht({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Qs(n){return n&&!1!==n.fill}function Qd(n,e,t){let a=n[e].fill;const s=[e];let r;if(!t)return a;for(;!1!==a&&-1===s.indexOf(a);){if(!$(a))return a;if(r=n[a],!r)return!1;if(r.visible)return a;s.push(a),a=r.fill}return!1}function Kd(n,e,t){const i=function nh(n){const e=n.options,t=e.fill;let i=I(t&&t.target,t);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(V(i))return!isNaN(i.value)&&i;let a=parseFloat(i);return $(a)&&Math.floor(a)===a?function th(n,e,t,i){return("-"===n||"+"===n)&&(t=e+t),!(t===e||t<0||t>=i)&&t}(i[0],e,a,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function oh(n,e,t){const i=[];for(let a=0;a<t.length;a++){const s=t[a],{first:r,last:l,point:c}=rh(s,e,"x");if(!(!c||r&&l))if(r)i.unshift(c);else if(n.push(c),!l)break}n.push(...i)}function rh(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const a=i[t],s=n.segments,r=n.points;let l=!1,c=!1;for(let d=0;d<s.length;d++){const h=s[d],u=r[h.start][t],p=r[h.end][t];if(St(a,u,p)){l=a===u,c=a===p;break}}return{first:l,last:c,point:i}}class Ks{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:a,y:s,radius:r}=this;return e.arc(a,s,r,(t=t||{start:0,end:q}).end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:a}=this,s=e.angle;return{x:t+Math.cos(s)*a,y:i+Math.sin(s)*a,angle:s}}}function Pn(n,e,t){const i=function lh(n){const{chart:e,fill:t,line:i}=n;if($(t))return function ch(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}(e,t);if("stack"===t)return function ah(n){const{scale:e,index:t,line:i}=n,a=[],s=i.segments,r=i.points,l=function sh(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const s=i[a];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}(e,t);l.push(Js({x:null,y:e.bottom},i));for(let c=0;c<s.length;c++){const d=s[c];for(let h=d.start;h<=d.end;h++)oh(a,r[h],l)}return new Ht({points:a,options:{}})}(n);if("shape"===t)return!0;const a=function dh(n){return(n.scale||{}).getPointPositionForValue?function uh(n){const{scale:e,fill:t}=n,i=e.options,a=e.getLabels().length,s=i.reverse?e.max:e.min,r=function ih(n,e,t){let i;return i="start"===n?t:"end"===n?e.options.reverse?e.min:e.max:V(n)?n.value:e.getBaseValue(),i}(t,e,s),l=[];if(i.grid.circular){const c=e.getPointPositionForValue(0,s);return new Ks({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(r)})}for(let c=0;c<a;++c)l.push(e.getPointPositionForValue(c,r));return l}(n):function hh(n){const{scale:e={},fill:t}=n,i=function eh(n,e){let t=null;return"start"===n?t=e.bottom:"end"===n?t=e.top:V(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}(t,e);if($(i)){const a=e.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}(n)}(n);return a instanceof Ks?a:Js(a,i)}(e),{chart:a,index:s,line:r,scale:l,axis:c}=e,d=r.options,h=d.fill,u=d.backgroundColor,{above:p=u,below:f=u}=h||{},g=a.getDatasetMeta(s),m=Ka(a,g);i&&r.points.length&&(li(n,t),function ph(n,e){const{line:t,target:i,above:a,below:s,area:r,scale:l,clip:c}=e,d=t._loop?"angle":e.axis;n.save(),"x"===d&&s!==a&&(to(n,i,r.top),eo(n,{line:t,target:i,color:a,scale:l,property:d,clip:c}),n.restore(),n.save(),to(n,i,r.bottom)),eo(n,{line:t,target:i,color:s,scale:l,property:d,clip:c}),n.restore()}(n,{line:r,target:i,above:p,below:f,area:t,scale:l,axis:c,clip:m}),ci(n))}function to(n,e,t){const{segments:i,points:a}=e;let s=!0,r=!1;n.beginPath();for(const l of i){const{start:c,end:d}=l,h=a[c],u=a[En(c,d,a)];s?(n.moveTo(h.x,h.y),s=!1):(n.lineTo(h.x,t),n.lineTo(h.x,h.y)),r=!!e.pathSegment(n,l,{move:r}),r?n.closePath():n.lineTo(u.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function eo(n,e){const{line:t,target:i,property:a,color:s,scale:r,clip:l}=e,c=function Xd(n,e,t){const i=n.segments,a=n.points,s=e.points,r=[];for(const l of i){let{start:c,end:d}=l;d=En(c,d,a);const h=On(t,a[c],a[d],l.loop);if(!e.segments){r.push({source:l,target:h,start:a[c],end:a[d]});continue}const u=Xa(e,h);for(const p of u){const f=On(t,s[p.start],s[p.end],p.loop),g=$a(l,a,f);for(const m of g)r.push({source:m,target:p,start:{[t]:Xs(h,f,"start",Math.max)},end:{[t]:Xs(h,f,"end",Math.min)}})}}return r}(t,i,a);for(const{source:d,target:h,start:u,end:p}of c){const{style:{backgroundColor:f=s}={}}=d,g=!0!==i;n.save(),n.fillStyle=f,fh(n,r,l,g&&On(a,u,p)),n.beginPath();const m=!!t.pathSegment(n,d);let _;if(g){m?n.closePath():io(n,i,p,a);const b=!!i.pathSegment(n,h,{move:m,reverse:!0});_=m&&b,_||io(n,i,u,a)}n.closePath(),n.fill(_?"evenodd":"nonzero"),n.restore()}}function fh(n,e,t,i){const a=e.chart.chartArea,{property:s,start:r,end:l}=i||{};if("x"===s||"y"===s){let c,d,h,u;"x"===s?(c=r,d=a.top,h=l,u=a.bottom):(c=a.left,d=r,h=a.right,u=l),n.beginPath(),t&&(c=Math.max(c,t.left),h=Math.min(h,t.right),d=Math.max(d,t.top),u=Math.min(u,t.bottom)),n.rect(c,d,h-c,u-d),n.clip()}}function io(n,e,t,i){const a=e.interpolate(t,i);a&&n.lineTo(a.x,a.y)}var gh={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,a=[];let s,r,l,c;for(r=0;r<i;++r)s=n.getDatasetMeta(r),l=s.dataset,c=null,l&&l.options&&l instanceof Ht&&(c={visible:n.isDatasetVisible(r),index:r,fill:Kd(l,r,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=c,a.push(c);for(r=0;r<i;++r)c=a[r],c&&!1!==c.fill&&(c.fill=Qd(a,r,t.propagate))},beforeDraw(n,e,t){const i="beforeDraw"===t.drawTime,a=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let r=a.length-1;r>=0;--r){const l=a[r].$filler;!l||(l.line.updateControlPoints(s,l.axis),i&&l.fill&&Pn(n.ctx,l,s))}},beforeDatasetsDraw(n,e,t){if("beforeDatasetsDraw"!==t.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const s=i[a].$filler;Qs(s)&&Pn(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!Qs(i)||"beforeDatasetDraw"!==t.drawTime||Pn(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const no=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}};class ao extends bt{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Y(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,a)=>e.sort(i,a,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,a=Q(i.font),s=a.size,r=this._computeTitleHeight(),{boxWidth:l,itemHeight:c}=no(i,s);let d,h;t.font=a.string,this.isHorizontal()?(d=this.maxWidth,h=this._fitRows(r,s,l,c)+10):(h=this.maxHeight,d=this._fitCols(r,a,l,c)+10),this.width=Math.min(d,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,a){const{ctx:s,maxWidth:r,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.lineWidths=[0],h=a+l;let u=e;s.textAlign="left",s.textBaseline="middle";let p=-1,f=-h;return this.legendItems.forEach((g,m)=>{const _=i+t/2+s.measureText(g.text).width;(0===m||d[d.length-1]+_+2*l>r)&&(u+=h,d[d.length-(m>0?0:1)]=0,f+=h,p++),c[m]={left:0,top:f,row:p,width:_,height:a},d[d.length-1]+=_+l}),u}_fitCols(e,t,i,a){const{ctx:s,maxHeight:r,options:{labels:{padding:l}}}=this,c=this.legendHitBoxes=[],d=this.columnSizes=[],h=r-e;let u=l,p=0,f=0,g=0,m=0;return this.legendItems.forEach((_,b)=>{const{itemWidth:x,itemHeight:M}=function _h(n,e,t,i,a){const s=function bh(n,e,t,i){let a=n.text;return a&&"string"!=typeof a&&(a=a.reduce((s,r)=>s.length>r.length?s:r)),e+t.size/2+i.measureText(a).width}(i,n,e,t),r=function xh(n,e,t){let i=n;return"string"!=typeof e.text&&(i=so(e,t)),i}(a,i,e.lineHeight);return{itemWidth:s,itemHeight:r}}(i,t,s,_,a);b>0&&f+M+2*l>h&&(u+=p+l,d.push({width:p,height:f}),g+=p+l,m++,p=f=0),c[b]={left:g,top:f,col:m,width:x,height:M},p=Math.max(p,x),f+=M+l}),u+=p,d.push({width:p,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:a},rtl:s}}=this,r=fe(s,this.left,this.width);if(this.isHorizontal()){let l=0,c=nt(i,this.left+a,this.right-this.lineWidths[l]);for(const d of t)l!==d.row&&(l=d.row,c=nt(i,this.left+a,this.right-this.lineWidths[l])),d.top+=this.top+e+a,d.left=r.leftForLtr(r.x(c),d.width),c+=d.width+a}else{let l=0,c=nt(i,this.top+e+a,this.bottom-this.columnSizes[l].height);for(const d of t)d.col!==l&&(l=d.col,c=nt(i,this.top+e+a,this.bottom-this.columnSizes[l].height)),d.top=c,d.left+=this.left+a,d.left=r.leftForLtr(r.x(d.left),d.width),c+=d.height+a}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;li(e,this),this._draw(),ci(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:a}=this,{align:s,labels:r}=e,l=U.color,c=fe(e.rtl,this.left,this.width),d=Q(r.font),{padding:h}=r,u=d.size,p=u/2;let f;this.drawTitle(),a.textAlign=c.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:g,boxHeight:m,itemHeight:_}=no(r,u),M=this.isHorizontal(),v=this._computeTitleHeight();f=M?{x:nt(s,this.left+h,this.right-i[0]),y:this.top+h+v,line:0}:{x:this.left+h,y:nt(s,this.top+v+h,this.bottom-t[0].height),line:0},qa(this.ctx,e.textDirection);const y=_+h;this.legendItems.forEach((D,w)=>{a.strokeStyle=D.fontColor,a.fillStyle=D.fontColor;const k=a.measureText(D.text).width,S=c.textAlign(D.textAlign||(D.textAlign=r.textAlign)),R=g+p+k;let F=f.x,N=f.y;c.setWidth(this.width),M?w>0&&F+R+h>this.right&&(N=f.y+=y,f.line++,F=f.x=nt(s,this.left+h,this.right-i[f.line])):w>0&&N+y>this.bottom&&(F=f.x=F+t[f.line].width+h,f.line++,N=f.y=nt(s,this.top+v+h,this.bottom-t[f.line].height)),function(D,w,k){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;a.save();const S=I(k.lineWidth,1);if(a.fillStyle=I(k.fillStyle,l),a.lineCap=I(k.lineCap,"butt"),a.lineDashOffset=I(k.lineDashOffset,0),a.lineJoin=I(k.lineJoin,"miter"),a.lineWidth=S,a.strokeStyle=I(k.strokeStyle,l),a.setLineDash(I(k.lineDash,[])),r.usePointStyle){const R={radius:m*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:S},F=c.xPlus(D,g/2);Ia(a,R,F,w+p,r.pointStyleWidth&&g)}else{const R=w+Math.max((u-m)/2,0),F=c.leftForLtr(D,g),N=Gt(k.borderRadius);a.beginPath(),Object.values(N).some(et=>0!==et)?Ee(a,{x:F,y:R,w:g,h:m,radius:N}):a.rect(F,R,g,m),a.fill(),0!==S&&a.stroke()}a.restore()}(c.x(F),N,D),F=((n,e,t,i)=>n===(i?"left":"right")?t:"center"===n?(e+t)/2:e)(S,F+g+p,M?F+R:this.right,e.rtl),function(D,w,k){Wt(a,k.text,D,w+_/2,d,{strikethrough:k.hidden,textAlign:c.textAlign(k.textAlign)})}(c.x(F),N,D),M?f.x+=R+h:f.y+="string"!=typeof D.text?so(D,d.lineHeight)+h:y}),Ua(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=Q(t.font),a=at(t.padding);if(!t.display)return;const s=fe(e.rtl,this.left,this.width),r=this.ctx,l=t.position,d=a.top+i.size/2;let h,u=this.left,p=this.width;if(this.isHorizontal())p=Math.max(...this.lineWidths),h=this.top+d,u=nt(e.align,u,this.right-p);else{const g=this.columnSizes.reduce((m,_)=>Math.max(m,_.height),0);h=d+nt(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const f=nt(l,u,u+p);r.textAlign=s.textAlign(nn(l)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=i.string,Wt(r,t.text,f,h,i)}_computeTitleHeight(){const e=this.options.title,t=Q(e.font),i=at(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,a,s;if(St(e,this.left,this.right)&&St(t,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(a=s[i],St(e,a.left,a.left+a.width)&&St(t,a.top,a.top+a.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function yh(n,e){return!(("mousemove"!==n&&"mouseout"!==n||!e.onHover&&!e.onLeave)&&(!e.onClick||"click"!==n&&"mouseup"!==n))}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,s=((n,e)=>null!==n&&null!==e&&n.datasetIndex===e.datasetIndex&&n.index===e.index)(a,i);a&&!s&&Y(t.onLeave,[e,a,this],this),this._hoveredItem=i,i&&!s&&Y(t.onHover,[e,i,this],this)}else i&&Y(t.onClick,[e,i,this],this)}}function so(n,e){return e*(n.text?n.text.length:0)}var vh={id:"legend",_element:ao,start(n,e,t){const i=n.legend=new ao({ctx:n.ctx,options:t,chart:n});st.configure(n,i,t),st.addBox(n,i)},stop(n){st.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;st.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,a=t.chart;a.isDatasetVisible(i)?(a.hide(i),e.hidden=!0):(a.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:a,color:s,useBorderRadius:r,borderRadius:l}}=n.legend.options;return n._getSortedDatasetMetas().map(c=>{const d=c.controller.getStyle(t?0:void 0),h=at(d.borderWidth);return{text:e[c.index].label,fillStyle:d.backgroundColor,fontColor:s,hidden:!c.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:r&&(l||d.borderRadius),datasetIndex:c.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class In extends bt{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const a=Z(i.text)?i.text.length:1;this._padding=at(i.padding);const s=a*Q(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:a,right:s,options:r}=this,l=r.align;let d,h,u,c=0;return this.isHorizontal()?(h=nt(l,i,s),u=t+e,d=s-i):("left"===r.position?(h=i+e,u=nt(l,a,t),c=-.5*j):(h=s-e,u=nt(l,t,a),c=.5*j),d=a-t),{titleX:h,titleY:u,maxWidth:d,rotation:c}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=Q(t.font),s=i.lineHeight/2+this._padding.top,{titleX:r,titleY:l,maxWidth:c,rotation:d}=this._drawArgs(s);Wt(e,t.text,0,0,i,{color:t.color,maxWidth:c,rotation:d,textAlign:nn(t.align),textBaseline:"middle",translation:[r,l]})}}var Ch={id:"title",_element:In,start(n,e,t){!function Mh(n,e){const t=new In({ctx:n.ctx,options:e,chart:n});st.configure(n,t,e),st.addBox(n,t),n.titleBlock=t}(n,t)},stop(n){st.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;st.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Oi=new WeakMap;var Dh={id:"subtitle",start(n,e,t){const i=new In({ctx:n.ctx,options:t,chart:n});st.configure(n,i,t),st.addBox(n,i),Oi.set(n,i)},stop(n){st.removeBox(n,Oi.get(n)),Oi.delete(n)},beforeUpdate(n,e,t){const i=Oi.get(n);st.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ze={average(n){if(!n.length)return!1;let e,t,i=new Set,a=0,s=0;for(e=0,t=n.length;e<t;++e){const l=n[e].element;if(l&&l.hasValue()){const c=l.tooltipPosition();i.add(c.x),a+=c.y,++s}}return 0!==s&&0!==i.size&&{x:[...i].reduce((l,c)=>l+c)/i.size,y:a/s}},nearest(n,e){if(!n.length)return!1;let s,r,l,t=e.x,i=e.y,a=Number.POSITIVE_INFINITY;for(s=0,r=n.length;s<r;++s){const c=n[s].element;if(c&&c.hasValue()){const h=tn(e,c.getCenterPoint());h<a&&(a=h,l=c)}}if(l){const c=l.tooltipPosition();t=c.x,i=c.y}return{x:t,y:i}}};function Ct(n,e){return e&&(Z(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function It(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function wh(n,e){const{element:t,datasetIndex:i,index:a}=e,s=n.getDatasetMeta(i).controller,{label:r,value:l}=s.getLabelAndValue(a);return{chart:n,label:r,parsed:s.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:l,dataset:s.getDataset(),dataIndex:a,datasetIndex:i,element:t}}function oo(n,e){const t=n.chart.ctx,{body:i,footer:a,title:s}=n,{boxWidth:r,boxHeight:l}=e,c=Q(e.bodyFont),d=Q(e.titleFont),h=Q(e.footerFont),u=s.length,p=a.length,f=i.length,g=at(e.padding);let m=g.height,_=0,b=i.reduce((v,y)=>v+y.before.length+y.lines.length+y.after.length,0);b+=n.beforeBody.length+n.afterBody.length,u&&(m+=u*d.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),b&&(m+=f*(e.displayColors?Math.max(l,c.lineHeight):c.lineHeight)+(b-f)*c.lineHeight+(b-1)*e.bodySpacing),p&&(m+=e.footerMarginTop+p*h.lineHeight+(p-1)*e.footerSpacing);let x=0;const M=function(v){_=Math.max(_,t.measureText(v).width+x)};return t.save(),t.font=d.string,H(n.title,M),t.font=c.string,H(n.beforeBody.concat(n.afterBody),M),x=e.displayColors?r+2+e.boxPadding:0,H(i,v=>{H(v.before,M),H(v.lines,M),H(v.after,M)}),x=0,t.font=h.string,H(n.footer,M),t.restore(),_+=g.width,{width:_,height:m}}function Sh(n,e,t,i){const{x:a,width:s}=t,{width:r,chartArea:{left:l,right:c}}=n;let d="center";return"center"===i?d=a<=(l+c)/2?"left":"right":a<=s/2?d="left":a>=r-s/2&&(d="right"),function Ah(n,e,t,i){const{x:a,width:s}=i,r=t.caretSize+t.caretPadding;if("left"===n&&a+s+r>e.width||"right"===n&&a-s-r<0)return!0}(d,n,e,t)&&(d="center"),d}function ro(n,e,t){const i=t.yAlign||e.yAlign||function kh(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}(n,t);return{xAlign:t.xAlign||e.xAlign||Sh(n,e,t,i),yAlign:i}}function lo(n,e,t,i){const{caretSize:a,caretPadding:s,cornerRadius:r}=n,{xAlign:l,yAlign:c}=t,d=a+s,{topLeft:h,topRight:u,bottomLeft:p,bottomRight:f}=Gt(r);let g=function Th(n,e){let{x:t,width:i}=n;return"right"===e?t-=i:"center"===e&&(t-=i/2),t}(e,l);const m=function Oh(n,e,t){let{y:i,height:a}=n;return"top"===e?i+=t:i-="bottom"===e?a+t:a/2,i}(e,c,d);return"center"===c?"left"===l?g+=d:"right"===l&&(g-=d):"left"===l?g-=Math.max(h,p)+a:"right"===l&&(g+=Math.max(u,f)+a),{x:K(g,0,i.width-e.width),y:K(m,0,i.height-e.height)}}function Ei(n,e,t){const i=at(t.padding);return"center"===e?n.x+n.width/2:"right"===e?n.x+n.width-i.right:n.x+i.left}function co(n){return Ct([],It(n))}function ho(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const uo={beforeTitle:At,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:At,beforeBody:At,beforeLabel:At,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return L(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:At,afterBody:At,beforeFooter:At,footer:At,afterFooter:At};function lt(n,e,t,i){const a=n[e].call(t,i);return typeof a>"u"?uo[e].call(t,i):a}class Rn extends bt{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&t.options.animation&&i.animations,s=new es(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=function Eh(n,e,t){return Nt(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,a=lt(i,"beforeTitle",this,e),s=lt(i,"title",this,e),r=lt(i,"afterTitle",this,e);let l=[];return l=Ct(l,It(a)),l=Ct(l,It(s)),l=Ct(l,It(r)),l}getBeforeBody(e,t){return co(lt(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,a=[];return H(e,s=>{const r={before:[],lines:[],after:[]},l=ho(i,s);Ct(r.before,It(lt(l,"beforeLabel",this,s))),Ct(r.lines,lt(l,"label",this,s)),Ct(r.after,It(lt(l,"afterLabel",this,s))),a.push(r)}),a}getAfterBody(e,t){return co(lt(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,a=lt(i,"beforeFooter",this,e),s=lt(i,"footer",this,e),r=lt(i,"afterFooter",this,e);let l=[];return l=Ct(l,It(a)),l=Ct(l,It(s)),l=Ct(l,It(r)),l}_createItems(e){const t=this._active,i=this.chart.data,a=[],s=[],r=[];let c,d,l=[];for(c=0,d=t.length;c<d;++c)l.push(wh(this.chart,t[c]));return e.filter&&(l=l.filter((h,u,p)=>e.filter(h,u,p,i))),e.itemSort&&(l=l.sort((h,u)=>e.itemSort(h,u,i))),H(l,h=>{const u=ho(e.callbacks,h);a.push(lt(u,"labelColor",this,h)),s.push(lt(u,"labelPointStyle",this,h)),r.push(lt(u,"labelTextColor",this,h))}),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=r,this.dataPoints=l,l}update(e,t){const i=this.options.setContext(this.getContext()),a=this._active;let s,r=[];if(a.length){const l=Ze[i.position].call(this,a,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const c=this._size=oo(this,i),d=Object.assign({},l,c),h=ro(this.chart,i,d),u=lo(i,d,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:u.x,y:u.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=r,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,a){const s=this.getCaretPosition(e,i,a);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,i){const{xAlign:a,yAlign:s}=this,{caretSize:r,cornerRadius:l}=i,{topLeft:c,topRight:d,bottomLeft:h,bottomRight:u}=Gt(l),{x:p,y:f}=e,{width:g,height:m}=t;let _,b,x,M,v,y;return"center"===s?(v=f+m/2,"left"===a?(_=p,b=_-r,M=v+r,y=v-r):(_=p+g,b=_+r,M=v-r,y=v+r),x=_):(b="left"===a?p+Math.max(c,h)+r:"right"===a?p+g-Math.max(d,u)-r:this.caretX,"top"===s?(M=f,v=M-r,_=b-r,x=b+r):(M=f+m,v=M+r,_=b+r,x=b-r),y=M),{x1:_,x2:b,x3:x,y1:M,y2:v,y3:y}}drawTitle(e,t,i){const a=this.title,s=a.length;let r,l,c;if(s){const d=fe(i.rtl,this.x,this.width);for(e.x=Ei(this,i.titleAlign,i),t.textAlign=d.textAlign(i.titleAlign),t.textBaseline="middle",r=Q(i.titleFont),l=i.titleSpacing,t.fillStyle=i.titleColor,t.font=r.string,c=0;c<s;++c)t.fillText(a[c],d.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+l,c+1===s&&(e.y+=i.titleMarginBottom-l)}}_drawColorBox(e,t,i,a,s){const r=this.labelColors[i],l=this.labelPointStyles[i],{boxHeight:c,boxWidth:d}=s,h=Q(s.bodyFont),u=Ei(this,"left",s),p=a.x(u),g=t.y+(c<h.lineHeight?(h.lineHeight-c)/2:0);if(s.usePointStyle){const m={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},_=a.leftForLtr(p,d)+d/2,b=g+c/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,ln(e,m,_,b),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,ln(e,m,_,b)}else{e.lineWidth=V(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const m=a.leftForLtr(p,d),_=a.leftForLtr(a.xPlus(p,1),d-2),b=Gt(r.borderRadius);Object.values(b).some(x=>0!==x)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Ee(e,{x:m,y:g,w:d,h:c,radius:b}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Ee(e,{x:_,y:g+1,w:d-2,h:c-2,radius:b}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,d,c),e.strokeRect(m,g,d,c),e.fillStyle=r.backgroundColor,e.fillRect(_,g+1,d-2,c-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:a}=this,{bodySpacing:s,bodyAlign:r,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:h}=i,u=Q(i.bodyFont);let p=u.lineHeight,f=0;const g=fe(i.rtl,this.x,this.width),m=function(k){t.fillText(k,g.x(e.x+f),e.y+p/2),e.y+=p+s},_=g.textAlign(r);let b,x,M,v,y,D,w;for(t.textAlign=r,t.textBaseline="middle",t.font=u.string,e.x=Ei(this,_,i),t.fillStyle=i.bodyColor,H(this.beforeBody,m),f=l&&"right"!==_?"center"===r?d/2+h:d+2+h:0,v=0,D=a.length;v<D;++v){for(b=a[v],x=this.labelTextColors[v],t.fillStyle=x,H(b.before,m),M=b.lines,l&&M.length&&(this._drawColorBox(t,e,v,g,i),p=Math.max(u.lineHeight,c)),y=0,w=M.length;y<w;++y)m(M[y]),p=u.lineHeight;H(b.after,m)}f=0,p=u.lineHeight,H(this.afterBody,m),e.y-=s}drawFooter(e,t,i){const a=this.footer,s=a.length;let r,l;if(s){const c=fe(i.rtl,this.x,this.width);for(e.x=Ei(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=c.textAlign(i.footerAlign),t.textBaseline="middle",r=Q(i.footerFont),t.fillStyle=i.footerColor,t.font=r.string,l=0;l<s;++l)t.fillText(a[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,t,i,a){const{xAlign:s,yAlign:r}=this,{x:l,y:c}=e,{width:d,height:h}=i,{topLeft:u,topRight:p,bottomLeft:f,bottomRight:g}=Gt(a.cornerRadius);t.fillStyle=a.backgroundColor,t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.beginPath(),t.moveTo(l+u,c),"top"===r&&this.drawCaret(e,t,i,a),t.lineTo(l+d-p,c),t.quadraticCurveTo(l+d,c,l+d,c+p),"center"===r&&"right"===s&&this.drawCaret(e,t,i,a),t.lineTo(l+d,c+h-g),t.quadraticCurveTo(l+d,c+h,l+d-g,c+h),"bottom"===r&&this.drawCaret(e,t,i,a),t.lineTo(l+f,c+h),t.quadraticCurveTo(l,c+h,l,c+h-f),"center"===r&&"left"===s&&this.drawCaret(e,t,i,a),t.lineTo(l,c+u),t.quadraticCurveTo(l,c,l+u,c),t.closePath(),t.fill(),a.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,a=i&&i.x,s=i&&i.y;if(a||s){const r=Ze[e.position].call(this,this._active,this._eventPosition);if(!r)return;const l=this._size=oo(this,e),c=Object.assign({},r,this._size),d=ro(t,e,c),h=lo(e,c,d,t);(a._to!==h.x||s._to!==h.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const a={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=at(t.padding);t.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,a,t),qa(e,t.textDirection),s.y+=r.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),Ua(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,a=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),s=!ii(i,a),r=this._positionChanged(a,t);(s||r)&&(this._active=a,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,s=this._active||[],r=this._getActiveElements(e,s,t,i),l=this._positionChanged(r,e),c=t||!ii(r,s)||l;return c&&(this._active=r,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),c}_getActiveElements(e,t,i,a){const s=this.options;if("mouseout"===e.type)return[];if(!a)return t.filter(l=>this.chart.data.datasets[l.datasetIndex]&&void 0!==this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index));const r=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:i,caretY:a,options:s}=this,r=Ze[s.position].call(this,e,t);return!1!==r&&(i!==r.x||a!==r.y)}}C(Rn,"positioners",Ze);var Ih=Object.freeze({__proto__:null,Colors:qd,Decimation:$d,Filler:gh,Legend:vh,SubTitle:Dh,Title:Ch,Tooltip:{id:"tooltip",_element:Rn,positioners:Ze,afterInit(n,e,t){t&&(n.tooltip=new Rn({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(!1===n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0}))return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){n.tooltip&&n.tooltip.handleEvent(e.event,e.replay,e.inChartArea)&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:uo},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});function po(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Fn extends te{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:a,label:s}of t)i[a]===s&&i.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(L(e))return null;const i=this.getLabels();return((n,e)=>null===n?null:K(Math.round(n),0,e))(t=isFinite(t)&&i[t]===e?t:function Fh(n,e,t,i){const a=n.indexOf(e);return-1===a?((n,e,t,i)=>("string"==typeof e?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t))(n,e,t,i):a!==n.lastIndexOf(e)?t:a}(i,e,I(t,e),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),t||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,a=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=e;r<=t;r++)a.push({value:r});return a}getLabelForValue(e){return po.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function fo(n,e,{horizontal:t,minRotation:i}){const a=mt(i),s=(t?Math.sin(a):Math.cos(a))||.001;return Math.min(e/s,.75*e*(""+n).length)}C(Fn,"id","category"),C(Fn,"defaults",{ticks:{callback:po}});class Pi extends te{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return L(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:a,max:s}=this;const r=c=>a=t?a:c,l=c=>s=i?s:c;if(e){const c=vt(a),d=vt(s);c<0&&d<0?l(0):c>0&&d>0&&r(0)}if(a===s){let c=0===s?1:Math.abs(.05*s);l(s+c),e||r(a-c)}this.min=a,this.max=s}getTickLimit(){const e=this.options.ticks;let a,{maxTicksLimit:t,stepSize:i}=e;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),t=t||11),t&&(a=Math.min(t,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r=function Vh(n,e){const t=[],{bounds:a,step:s,min:r,max:l,precision:c,count:d,maxTicks:h,maxDigits:u,includeBounds:p}=n,f=s||1,g=h-1,{min:m,max:_}=e,b=!L(r),x=!L(l),M=!L(d),v=(_-m)/(u+1);let D,w,k,S,y=ma((_-m)/g/f)*f;if(y<1e-14&&!b&&!x)return[{value:m},{value:_}];S=Math.ceil(_/y)-Math.floor(m/y),S>g&&(y=ma(S*y/g/f)*f),L(c)||(D=Math.pow(10,c),y=Math.ceil(y*D)/D),"ticks"===a?(w=Math.floor(m/y)*y,k=Math.ceil(_/y)*y):(w=m,k=_),b&&x&&s&&function Or(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}((l-r)/s,y/1e3)?(S=Math.round(Math.min((l-r)/y,h)),y=(l-r)/S,w=r,k=l):M?(w=b?r:w,k=x?l:k,S=d-1,y=(k-w)/S):(S=(k-w)/y,S=ke(S,Math.round(S),y/1e3)?Math.round(S):Math.ceil(S));const R=Math.max(ba(y),ba(w));D=Math.pow(10,L(c)?R:c),w=Math.round(w*D)/D,k=Math.round(k*D)/D;let F=0;for(b&&(p&&w!==r?(t.push({value:r}),w<r&&F++,ke(Math.round((w+F*y)*D)/D,r,fo(r,v,n))&&F++):w<r&&F++);F<S;++F){const N=Math.round((w+F*y)*D)/D;if(x&&N>l)break;t.push({value:N})}return x&&p&&k!==l?t.length&&ke(t[t.length-1].value,l,fo(l,v,n))?t[t.length-1].value=l:t.push({value:l}):(!x||k===l)&&t.push({value:k}),t}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&_a(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const a=(i-t)/Math.max(e.length-1,1)/2;t-=a,i+=a}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return Te(e,this.chart.options.locale,this.options.ticks.format)}}class Ln extends Pi{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=$(e)?e:0,this.max=$(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=mt(this.options.ticks.minRotation),a=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/a))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}C(Ln,"id","linear"),C(Ln,"defaults",{ticks:{callback:oi.formatters.numeric}});const je=n=>Math.floor(Bt(n)),ee=(n,e)=>Math.pow(10,je(n)+e);function go(n){return n/Math.pow(10,je(n))==1}function mo(n,e,t){const i=Math.pow(10,t),a=Math.floor(n/i);return Math.ceil(e/i)-a}class Vn extends te{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=Pi.prototype.parse.apply(this,[e,t]);if(0!==i)return $(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=$(e)?Math.max(0,e):null,this.max=$(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$(this._userMin)&&(this.min=e===ee(this.min,0)?ee(this.min,-1):ee(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,a=this.max;const s=l=>i=e?i:l,r=l=>a=t?a:l;i===a&&(i<=0?(s(1),r(10)):(s(ee(i,-1)),r(ee(a,1)))),i<=0&&s(ee(a,-1)),a<=0&&r(ee(i,1)),this.min=i,this.max=a}buildTicks(){const e=this.options,i=function Nh(n,{min:e,max:t}){e=ht(n.min,e);const i=[],a=je(e);let s=function Bh(n,e){let i=je(e-n);for(;mo(n,e,i)>10;)i++;for(;mo(n,e,i)<10;)i--;return Math.min(i,je(n))}(e,t),r=s<0?Math.pow(10,Math.abs(s)):1;const l=Math.pow(10,s),c=a>s?Math.pow(10,a):0,d=Math.round((e-c)*r)/r,h=Math.floor((e-c)/l/10)*l*10;let u=Math.floor((d-h)/Math.pow(10,s)),p=ht(n.min,Math.round((c+h+u*Math.pow(10,s))*r)/r);for(;p<t;)i.push({value:p,major:go(p),significand:u}),u>=10?u=u<15?15:20:u++,u>=20&&(s++,u=2,r=s>=0?1:r),p=Math.round((c+h+u*Math.pow(10,s))*r)/r;const f=ht(n.max,p);return i.push({value:f,major:go(f),significand:u}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&_a(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return void 0===e?"0":Te(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Bt(e),this._valueRange=Bt(this.max)-Bt(e)}getPixelForValue(e){return(void 0===e||0===e)&&(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Bt(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Bn(n){const e=n.ticks;if(e.display&&n.display){const t=at(e.backdropPadding);return I(e.font&&e.font.size,U.font.size)+t.height}return 0}function Hh(n,e,t){return t=Z(t)?t:[t],{w:Wr(n,e.string,t),h:t.length*e.lineHeight}}function _o(n,e,t,i,a){return n===i||n===a?{start:e-t/2,end:e+t/2}:n<i||n>a?{start:e-t,end:e}:{start:e,end:e+t}}function Yh(n,e,t,i,a){const s=Math.abs(Math.sin(t)),r=Math.abs(Math.cos(t));let l=0,c=0;i.start<e.l?(l=(e.l-i.start)/s,n.l=Math.min(n.l,e.l-l)):i.end>e.r&&(l=(i.end-e.r)/s,n.r=Math.max(n.r,e.r+l)),a.start<e.t?(c=(e.t-a.start)/r,n.t=Math.min(n.t,e.t-c)):a.end>e.b&&(c=(a.end-e.b)/r,n.b=Math.max(n.b,e.b+c))}function Zh(n,e,t){const i=n.drawingArea,{extra:a,additionalAngle:s,padding:r,size:l}=t,c=n.getPointPosition(e,i+a+r,s),d=Math.round(Ki(ut(c.angle+X))),h=function Gh(n,e,t){return 90===t||270===t?n-=e/2:(t>270||t<90)&&(n-=e),n}(c.y,l.h,d),u=function Uh(n){return 0===n||180===n?"center":n<180?"left":"right"}(d),p=function Wh(n,e,t){return"right"===t?n-=e:"center"===t&&(n-=e/2),n}(c.x,l.w,u);return{visible:!0,x:c.x,y:h,textAlign:u,left:p,top:h,right:p+l.w,bottom:h+l.h}}function jh(n,e){if(!e)return!0;const{left:t,top:i,right:a,bottom:s}=n;return!(Ot({x:t,y:i},e)||Ot({x:t,y:s},e)||Ot({x:a,y:i},e)||Ot({x:a,y:s},e))}function $h(n,e,t){const{left:i,top:a,right:s,bottom:r}=t,{backdropColor:l}=e;if(!L(l)){const c=Gt(e.borderRadius),d=at(e.backdropPadding);n.fillStyle=l;const h=i-d.left,u=a-d.top,p=s-i+d.width,f=r-a+d.height;Object.values(c).some(g=>0!==g)?(n.beginPath(),Ee(n,{x:h,y:u,w:p,h:f,radius:c}),n.fill()):n.fillRect(h,u,p,f)}}function bo(n,e,t,i){const{ctx:a}=n;if(t)a.arc(n.xCenter,n.yCenter,e,0,q);else{let s=n.getPointPosition(0,e);a.moveTo(s.x,s.y);for(let r=1;r<i;r++)s=n.getPointPosition(r,e),a.lineTo(s.x,s.y)}}C(Vn,"id","logarithmic"),C(Vn,"defaults",{ticks:{callback:oi.formatters.logarithmic,major:{enabled:!0}}});class qe extends Pi{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=at(Bn(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=$(e)&&!isNaN(e)?e:0,this.max=$(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Bn(this.options))}generateTickLabels(e){Pi.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,i)=>{const a=Y(this.options.pointLabels.callback,[t,i],this);return a||0===a?a:""}).filter((t,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?function zh(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),i=[],a=[],s=n._pointLabels.length,r=n.options.pointLabels,l=r.centerPointLabels?j/s:0;for(let c=0;c<s;c++){const d=r.setContext(n.getPointLabelContext(c));a[c]=d.padding;const h=n.getPointPosition(c,n.drawingArea+a[c],l),u=Q(d.font),p=Hh(n.ctx,u,n._pointLabels[c]);i[c]=p;const f=ut(n.getIndexAngle(c)+l),g=Math.round(Ki(f));Yh(t,e,f,_o(g,h.x,p.w,0,180),_o(g,h.y,p.h,90,270))}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=function qh(n,e,t){const i=[],a=n._pointLabels.length,s=n.options,{centerPointLabels:r,display:l}=s.pointLabels,c={extra:Bn(s)/2,additionalAngle:r?j/a:0};let d;for(let h=0;h<a;h++){c.padding=t[h],c.size=e[h];const u=Zh(n,h,c);i.push(u),"auto"===l&&(u.visible=jh(u,d),u.visible&&(d=u))}return i}(n,i,a)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,a){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,a))}getIndexAngle(e){return ut(e*(q/(this._pointLabels.length||1))+mt(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(L(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(L(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function Qh(n,e,t){return Nt(n,{label:t,index:e,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const a=this.getIndexAngle(e)-X+i;return{x:Math.cos(a)*t+this.xCenter,y:Math.sin(a)*t+this.yCenter,angle:a}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:a,bottom:s}=this._pointLabelItems[e];return{left:t,top:i,right:a,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),bo(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:a,border:s}=t,r=this._pointLabels.length;let l,c,d;if(t.pointLabels.display&&function Xh(n,e){const{ctx:t,options:{pointLabels:i}}=n;for(let a=e-1;a>=0;a--){const s=n._pointLabelItems[a];if(!s.visible)continue;const r=i.setContext(n.getPointLabelContext(a));$h(t,r,s);const l=Q(r.font),{x:c,y:d,textAlign:h}=s;Wt(t,n._pointLabels[a],c,d+l.lineHeight/2,l,{color:r.color,textAlign:h,textBaseline:"middle"})}}(this,r),a.display&&this.ticks.forEach((h,u)=>{if(0!==u||0===u&&this.min<0){c=this.getDistanceFromCenterForValue(h.value);const p=this.getContext(u),f=a.setContext(p),g=s.setContext(p);!function Jh(n,e,t,i,a){const s=n.ctx,r=e.circular,{color:l,lineWidth:c}=e;!r&&!i||!l||!c||t<0||(s.save(),s.strokeStyle=l,s.lineWidth=c,s.setLineDash(a.dash||[]),s.lineDashOffset=a.dashOffset,s.beginPath(),bo(n,t,r,i),s.closePath(),s.stroke(),s.restore())}(this,f,c,r,g)}}),i.display){for(e.save(),l=r-1;l>=0;l--){const h=i.setContext(this.getPointLabelContext(l)),{color:u,lineWidth:p}=h;!p||!u||(e.lineWidth=p,e.strokeStyle=u,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,c=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),d=this.getPointPosition(l,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(d.x,d.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const a=this.getIndexAngle(0);let s,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,c)=>{if(0===c&&this.min>=0&&!t.reverse)return;const d=i.setContext(this.getContext(c)),h=Q(d.font);if(s=this.getDistanceFromCenterForValue(this.ticks[c].value),d.showLabelBackdrop){e.font=h.string,r=e.measureText(l.label).width,e.fillStyle=d.backdropColor;const u=at(d.backdropPadding);e.fillRect(-r/2-u.left,-s-h.size/2-u.top,r+u.width,h.size+u.height)}Wt(e,l.label,0,-s,h,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),e.restore()}drawTitle(){}}C(qe,"id","radialLinear"),C(qe,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:oi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),C(qe,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),C(qe,"descriptors",{angleLines:{_fallback:"grid"}});const Ii={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ct=Object.keys(Ii);function xo(n,e){return n-e}function yo(n,e){if(L(e))return null;const t=n._adapter,{parser:i,round:a,isoWeekday:s}=n._parseOpts;let r=e;return"function"==typeof i&&(r=i(r)),$(r)||(r="string"==typeof i?t.parse(r,i):t.parse(r)),null===r?null:(a&&(r="week"!==a||!he(s)&&!0!==s?t.startOf(r,a):t.startOf(r,"isoWeek",s)),+r)}function vo(n,e,t,i){const a=ct.length;for(let s=ct.indexOf(n);s<a-1;++s){const r=Ii[ct[s]],l=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((t-e)/(l*r.size))<=i)return ct[s]}return ct[a-1]}function Mo(n,e,t){if(t){if(t.length){const{lo:i,hi:a}=en(t,e);n[t[i]>=e?t[i]:t[a]]=!0}}else n[e]=!0}function Co(n,e,t){const i=[],a={},s=e.length;let r,l;for(r=0;r<s;++r)l=e[r],a[l]=r,i.push({value:l,major:!1});return 0!==s&&t?function eu(n,e,t,i){const a=n._adapter,s=+a.startOf(e[0].value,i),r=e[e.length-1].value;let l,c;for(l=s;l<=r;l=+a.add(l,1,i))c=t[l],c>=0&&(e[c].major=!0);return e}(n,i,a,t):i}class Ue extends te{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),a=this._adapter=new dc__date(e.adapters.date);a.init(t),De(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:yo(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:a,max:s,minDefined:r,maxDefined:l}=this.getUserBounds();function c(d){!r&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!l&&!isNaN(d.max)&&(s=Math.max(s,d.max))}(!r||!l)&&(c(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&c(this.getMinMax(!1))),a=$(a)&&!isNaN(a)?a:+t.startOf(Date.now(),i),s=$(s)&&!isNaN(s)?s:+t.endOf(Date.now(),i)+1,this.min=Math.min(a,s-1),this.max=Math.max(a+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,a="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const s=this.min,l=function Rr(n,e,t){let i=0,a=n.length;for(;i<a&&n[i]<e;)i++;for(;a>i&&n[a-1]>t;)a--;return i>0||a<n.length?n.slice(i,a):n}(a,s,this.max);return this._unit=t.unit||(i.autoSkip?vo(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function Kh(n,e,t,i,a){for(let s=ct.length-1;s>=ct.indexOf(t);s--){const r=ct[s];if(Ii[r].common&&n._adapter.diff(a,i,r)>=e-1)return r}return ct[t?ct.indexOf(t):0]}(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function tu(n){for(let e=ct.indexOf(n)+1,t=ct.length;e<t;++e)if(Ii[ct[e]].common)return ct[e]}(this._unit):void 0,this.initOffsets(a),e.reverse&&l.reverse(),Co(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let a,s,t=0,i=0;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),t=1===e.length?1-a:(this.getDecimalForValue(e[1])-a)/2,s=this.getDecimalForValue(e[e.length-1]),i=1===e.length?s:(s-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;t=K(t,0,r),i=K(i,0,r),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,a=this.options,s=a.time,r=s.unit||vo(s.minUnit,t,i,this._getLabelCapacity(t)),l=I(a.ticks.stepSize,1),c="week"===r&&s.isoWeekday,d=he(c)||!0===c,h={};let p,f,u=t;if(d&&(u=+e.startOf(u,"isoWeek",c)),u=+e.startOf(u,d?"day":r),e.diff(i,t,r)>1e5*l)throw new Error(t+" and "+i+" are too far apart with stepSize of "+l+" "+r);const g="data"===a.ticks.source&&this.getDataTimestamps();for(p=u,f=0;p<i;p=+e.add(p,l,r),f++)Mo(h,p,g);return(p===i||"ticks"===a.bounds||1===f)&&Mo(h,p,g),Object.keys(h).sort(xo).map(m=>+m)}getLabelForValue(e){const i=this.options.time;return this._adapter.format(e,i.tooltipFormat?i.tooltipFormat:i.displayFormats.datetime)}format(e,t){return this._adapter.format(e,t||this.options.time.displayFormats[this._unit])}_tickFormatFunction(e,t,i,a){const s=this.options,r=s.ticks.callback;if(r)return Y(r,[e,t,i],this);const l=s.time.displayFormats,c=this._unit,d=this._majorUnit,u=d&&l[d],p=i[t];return this._adapter.format(e,a||(d&&u&&p&&p.major?u:c&&l[c]))}generateTickLabels(e){let t,i,a;for(t=0,i=e.length;t<i;++t)a=e[t],a.label=this._tickFormatFunction(a.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,a=mt(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(a),r=Math.sin(a),l=this._resolveTickFontOptions(0).size;return{w:i*s+l*r,h:i*r+l*s}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,a=i[t.unit]||i.millisecond,s=this._tickFormatFunction(e,0,Co(this,[e],this._majorUnit),a),r=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return l>0?l:1}getDataTimestamps(){let t,i,e=this._cache.data||[];if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(t=0,i=a.length;t<i;++t)e=e.concat(a[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const a=this.getLabels();for(t=0,i=a.length;t<i;++t)e.push(yo(this,a[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ma(e.sort(xo))}}function Ri(n,e,t){let s,r,l,c,i=0,a=n.length-1;t?(e>=n[i].pos&&e<=n[a].pos&&({lo:i,hi:a}=Tt(n,"pos",e)),({pos:s,time:l}=n[i]),({pos:r,time:c}=n[a])):(e>=n[i].time&&e<=n[a].time&&({lo:i,hi:a}=Tt(n,"time",e)),({time:s,pos:l}=n[i]),({time:r,pos:c}=n[a]));const d=r-s;return d?l+(c-l)*(e-s)/d:l}C(Ue,"id","time"),C(Ue,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class Nn extends Ue{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Ri(t,this.min),this._tableRange=Ri(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,a=[],s=[];let r,l,c,d,h;for(r=0,l=e.length;r<l;++r)d=e[r],d>=t&&d<=i&&a.push(d);if(a.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(r=0,l=a.length;r<l;++r)h=a[r+1],c=a[r-1],d=a[r],Math.round((h+c)/2)!==d&&s.push({time:d,pos:r/(l-1)});return s}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||1===i.length)&&i.push(t),i.sort((a,s)=>a-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ri(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Ri(this._table,i*this._tableRange+this._minPos,!0)}}C(Nn,"id","timeseries"),C(Nn,"defaults",Ue.defaults),Pt.register(cc,Bd,Ih,Object.freeze({__proto__:null,CategoryScale:Fn,LinearScale:Ln,LogarithmicScale:Vn,RadialLinearScale:qe,TimeScale:Ue,TimeSeriesScale:Nn}));const Fi=Pt;var o=T(1571),Hn=T(1778),Do=T(9643),O=T(3238),me=T(445),tt=T(1281),ie=T(6451),au=T(4968),Yt=T(8675),ne=T(5698),E=T(7340),ae=T(3353);const su=["connectionContainer"],ou=["inputContainer"],ru=["label"];function lu(n,e){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function cu(n,e){1&n&&(o.TgZ(0,"div",19),o.Hsn(1,1),o.qZA())}function du(n,e){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const t=o.oxw(2);o.xp6(3),o.Oqu(t._control.placeholder)}}function hu(n,e){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function uu(n,e){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function pu(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.updateOutlineGap())}),o.YNc(2,du,4,1,"ng-container",12),o.YNc(3,hu,1,0,"ng-content",12),o.YNc(4,uu,2,0,"span",22),o.qZA()}if(2&n){const t=o.oxw();o.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),o.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),o.uIk("for",t._control.id)("aria-owns",t._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function fu(n,e){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function gu(n,e){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function mu(n,e){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const t=o.oxw();o.Q6J("@transitionMessages",t._subscriptAnimationState)}}function _u(n,e){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.Q6J("id",t._hintLabelId),o.xp6(1),o.Oqu(t.hintLabel)}}function bu(n,e){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,_u,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const t=o.oxw();o.Q6J("@transitionMessages",t._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",t.hintLabel)}}const xu=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yu=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let vu=0;const wo=new o.OlP("MatError");let Mu=(()=>{class n{constructor(t,i){this.id="mat-error-"+vu++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(o.$8M("aria-live"),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&o.uIk("id",i.id)},inputs:{id:"id"},features:[o._Bn([{provide:wo,useExisting:n}])]}),n})();const Cu={transitionMessages:(0,E.X$)("transitionMessages",[(0,E.SB)("enter",(0,E.oB)({opacity:1,transform:"translateY(0%)"})),(0,E.eR)("void => enter",[(0,E.oB)({opacity:0,transform:"translateY(-5px)"}),(0,E.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Li=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n}),n})();const Du=new o.OlP("MatHint");let zn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),wu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const ku=new o.OlP("MatPrefix"),ko=new o.OlP("MatSuffix");let Au=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:ko,useExisting:n}])]}),n})(),Ao=0;const Tu=(0,O.pj)(class{constructor(n){this._elementRef=n}},"primary"),Ou=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Vi=new o.OlP("MatFormField");let To=(()=>{class n extends Tu{constructor(t,i,a,s,r,l,c){super(t),this._changeDetectorRef=i,this._dir=a,this._defaults=s,this._platform=r,this._ngZone=l,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new it.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Ao++,this._labelId="mat-form-field-label-"+Ao++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==c,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=(0,tt.Ig)(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe((0,Yt.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,rt.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,rt.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ie.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,Yt.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,Yt.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,rt.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,au.R)(this._label.nativeElement,"transitionend").pipe((0,ne.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,a=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),a&&t.push(a.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let i=0,a=0;const s=this._connectionContainerRef.nativeElement,r=s.querySelectorAll(".mat-form-field-outline-start"),l=s.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const c=s.getBoundingClientRect();if(0===c.width&&0===c.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const d=this._getStartEnd(c),h=t.children,u=this._getStartEnd(h[0].getBoundingClientRect());let p=0;for(let f=0;f<h.length;f++)p+=h[f].offsetWidth;i=Math.abs(u-d)-5,a=p>0?.75*p+10:0}for(let c=0;c<r.length;c++)r[c].style.width=`${i}px`;for(let c=0;c<l.length;c++)l[c].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(me.Is,8),o.Y36(Ou,8),o.Y36(ae.t4),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,a){if(1&t&&(o.Suo(a,Li,5),o.Suo(a,Li,7),o.Suo(a,zn,5),o.Suo(a,zn,7),o.Suo(a,wu,5),o.Suo(a,wo,5),o.Suo(a,Du,5),o.Suo(a,ku,5),o.Suo(a,ko,5)),2&t){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(o.Gf(su,7),o.Gf(ou,5),o.Gf(ru,5)),2&t){let a;o.iGM(a=o.CRH())&&(i._connectionContainerRef=a.first),o.iGM(a=o.CRH())&&(i._inputContainerRef=a.first),o.iGM(a=o.CRH())&&(i._label=a.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:Vi,useExisting:n}]),o.qOj],ngContentSelectors:yu,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(o.F$t(xu),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,lu,9,0,"ng-container",3),o.YNc(4,cu,2,0,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,pu,5,16,"label",8),o.qZA()(),o.YNc(10,fu,2,0,"div",9),o.qZA(),o.YNc(11,gu,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,mu,2,1,"div",12),o.YNc(14,bu,5,2,"div",13),o.qZA()()),2&t&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[B.O5,B.RF,Do.wD,B.n9],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Cu.transitionMessages]},changeDetection:0}),n})(),Bi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[B.ez,O.BQ,Do.Q8],O.BQ]}),n})();var Dt=T(8184),Yn=T(1218),_e=T(2687);class Eu{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new it.x,t&&t.length&&(e?t.forEach(a=>this._markSelected(a)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}var A=T(9521),W=T(433),Pu=T(9770),Oo=T(3900),Zn=T(9300),Eo=T(4004),Iu=T(1884);const Ru=["trigger"],Fu=["panel"];function Lu(n,e){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const t=o.oxw();o.xp6(1),o.Oqu(t.placeholder)}}function Vu(n,e){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(t.triggerValue)}}function Bu(n,e){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function Nu(n,e){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,Vu,2,1,"span",10),o.YNc(2,Bu,1,0,"ng-content",11),o.qZA()),2&n){const t=o.oxw();o.Q6J("ngSwitch",!!t.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function Hu(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(a.toState))})("keydown",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s._handleKeydown(a))}),o.Hsn(3,1),o.qZA()()}if(2&n){const t=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",t._getPanelTheme(),""),o.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),o.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),o.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const zu=[[["mat-select-trigger"]],"*"],Yu=["mat-select-trigger","*"],Po={transformPanelWrap:(0,E.X$)("transformPanelWrap",[(0,E.eR)("* => void",(0,E.IO)("@transformPanel",[(0,E.pV)()],{optional:!0}))]),transformPanel:(0,E.X$)("transformPanel",[(0,E.SB)("void",(0,E.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,E.SB)("showing",(0,E.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,E.SB)("showing-multiple",(0,E.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,E.eR)("void => *",(0,E.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,E.eR)("* => void",(0,E.jt)("100ms 25ms linear",(0,E.oB)({opacity:0})))])};let Io=0;const Fo=new o.OlP("mat-select-scroll-strategy"),Uu=new o.OlP("MAT_SELECT_CONFIG"),Wu={provide:Fo,deps:[Dt.aV],useFactory:function qu(n){return()=>n.scrollStrategies.reposition()}};class Gu{constructor(e,t){this.source=e,this.value=t}}const $u=(0,O.Kr)((0,O.sb)((0,O.Id)((0,O.FD)(class{constructor(n,e,t,i,a){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=a}})))),Xu=new o.OlP("MatSelectTrigger");let Ju=(()=>{class n extends $u{constructor(t,i,a,s,r,l,c,d,h,u,p,f,g,m){super(r,s,c,d,u),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=a,this._dir=l,this._parentFormField=h,this._liveAnnouncer=g,this._defaultOptions=m,this._panelOpen=!1,this._compareWith=(_,b)=>_===b,this._uid="mat-select-"+Io++,this._triggerAriaLabelledBy=null,this._destroy=new it.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Io++,this._panelDoneAnimatingStream=new it.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=(0,Pu.P)(()=>{const _=this.options;return _?_.changes.pipe((0,Yt.O)(_),(0,Oo.w)(()=>(0,ie.T)(..._.map(b=>b.onSelectionChange)))):this._ngZone.onStable.pipe((0,ne.q)(1),(0,Oo.w)(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe((0,Zn.h)(_=>_),(0,Eo.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,Zn.h)(_=>!_),(0,Eo.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=m?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=m.typeaheadDebounceInterval),this._scrollStrategyFactory=f,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(p)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(W.kI.required)??!1}set required(t){this._required=(0,tt.Ig)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,tt.Ig)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=(0,tt.Ig)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=(0,tt.su)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Eu(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Iu.x)(),(0,rt.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,rt.R)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe((0,Yt.O)(null),(0,rt.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,a=i===A.JH||i===A.LH||i===A.oh||i===A.SV,s=i===A.K5||i===A.L_,r=this._keyManager;if(!r.isTyping()&&s&&!(0,A.Vb)(t)||(this.multiple||t.altKey)&&a)t.preventDefault(),this.open();else if(!this.multiple){const l=this.selected;r.onKeydown(t);const c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,a=t.keyCode,s=a===A.JH||a===A.LH,r=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(r||a!==A.K5&&a!==A.L_||!i.activeItem||(0,A.Vb)(t))if(!r&&this._multiple&&a===A.A&&t.ctrlKey){t.preventDefault();const l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{const l=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==l&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,ne.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectValue(i)),this._sortValues();else{const i=this._selectValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const i=this.options.find(a=>{if(this._selectionModel.isSelected(a))return!1;try{return null!=a.value&&this._compareWith(a.value,t)}catch{return!1}});return i&&this._selectionModel.select(i),i}_initKeyManager(){this._keyManager=new _e.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,rt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,rt.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,ie.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,rt.R)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ie.T)(...this.options.map(i=>i._stateChanges)).pipe((0,rt.R)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const a=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(a!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),a!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,a)=>this.sortComparator?this.sortComparator(i,a,t):t.indexOf(i)-t.indexOf(a)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(a=>a.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const t=this._parentFormField?.getLabelId();let i=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Yn.rL),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(O.rD),o.Y36(o.SBq),o.Y36(me.Is,8),o.Y36(W.F,8),o.Y36(W.sg,8),o.Y36(Vi,8),o.Y36(W.a5,10),o.$8M("tabindex"),o.Y36(Fo),o.Y36(_e.Kd),o.Y36(Uu,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(t,i){if(1&t&&(o.Gf(Ru,5),o.Gf(Fu,5),o.Gf(Dt.pI,5)),2&t){let a;o.iGM(a=o.CRH())&&(i.trigger=a.first),o.iGM(a=o.CRH())&&(i.panel=a.first),o.iGM(a=o.CRH())&&(i._overlayDir=a.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),Lo=(()=>{class n extends Ju{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,a){const s=this._getItemHeight();return Math.min(Math.max(0,s*t-i+s/2),a)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,rt.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,ne.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=(0,O.CB)(t,this.options,this.optionGroups),a=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:(0,O.jH)((t+i)*a,a,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Gu(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),a=this._isRtl(),s=this.multiple?56:32;let r;if(this.multiple)r=40;else if(this.disableOptionCentering)r=16;else{let d=this._selectionModel.selected[0]||this.options.first;r=d&&d.group?32:16}a||(r*=-1);const l=0-(t.left+r-(a?s:0)),c=t.right+r-i.width+(a?0:s);l>0?r+=l+8:c>0&&(r-=c+8),this._overlayDir.offsetX=Math.round(r),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,a){const s=this._getItemHeight(),r=(s-this._triggerRect.height)/2,l=Math.floor(256/s);let c;return this.disableOptionCentering?0:(c=0===this._scrollTop?t*s:this._scrollTop===a?(t-(this._getItemCount()-l))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*c-r))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),a=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,r=a.height-this._triggerRect.bottom-8,l=Math.abs(this._offsetY),d=Math.min(this._getItemCount()*i,256)-l-this._triggerRect.height;d>r?this._adjustPanelUp(d,r):l>s?this._adjustPanelDown(l,s,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const a=Math.round(t-i);this._scrollTop-=a,this._offsetY-=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,a){const s=Math.round(t-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=a)return this._scrollTop=a,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),a=Math.min(i*t,256),r=i*t-a;let l;l=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),l+=(0,O.CB)(l,this.options,this.optionGroups);const c=a/2;this._scrollTop=this._calculateOverlayScroll(l,c,r),this._offsetY=this._calculateOverlayOffsetY(l,c,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,a){if(1&t&&(o.Suo(a,Xu,5),o.Suo(a,O.ey,5),o.Suo(a,O.K7,5)),2&t){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:Li,useExisting:n},{provide:O.HF,useExisting:n}]),o.qOj],ngContentSelectors:Yu,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(o.F$t(zu),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,Lu,2,1,"span",3),o.YNc(5,Nu,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,Hu,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const a=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",a)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[Dt.xu,B.RF,B.n9,B.ED,Dt.pI,B.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[Po.transformPanelWrap,Po.transformPanel]},changeDetection:0}),n})(),Qu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Wu],imports:[[B.ez,Dt.U8,O.Ng,O.BQ],Yn.ZD,Bi,O.Ng,O.BQ]}),n})();var Hi=T(9353),Ku=T(9751);let tp=(()=>{class n{transform(t,i=P.Hp.STRING_MAX_LENGTH){return t?t.length>i?t.slice(0,i)+".....":t:" "}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"truncateString",type:n,pure:!0,standalone:!0}),n})();function ep(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"a",12),o.NdJ("keyup.enter",function(){o.CHM(t),o.oxw(3);const a=o.MAs(1);return o.KtG(a.previous())})("click",function(){o.CHM(t),o.oxw(3);const a=o.MAs(1);return o.KtG(a.previous())}),o._uU(1),o.TgZ(2,"span",13),o._uU(3),o.qZA()()}if(2&n){const t=o.oxw(3);o.xp6(1),o.hij(" ",t.previousLabel," "),o.xp6(2),o.Oqu(t.screenReaderPageLabel)}}function ip(n,e){if(1&n&&(o.TgZ(0,"span",14),o._uU(1),o.TgZ(2,"span",13),o._uU(3),o.qZA()()),2&n){const t=o.oxw(3);o.xp6(1),o.hij(" ",t.previousLabel," "),o.xp6(2),o.Oqu(t.screenReaderPageLabel)}}function np(n,e){if(1&n&&(o.TgZ(0,"li",9),o.YNc(1,ep,4,2,"a",10),o.YNc(2,ip,4,2,"span",11),o.qZA()),2&n){o.oxw(2);const t=o.MAs(1);o.ekj("disabled",t.isFirstPage()),o.xp6(1),o.Q6J("ngIf",1<t.getCurrent()),o.xp6(1),o.Q6J("ngIf",t.isFirstPage())}}function ap(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"a",12),o.NdJ("keyup.enter",function(){o.CHM(t);const a=o.oxw().$implicit;o.oxw(2);const s=o.MAs(1);return o.KtG(s.setCurrent(a.value))})("click",function(){o.CHM(t);const a=o.oxw().$implicit;o.oxw(2);const s=o.MAs(1);return o.KtG(s.setCurrent(a.value))}),o.TgZ(1,"span",13),o._uU(2),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.ALo(5,"number"),o.qZA()()}if(2&n){const t=o.oxw().$implicit,i=o.oxw(2);o.xp6(2),o.hij("",i.screenReaderPageLabel," "),o.xp6(2),o.Oqu("..."===t.label?t.label:o.xi3(5,2,t.label,""))}}function sp(n,e){if(1&n&&(o.ynx(0),o.TgZ(1,"span",16)(2,"span",13),o._uU(3),o.qZA(),o.TgZ(4,"span"),o._uU(5),o.ALo(6,"number"),o.qZA()(),o.BQk()),2&n){const t=o.oxw().$implicit,i=o.oxw(2);o.xp6(3),o.hij("",i.screenReaderCurrentLabel," "),o.xp6(2),o.Oqu("..."===t.label?t.label:o.xi3(6,2,t.label,""))}}function op(n,e){if(1&n&&(o.TgZ(0,"li"),o.YNc(1,ap,6,5,"a",10),o.YNc(2,sp,7,5,"ng-container",15),o.qZA()),2&n){const t=e.$implicit;o.oxw(2);const i=o.MAs(1);o.ekj("current",i.getCurrent()===t.value)("ellipsis","..."===t.label),o.xp6(1),o.Q6J("ngIf",i.getCurrent()!==t.value),o.xp6(1),o.Q6J("ngIf",i.getCurrent()===t.value)}}function rp(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"a",12),o.NdJ("keyup.enter",function(){o.CHM(t),o.oxw(3);const a=o.MAs(1);return o.KtG(a.next())})("click",function(){o.CHM(t),o.oxw(3);const a=o.MAs(1);return o.KtG(a.next())}),o._uU(1),o.TgZ(2,"span",13),o._uU(3),o.qZA()()}if(2&n){const t=o.oxw(3);o.xp6(1),o.hij(" ",t.nextLabel," "),o.xp6(2),o.Oqu(t.screenReaderPageLabel)}}function lp(n,e){if(1&n&&(o.TgZ(0,"span",14),o._uU(1),o.TgZ(2,"span",13),o._uU(3),o.qZA()()),2&n){const t=o.oxw(3);o.xp6(1),o.hij(" ",t.nextLabel," "),o.xp6(2),o.Oqu(t.screenReaderPageLabel)}}function cp(n,e){if(1&n&&(o.TgZ(0,"li",17),o.YNc(1,rp,4,2,"a",10),o.YNc(2,lp,4,2,"span",11),o.qZA()),2&n){o.oxw(2);const t=o.MAs(1);o.ekj("disabled",t.isLastPage()),o.xp6(1),o.Q6J("ngIf",!t.isLastPage()),o.xp6(1),o.Q6J("ngIf",t.isLastPage())}}function dp(n,e){if(1&n&&(o.TgZ(0,"ul",4),o.YNc(1,np,3,4,"li",5),o.TgZ(2,"li",6),o._uU(3),o.qZA(),o.YNc(4,op,3,6,"li",7),o.YNc(5,cp,3,4,"li",8),o.qZA()),2&n){const t=o.oxw(),i=o.MAs(1);o.ekj("responsive",t.responsive),o.xp6(1),o.Q6J("ngIf",t.directionLinks),o.xp6(2),o.AsE(" ",i.getCurrent()," / ",i.getLastPage()," "),o.xp6(1),o.Q6J("ngForOf",i.pages)("ngForTrackBy",t.trackByIndex),o.xp6(1),o.Q6J("ngIf",t.directionLinks)}}class jn{constructor(){this.change=new o.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let t=!1;for(let i in this.instances[e.id])e[i]!==this.instances[e.id][i]&&(this.instances[e.id][i]=e[i],t=!0);return t}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,t){if(this.instances[e]){let i=this.instances[e];t<=Math.ceil(i.totalItems/i.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}}setTotalItems(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))}setItemsPerPage(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}}const hp=Number.MAX_SAFE_INTEGER;let up=(()=>{class n{constructor(t){this.service=t,this.state={}}transform(t,i){if(!(t instanceof Array)){let u=i.id||this.service.defaultId();return this.state[u]?this.state[u].slice:t}let l,c,a=i.totalItems&&i.totalItems!==t.length,s=this.createInstance(t,i),r=s.id,d=s.itemsPerPage,h=this.service.register(s);if(!a&&t instanceof Array){if(d=+d||hp,l=(s.currentPage-1)*d,c=l+d,this.stateIsIdentical(r,t,l,c))return this.state[r].slice;{let p=t.slice(l,c);return this.saveState(r,t,p,l,c),this.service.change.emit(r),p}}return h&&this.service.change.emit(r),this.saveState(r,t,t,l,c),t}createInstance(t,i){return this.checkConfig(i),{id:null!=i.id?i.id:this.service.defaultId(),itemsPerPage:+i.itemsPerPage||0,currentPage:+i.currentPage||1,totalItems:+i.totalItems||t.length}}checkConfig(t){const a=["itemsPerPage","currentPage"].filter(s=>!(s in t));if(0<a.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${a.join(", ")}`)}saveState(t,i,a,s,r){this.state[t]={collection:i,size:i.length,slice:a,start:s,end:r}}stateIsIdentical(t,i,a,s){let r=this.state[t];return!(!r||r.size!==i.length||r.start!==a||r.end!==s)&&r.slice.every((c,d)=>c===i[a+d])}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(jn,16))},n.\u0275pipe=o.Yjl({name:"paginate",type:n,pure:!1}),n})(),pp=(()=>{class n{constructor(t,i){this.service=t,this.changeDetectorRef=i,this.maxSize=7,this.pageChange=new o.vpe,this.pageBoundsCorrection=new o.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(a=>{this.id===a&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const i=this.outOfBoundCorrection(t);i!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(i),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const i=Math.ceil(t.totalItems/t.itemsPerPage);return i<t.currentPage&&0<i?i:t.currentPage<1?1:t.currentPage}createPageArray(t,i,a,s){s=+s;let r=[];const l=Math.max(Math.ceil(a/i),1),c=Math.ceil(s/2),d=t<=c,h=l-c<t,u=!d&&!h;let p=s<l,f=1;for(;f<=l&&f<=s;){let g,m=this.calculatePageNumber(f,t,s,l),_=2===f&&(u||h),b=f===s-1&&(u||d);g=p&&(_||b)?"...":m,r.push({label:g,value:m}),f++}return r}calculatePageNumber(t,i,a,s){let r=Math.ceil(a/2);return t===a?s:1===t?t:a<s?s-r<i?s-a+t:r<i?i-r+t:t:t}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(jn),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[o.TTD]}),n})();function qn(n){return!!n&&"false"!==n}let fp=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new o.vpe,this.pageBoundsCorrection=new o.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=qn(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=qn(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=qn(t)}trackByIndex(t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,i){if(1&t&&(o.TgZ(0,"pagination-template",0,1),o.NdJ("pageChange",function(s){return i.pageChange.emit(s)})("pageBoundsCorrection",function(s){return i.pageBoundsCorrection.emit(s)}),o.TgZ(2,"nav",2),o.YNc(3,dp,6,8,"ul",3),o.qZA()()),2&t){const a=o.MAs(1);o.Q6J("id",i.id)("maxSize",i.maxSize),o.xp6(2),o.uIk("aria-label",i.screenReaderPaginationLabel),o.xp6(1),o.Q6J("ngIf",!(i.autoHide&&a.pages.length<=1))}},dependencies:[pp,B.O5,B.sg,B.JJ],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),gp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jn],imports:[[B.ez]]}),n})();function mp(n,e){1&n&&(o.TgZ(0,"div",8)(1,"div",9)(2,"div",10),o._UZ(3,"div"),o.qZA()(),o._UZ(4,"div"),o.qZA())}function _p(n,e){if(1&n&&(o.TgZ(0,"td"),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.xp6(1),o.Oqu(t)}}function bp(n,e){if(1&n&&(o.TgZ(0,"td"),o._uU(1),o.qZA()),2&n){const t=e.$implicit,i=o.oxw().$implicit;o.xp6(1),o.hij(" ","amount"==t.toLowerCase()?"\u20b9 "+i[t]:i[t]," ")}}function xp(n,e){if(1&n&&(o.TgZ(0,"tr",11),o.YNc(1,bp,2,1,"td",6),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",t.customColumns)}}function yp(n,e){if(1&n&&(o.TgZ(0,"div")(1,"div")(2,"div",2),o._uU(3),o.qZA(),o.YNc(4,mp,5,0,"div",3),o.qZA(),o.TgZ(5,"div")(6,"table",4)(7,"tr",5),o.YNc(8,_p,2,1,"td",6),o.qZA(),o.YNc(9,xp,2,1,"tr",7),o.qZA()()()),2&n){const t=o.oxw();o.xp6(3),o.hij(" ",t.title," "),o.xp6(1),o.Q6J("ngIf",!1),o.xp6(4),o.Q6J("ngForOf",t.customColumns),o.xp6(1),o.Q6J("ngForOf",t.expenseTableData)}}function vp(n,e){1&n&&(o.TgZ(0,"div",8)(1,"div",9)(2,"div",10),o._UZ(3,"div"),o.qZA()(),o._UZ(4,"div"),o.qZA())}function Mp(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"tr",11)(1,"td")(2,"span",14),o._uU(3),o.ALo(4,"truncateString"),o.qZA()(),o.TgZ(5,"td"),o._uU(6),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.ALo(11,"truncateString"),o.qZA(),o.TgZ(12,"td"),o._uU(13),o.qZA(),o.TgZ(14,"td"),o._uU(15),o.qZA(),o.TgZ(16,"td")(17,"div",15)(18,"img",16),o.NdJ("click",function(){const s=o.CHM(t).$implicit,r=o.oxw(2);return o.KtG(r.editExpense(s))}),o.qZA(),o.TgZ(19,"img",17),o.NdJ("click",function(){const s=o.CHM(t).$implicit,r=o.oxw(2);return o.KtG(r.deleteExpense(s.expenseId,s.expense))}),o.qZA()()()()}if(2&n){const t=e.$implicit;o.xp6(2),o.Q6J("title",t.name),o.xp6(1),o.Oqu(o.lcZ(4,7,t.expense)),o.xp6(3),o.Oqu(t.category),o.xp6(2),o.Oqu(t.mode),o.xp6(2),o.Oqu(o.lcZ(11,9,t.note||"NA")),o.xp6(3),o.Oqu(t.date),o.xp6(2),o.hij("\u20b9 ",t.amount,"")}}function Cp(n,e){if(1&n&&(o.TgZ(0,"tr")(1,"td",18)(2,"div"),o._uU(3),o.qZA()()()),2&n){const t=o.oxw(2);o.xp6(3),o.Oqu(t.htmlLabel.TEXT.NO_EXPENSE_FOUND)}}function Dp(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"tr")(1,"td",19)(2,"pagination-controls",20),o.NdJ("pageChange",function(a){o.CHM(t);const s=o.oxw(2);return o.KtG(s.pageChanged(a))}),o.qZA()()()}}const wp=function(n,e){return{itemsPerPage:n,currentPage:e}};function kp(n,e){if(1&n&&(o.TgZ(0,"div",12)(1,"div")(2,"div",13),o._uU(3),o.qZA(),o.YNc(4,vp,5,0,"div",3),o.qZA(),o.TgZ(5,"div")(6,"table",4)(7,"tr",5)(8,"td"),o._uU(9),o.qZA(),o.TgZ(10,"td"),o._uU(11),o.qZA(),o.TgZ(12,"td"),o._uU(13),o.qZA(),o.TgZ(14,"td"),o._uU(15),o.qZA(),o.TgZ(16,"td"),o._uU(17),o.qZA(),o.TgZ(18,"td"),o._uU(19),o.qZA(),o.TgZ(20,"td"),o._uU(21),o.qZA()(),o.YNc(22,Mp,20,11,"tr",7),o.ALo(23,"paginate"),o.YNc(24,Cp,4,1,"tr",0),o.YNc(25,Dp,3,0,"tr",0),o.qZA()()()),2&n){const t=o.oxw();o.xp6(3),o.hij(" ",t.title," "),o.xp6(1),o.Q6J("ngIf",!1),o.xp6(5),o.Oqu(t.htmlLabel.TABLE.EXPENSE),o.xp6(2),o.Oqu(t.htmlLabel.TABLE.CATEGORY),o.xp6(2),o.Oqu(t.htmlLabel.TABLE.MODE),o.xp6(2),o.Oqu(t.htmlLabel.TABLE.NOTE),o.xp6(2),o.Oqu(t.htmlLabel.TABLE.DATE),o.xp6(2),o.Oqu(t.htmlLabel.TABLE.AMOUNT),o.xp6(2),o.Oqu(t.htmlLabel.TABLE.ACTION),o.xp6(1),o.Q6J("ngForOf",o.xi3(23,12,t.expenseTableData,o.WLB(15,wp,t.limit,t.page))),o.xp6(2),o.Q6J("ngIf",!t.expenseTableData||t.expenseTableData&&t.expenseTableData.length<1),o.xp6(1),o.Q6J("ngIf",t.limit>5)}}let Un=(()=>{class n{constructor(){this.inputData$=new Ku.y,this._ngUnsubscribe=new it.x,this.htmlLabel=P.uW,this.customColumns=[],this.title="",this.expenseTableData=[],this.page=1,this.limit=10}ngOnInit(){this.inputData$.pipe((0,rt.R)(this._ngUnsubscribe.asObservable())).subscribe(t=>{t&&t.tableData&&(console.log(t),this.title=t.title,this.customColumns=t.options.isCustomColumn?Object.keys(t.tableData[0]):[],this.expenseTableData=t.tableData)})}ngOnDestroy(){this._ngUnsubscribe.next(),this._ngUnsubscribe.complete()}pageChanged(t){this.page=t}editExpense(t){}deleteExpense(t,i){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-table-view"]],inputs:{inputData$:"inputData$"},standalone:!0,features:[o.jDz],decls:2,vars:2,consts:[[4,"ngIf"],["class","table-section",4,"ngIf"],[1,"table-title","align-center","text-medium","weight-600"],["class","align-center",4,"ngIf"],[1,"expense-table"],[1,"text-small","weight-600","table-header"],[4,"ngFor","ngForOf"],["class","text-small",4,"ngFor","ngForOf"],[1,"align-center"],[1,"search-bar"],[1,"input-group"],[1,"text-small"],[1,"table-section"],[1,"align-center","text-medium","weight-600"],[1,"tool-tip",3,"title"],[1,"action"],["src","../../../../assets/icons/edit.png","alt","",1,"pointer",3,"click"],["src","../../../../assets/icons/delete.png","alt","",1,"pointer",3,"click"],["colspan","6",1,"pagination-control","text-medium"],["colspan","6",1,"pagination-control","text-small"],[3,"pageChange"]],template:function(t,i){1&t&&(o.YNc(0,yp,10,4,"div",0),o.YNc(1,kp,26,18,"div",1)),2&t&&(o.Q6J("ngIf",i.customColumns.length>0),o.xp6(1),o.Q6J("ngIf",0==i.customColumns.length))},dependencies:[B.ez,B.sg,B.O5,tp,gp,up,fp],styles:[".table-section[_ngcontent-%COMP%]{background-color:var(--top-section-card-background);border:1px solid var(--top-section-card-border-color);box-shadow:var(--top-section-card-shadow);border-radius:20px;padding:30px 25px;margin-bottom:20px}.table-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){display:flex;justify-content:space-between;margin-bottom:20px}.text-small[_ngcontent-%COMP%]{color:var(--sidebar-item-text-color)}.text-big[_ngcontent-%COMP%], .text-medium[_ngcontent-%COMP%]{color:var(--top-section-card-amount-text-color)}.search-bar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{all:unset;border-radius:4px;padding:4px;color:var(--sidebar-item-text-color);background-color:var(--backgroud-color)}.search-bar[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;color:#4b5563}.search-bar[_ngcontent-%COMP%]{padding:0 5px;background-color:var(--backgroud-color);border:1px solid var(--select-border-color);border-radius:25px;margin-right:10px}.download-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.download-icon[_ngcontent-%COMP%]{padding:2px;border-radius:50%;border:2px solid var(--top-section-card-background);cursor:pointer}.download-icon[_ngcontent-%COMP%]:hover{border:2px solid #6366f1}.download-icon[_ngcontent-%COMP%]:active{background-color:#292cdd}.search-bar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){margin:0 5px}.search-icon[_ngcontent-%COMP%]{transform:rotate(45deg)}.expense-table[_ngcontent-%COMP%]{width:100%}.expense-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid var(--top-section-card-border-color)}.expense-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 10px;min-width:150px}.expense-table[_ngcontent-%COMP%] > .table-header[_ngcontent-%COMP%], .table-footer[_ngcontent-%COMP%]{background-color:var(--table-header-background-color)}.expense-table[_ngcontent-%COMP%] > .table-header[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:hover{background-color:var(--table-header-hover-color)}.expense-table[_ngcontent-%COMP%] > .table-header[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:active{background:var(--table-header-background-active);color:var(--table-header-text-color-active)}.action[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}.action[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]:nth-child(1){margin:0 4%}@media screen and (max-width: 600px){.search-bar[_ngcontent-%COMP%]{width:75%;height:50px}.search-bar[_ngcontent-%COMP%] > .input-group[_ngcontent-%COMP%]{width:100%;height:100%;flex-direction:column}.search-bar[_ngcontent-%COMP%] > .input-group[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){height:100%;width:75%}.search-bar[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 1005px){.table-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){overflow-x:scroll}}.pagination-control[_ngcontent-%COMP%]{text-align:center}.pagination-control[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:24px}.arrow[_ngcontent-%COMP%]{color:#00f}.table-title[_ngcontent-%COMP%]{margin-bottom:10px}"]}),n})(),Ap=(()=>{class n{transform(t,i){return isNaN(t)?0:parseFloat(t).toFixed(i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=o.Yjl({name:"round",type:n,pure:!0,standalone:!0}),n})();function Sp(n,e){if(1&n&&(o.TgZ(0,"mat-option",23),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.option),o.xp6(1),o.hij(" ",t.option," ")}}function Tp(n,e){if(1&n&&(o.TgZ(0,"mat-option",23),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.option),o.xp6(1),o.hij(" ",t.option," ")}}function Op(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),o._uU(4),o.qZA(),o.TgZ(5,"div",6),o._uU(6),o.ALo(7,"round"),o.qZA()(),o.TgZ(8,"div",4)(9,"div",5),o._uU(10),o.qZA(),o.TgZ(11,"div",6),o._uU(12),o.ALo(13,"round"),o.qZA()(),o.TgZ(14,"div",4)(15,"div",5),o._uU(16),o.qZA(),o.TgZ(17,"div",6),o._uU(18),o.ALo(19,"round"),o.qZA()(),o.TgZ(20,"div",4)(21,"div",5),o._uU(22),o.qZA(),o.TgZ(23,"div",6),o._uU(24),o.ALo(25,"round"),o.qZA()()(),o.TgZ(26,"div",7)(27,"div",8)(28,"div")(29,"div",9),o._uU(30),o.qZA(),o.TgZ(31,"div")(32,"mat-form-field",10)(33,"mat-select",11),o.NdJ("selectionChange",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s.createWeekMonthGraph(s.weeklyMonthGraphTypeSelected,a.value))}),o.YNc(34,Sp,2,2,"mat-option",12),o.qZA()()()(),o.TgZ(35,"div")(36,"canvas",13),o._uU(37),o.qZA()(),o.TgZ(38,"div",14)(39,"div")(40,"label",15)(41,"input",16),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.createWeekMonthGraph(a.chartType[0],a.weeklyMonthGraphFilterSelected))}),o.qZA(),o._uU(42),o.qZA()(),o.TgZ(43,"div")(44,"label",15)(45,"input",17),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.createWeekMonthGraph(a.chartType[1],a.weeklyMonthGraphFilterSelected))}),o.qZA(),o._uU(46),o.qZA()()()(),o.TgZ(47,"div",18),o._UZ(48,"app-table-view",19),o.qZA()(),o.TgZ(49,"div",7)(50,"div",8)(51,"div")(52,"div",9),o._uU(53),o.qZA(),o.TgZ(54,"div")(55,"mat-form-field",10)(56,"mat-select",11),o.NdJ("selectionChange",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s.createModeCategoryGraph(s.modeCategoryGraphTypeSelected,a.value))}),o.YNc(57,Tp,2,2,"mat-option",12),o.qZA()()()(),o.TgZ(58,"div")(59,"canvas",20),o._uU(60),o.qZA()(),o.TgZ(61,"div",14)(62,"div")(63,"label",15)(64,"input",21),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.createModeCategoryGraph(a.chartType[0],a.modeCategoryGraphFilterSelected))}),o.qZA(),o._uU(65),o.qZA()(),o.TgZ(66,"div")(67,"label",15)(68,"input",22),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.createModeCategoryGraph(a.chartType[1],a.modeCategoryGraphFilterSelected))}),o.qZA(),o._uU(69),o.qZA()()()(),o.TgZ(70,"div",18),o._UZ(71,"app-table-view",19),o.qZA()()()}if(2&n){const t=o.oxw();o.xp6(4),o.Oqu(t.htmlLabel.TEXT.TOTAL_EXPENSE),o.xp6(2),o.hij("\u20b9 ",o.xi3(7,22,null==t.expenseStats?null:t.expenseStats.total,2),""),o.xp6(4),o.Oqu(t.htmlLabel.TEXT.THIS_MONTH),o.xp6(2),o.hij("\u20b9 ",o.xi3(13,25,null==t.expenseStats?null:t.expenseStats.thisMonth,2),""),o.xp6(4),o.Oqu(t.htmlLabel.TEXT.THIS_WEEK),o.xp6(2),o.hij("\u20b9 ",o.xi3(19,28,null==t.expenseStats?null:t.expenseStats.thisWeek,2),""),o.xp6(4),o.Oqu(t.htmlLabel.TEXT.TODAY),o.xp6(2),o.hij("\u20b9 ",o.xi3(25,31,null==t.expenseStats?null:t.expenseStats.today,2),""),o.xp6(6),o.hij(" ",t.htmlLabel.TEXT.GRAPH_NAME," "),o.xp6(3),o.Q6J("value",t.weeklyMonthGraphFilter[0].option),o.xp6(1),o.Q6J("ngForOf",t.weeklyMonthGraphFilter),o.xp6(3),o.Oqu(t.weekMonthGraph),o.xp6(5),o.Oqu(t.htmlLabel.TEXT.BAR_GRAPH),o.xp6(4),o.Oqu(t.htmlLabel.TEXT.LINE_GRAPH),o.xp6(2),o.Q6J("inputData$",t.recentExpenses.asObservable()),o.xp6(5),o.hij(" ",t.htmlLabel.TEXT.GRAPH_NAME," "),o.xp6(3),o.Q6J("value",t.modeCategoryGraphFilter[0].option),o.xp6(1),o.Q6J("ngForOf",t.modeCategoryGraphFilter),o.xp6(3),o.Oqu(t.modeCategoryGraph),o.xp6(5),o.Oqu(t.htmlLabel.TEXT.BAR_GRAPH),o.xp6(4),o.Oqu(t.htmlLabel.TEXT.LINE_GRAPH),o.xp6(2),o.Q6J("inputData$",t.topSpent.asObservable())}}let Ep=(()=>{class n{constructor(t){this._expenseService=t,this._ngUnsubscribe=new it.x,this.htmlLabel=P.uW,this.loadSpinner=!1,this.expenseData=null,this.recentExpenses=new Ui.X(null),this.topSpent=new Ui.X(null),this.chartType=P.Qo,this.weeklyMonthGraphFilter=P._S,this.weeklyMonthGraphFilterSelected=P._S[0].option,this.weeklyMonthGraphTypeSelected=P.Qo[0],this.modeCategoryGraphFilter=P.sv,this.modeCategoryGraphFilterSelected=P._S[0].option,this.modeCategoryGraphTypeSelected=P.Qo[0]}ngOnInit(){this._loadExpenseData()}ngOnDestroy(){this._ngUnsubscribe.next(),this._ngUnsubscribe.complete()}_loadExpenseData(){this.loadSpinner=!0,this._expenseService.getExpenseData().pipe((0,rt.R)(this._ngUnsubscribe.asObservable())).subscribe(t=>{t&&(this.loadSpinner=!1,this.expenseData=t,setTimeout(()=>{this.createWeekMonthGraph(P.Qo[0],P._S[0].option),this.createModeCategoryGraph(P.Qo[0],P.sv[0].option)},50),this._buildRecentAndTopSpentData(t.allExpenses),this.expenseStats={total:t.totalAmount,thisMonth:this._expenseService.calculateTotal(t.currentMonthExpenses),thisWeek:this._expenseService.calculateTotal(t.currentWeekExpenses),today:this._expenseService.calculateTotal(t.todayExpenses)})})}_buildRecentAndTopSpentData(t){let i=Object.assign([],t);this.recentExpenses.next({title:P.uW.TEXT.RECENT_TRANSACTIONS,tableData:this._expenseService.sortExpenseByDateDesc(i).slice(0,5).map(a=>({Expense:a.expense,Amount:a.amount,Date:a.date})),options:{canSearchAnDownload:!1,canSort:!1,isCustomColumn:!0}}),this.topSpent.next({title:P.uW.TEXT.TOP_SPENT,tableData:this._expenseService.sortExpenseByAmountDesc(i).slice(0,5).map(a=>({Expense:a.expense,Amount:a.amount,Date:a.date})),options:{canSearchAnDownload:!1,canSort:!1,isCustomColumn:!0}})}createWeekMonthGraph(t,i){this.weekMonthGraph&&this.weekMonthGraph.destroy(),this.weeklyMonthGraphFilterSelected=i,this.weeklyMonthGraphTypeSelected=t,Fi.defaults.color=P.UM.TEXT_COLOR;let a=[],s=P.UM.X_AXIS;i==P._S[0].option?this.expenseData&&this.expenseData.currentWeekExpenses&&this.expenseData.currentWeekExpenses&&(s=P.UM.X_AXIS,a=this._buildWeekData(this.expenseData.currentWeekExpenses)):i==P._S[1].option?this.expenseData&&this.expenseData.previousWeekExpenses&&(s=P.UM.X_AXIS,a=this._buildWeekData(this.expenseData.previousWeekExpenses)):this.expenseData&&this.expenseData.monthlyExpenses&&this.expenseData.monthlyExpenses.length&&(s=P.UM.X_AXIS_MONTH,a=this._buildMonthData(this.expenseData.monthlyExpenses)),this.weekMonthGraph=new Fi("weekMonthGraph",{type:t,data:{labels:s,datasets:[{label:P.UM.BAR_LABEL,data:a,backgroundColor:P.UM.BAR_COLOR,borderColor:P.UM.BAR_COLOR,borderRadius:2}]},options:{aspectRatio:2.5,scales:{y:{beginAtZero:!0}}}})}createModeCategoryGraph(t,i){this.modeCategoryGraph&&this.modeCategoryGraph.destroy(),this.modeCategoryGraphFilterSelected=i,this.modeCategoryGraphTypeSelected=t,Fi.defaults.color=P.UM.TEXT_COLOR;let a=[],s=P.UM.X_AXIS;i==this.modeCategoryGraphFilter[0].option?this.expenseData&&this.expenseData.filteredByMode&&(s=this.expenseData.filteredByMode.map(r=>r.mode),s.forEach(r=>{a.push(this.expenseData.filteredByMode.find(l=>l.mode==r).amount)})):this.expenseData&&this.expenseData.filteredByCategory&&(s=this.expenseData.filteredByCategory.map(r=>r.category),s.forEach(r=>{a.push(this.expenseData.filteredByCategory.find(l=>l.category==r).amount)})),console.log(s),console.log(a),this.modeCategoryGraph=new Fi("modeCategoryGraph",{type:t,data:{labels:s,datasets:[{label:P.UM.BAR_LABEL,data:a,backgroundColor:P.UM.BAR_COLOR,borderColor:P.UM.BAR_COLOR,borderRadius:2}]},options:{aspectRatio:2.5}})}_buildWeekData(t){const i=[];t.forEach(s=>{const r=s.date.split(" ")[0],l=i.find(c=>c.day==r);l?l.amount=this._expenseService.roundAmountToTwoDecimals(l.amount+s.amount):i.push({day:r,amount:this._expenseService.roundAmountToTwoDecimals(s.amount)})}),console.log(i);const a=[0,0,0,0,0,0,0];return i.forEach(s=>{a[P.UM.X_AXIS.indexOf(s.day)]=s.amount}),a}_buildMonthData(t){const i=[0,0,0,0,0,0,0,0,0,0,0,0];return t.forEach(a=>{i[P.UM.X_AXIS_MONTH.indexOf(a.month)]=a.amount}),i}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Hn.$))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[["class","dashboard-main",4,"ngIf"],[3,"isLoading"],[1,"dashboard-main"],[1,"top-section"],[1,"amount-cards"],[1,"text-small","weight-600"],[1,"text-big","weight-600"],[1,"middle-section"],[1,"graph-section"],[1,"text-medium","weight-600"],["appearance","outline",1,"full-width"],[3,"value","selectionChange"],["class","text-small","ngClass","option",3,"value",4,"ngFor","ngForOf"],["id","weekMonthGraph",1,"graph-canvas","text-small"],[1,"text-medium"],[1,"pointer"],["type","radio","name","weekMonthGraphType","checked","",3,"click"],["type","radio","name","weekMonthGraphType",3,"click"],[1,"div-section"],[3,"inputData$"],["id","modeCategoryGraph",1,"graph-canvas","text-small"],["type","radio","name","modeCategoryGraphType","checked","",3,"click"],["type","radio","name","modeCategoryGraphType",3,"click"],["ngClass","option",1,"text-small",3,"value"]],template:function(t,i){1&t&&(o.YNc(0,Op,72,34,"div",0),o._UZ(1,"app-spinner",1)),2&t&&(o.Q6J("ngIf",i.expenseData),o.xp6(1),o.Q6J("isLoading",i.loadSpinner))},dependencies:[B.mk,B.sg,B.O5,To,Lo,O.ey,Hi.O,Un,Ap],styles:[".dashboard-main[_ngcontent-%COMP%]{width:100%;padding:10px 15px;min-height:100dvh - 50px}.top-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;column-gap:25px}.amount-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;justify-content:center}.text-small[_ngcontent-%COMP%]{color:var(--sidebar-item-text-color)}.text-big[_ngcontent-%COMP%], .text-medium[_ngcontent-%COMP%]{color:var(--top-section-card-amount-text-color)}.graph-section[_ngcontent-%COMP%], .amount-cards[_ngcontent-%COMP%], .div-section[_ngcontent-%COMP%]{background-color:var(--top-section-card-background);border:1px solid var(--top-section-card-border-color);box-shadow:var(--top-section-card-shadow);border-radius:20px;padding:30px 25px;margin-bottom:20px}.middle-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:20px}.graph-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){display:flex;justify-content:space-between;margin-bottom:20px}.graph-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){height:300px;display:flex;align-items:center}.graph-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .bar-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){margin-top:20px;justify-content:space-evenly}.graph-canvas[_ngcontent-%COMP%]{width:100%;height:100%;max-width:100%;max-height:100%}.text-medium[_ngcontent-%COMP%]{display:flex;align-items:center}.no-expense[_ngcontent-%COMP%]{width:100%;background-color:#fff}.no-expense-main[_ngcontent-%COMP%]{width:100%;min-height:87vh;background-color:#d9e2e1b6;display:grid;grid-template-rows:.5fr 1fr .5fr}.no-expense-text[_ngcontent-%COMP%]{font-size:20px;text-align:center;text-wrap:pretty;width:100%;color:var(--text-color-2)}.add-expense-button[_ngcontent-%COMP%], .thinking-img[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:end;padding:10px}.thinking-img[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}@media screen and (max-width: 600px){.top-section[_ngcontent-%COMP%], .middle-section[_ngcontent-%COMP%]{grid-template-columns:1fr}.graph-section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){height:125px}}@media screen and (min-width: 601px) and (max-width: 950px){.top-section[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.middle-section[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),n})();var Vo=T(5861),Bo=T(2138),Pp=T(515);const No=(0,ae.i$)({passive:!0});let Ip=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Pp.E;const i=(0,tt.fI)(t),a=this._monitoredElements.get(i);if(a)return a.subject;const s=new it.x,r="cdk-text-field-autofilled",l=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(r)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(r)&&(i.classList.remove(r),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!1}))):(i.classList.add(r),this._ngZone.run(()=>s.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",l,No),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",l,No)}}),s}stopMonitoring(t){const i=(0,tt.fI)(t),a=this._monitoredElements.get(i);a&&(a.unlisten(),a.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(ae.t4),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ho=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const zo=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),Rp=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Fp=0;const Lp=(0,O.FD)(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let Vp=(()=>{class n extends Lp{constructor(t,i,a,s,r,l,c,d,h,u){super(l,s,r,a),this._elementRef=t,this._platform=i,this._autofillMonitor=d,this._formField=u,this._uid="mat-input-"+Fp++,this.focused=!1,this.stateChanges=new it.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(g=>(0,ae.qK)().has(g));const p=this._elementRef.nativeElement,f=p.nodeName.toLowerCase();this._inputValueAccessor=c||p,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&h.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",g=>{const m=g.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=p.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=(0,tt.Ig)(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(W.kI.required)??!1}set required(t){this._required=(0,tt.Ig)(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&(0,ae.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=(0,tt.Ig)(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Rp.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(ae.t4),o.Y36(W.a5,10),o.Y36(W.F,8),o.Y36(W.sg,8),o.Y36(O.rD),o.Y36(zo,10),o.Y36(Ip),o.Y36(o.R0b),o.Y36(Vi,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,i){1&t&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:Li,useExisting:n}]),o.qOj,o.TTD]}),n})(),Bp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[O.rD],imports:[[Ho,Bi,O.BQ],Ho,Bi]}),n})();var Ge=T(4080),zi=T(4859),Rt=T(727),Wn=T(9646);const Np=["mat-calendar-body",""];function Hp(n,e){if(1&n&&(o.TgZ(0,"tr",2)(1,"td",3),o._uU(2),o.qZA()()),2&n){const t=o.oxw();o.xp6(1),o.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),o.uIk("colspan",t.numCols),o.xp6(1),o.hij(" ",t.label," ")}}function zp(n,e){if(1&n&&(o.TgZ(0,"td",3),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.Udp("padding-top",t._cellPadding)("padding-bottom",t._cellPadding),o.uIk("colspan",t._firstRowOffset),o.xp6(1),o.hij(" ",t._firstRowOffset>=t.labelMinRequiredCells?t.label:""," ")}}function Yp(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"td",7),o.NdJ("click",function(a){const r=o.CHM(t).$implicit,l=o.oxw(2);return o.KtG(l._cellClicked(r,a))}),o.TgZ(1,"div",8),o._uU(2),o.qZA(),o._UZ(3,"div",9),o.qZA()}if(2&n){const t=e.$implicit,i=e.index,a=o.oxw().index,s=o.oxw();o.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),o.ekj("mat-calendar-body-disabled",!t.enabled)("mat-calendar-body-active",s._isActiveCell(a,i))("mat-calendar-body-range-start",s._isRangeStart(t.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(t.compareValue))("mat-calendar-body-in-range",s._isInRange(t.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(t.compareValue,a,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(t.compareValue,a,i))("mat-calendar-body-comparison-start",s._isComparisonStart(t.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(t.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(t.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(t.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(t.compareValue))("mat-calendar-body-in-preview",s._isInPreview(t.compareValue)),o.Q6J("ngClass",t.cssClasses)("tabindex",s._isActiveCell(a,i)?0:-1),o.uIk("data-mat-row",a)("data-mat-col",i)("aria-label",t.ariaLabel)("aria-disabled",!t.enabled||null)("aria-selected",s._isSelected(t.compareValue)),o.xp6(1),o.ekj("mat-calendar-body-selected",s._isSelected(t.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(t.compareValue))("mat-calendar-body-today",s.todayValue===t.compareValue),o.xp6(1),o.hij(" ",t.displayValue," ")}}function Zp(n,e){if(1&n&&(o.TgZ(0,"tr",4),o.YNc(1,zp,2,6,"td",5),o.YNc(2,Yp,4,46,"td",6),o.qZA()),2&n){const t=e.$implicit,i=e.index,a=o.oxw();o.xp6(1),o.Q6J("ngIf",0===i&&a._firstRowOffset),o.xp6(1),o.Q6J("ngForOf",t)}}function jp(n,e){if(1&n&&(o.TgZ(0,"th",5)(1,"abbr",6),o._uU(2),o.qZA()()),2&n){const t=e.$implicit;o.uIk("aria-label",t.long),o.xp6(1),o.uIk("title",t.long),o.xp6(1),o.Oqu(t.narrow)}}const qp=["*"];function Up(n,e){}function Wp(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"mat-month-view",5),o.NdJ("activeDateChange",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s.activeDate=a)})("_userSelection",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s._dateSelected(a))}),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)}}function Gp(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"mat-year-view",6),o.NdJ("activeDateChange",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s.activeDate=a)})("monthSelected",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s._monthSelectedInYearView(a))})("selectedChange",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s._goToDateInView(a,"month"))}),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function $p(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"mat-multi-year-view",7),o.NdJ("activeDateChange",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s.activeDate=a)})("yearSelected",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s._yearSelectedInMultiYearView(a))})("selectedChange",function(a){o.CHM(t);const s=o.oxw();return o.KtG(s._goToDateInView(a,"year"))}),o.qZA()}if(2&n){const t=o.oxw();o.Q6J("activeDate",t.activeDate)("selected",t.selected)("dateFilter",t.dateFilter)("maxDate",t.maxDate)("minDate",t.minDate)("dateClass",t.dateClass)}}function Xp(n,e){}const Jp=["button"];function Qp(n,e){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"path",4),o.qZA())}const Kp=[[["","matDatepickerToggleIcon",""]]],tf=["[matDatepickerToggleIcon]"];let $e=(()=>{class n{constructor(){this.changes=new it.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,i){return`${t} \u2013 ${i}`}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gn{constructor(e,t,i,a,s={},r=e,l){this.value=e,this.displayValue=t,this.ariaLabel=i,this.enabled=a,this.cssClasses=s,this.compareValue=r,this.rawValue=l}}let xe=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new o.vpe,this.previewChange=new o.vpe,this._enterHandler=a=>{if(this._skipNextFocus&&"focus"===a.type)this._skipNextFocus=!1;else if(a.target&&this.isRange){const s=this._getCellFromElement(a.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:a}))}},this._leaveHandler=a=>{null!==this.previewEnd&&this.isRange&&a.target&&$n(a.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:a}))},i.runOutsideAngular(()=>{const a=t.nativeElement;a.addEventListener("mouseenter",this._enterHandler,!0),a.addEventListener("focus",this._enterHandler,!0),a.addEventListener("mouseleave",this._leaveHandler,!0),a.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(t,i){t.enabled&&this.selectedValueChange.emit({value:t.value,event:i})}_isSelected(t){return this.startValue===t||this.endValue===t}ngOnChanges(t){const i=t.numCols,{rows:a,numCols:s}=this;(t.rows||i)&&(this._firstRowOffset=a&&a.length&&a[0].length?s-a[0].length:0),(t.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mouseenter",this._enterHandler,!0),t.removeEventListener("focus",this._enterHandler,!0),t.removeEventListener("mouseleave",this._leaveHandler,!0),t.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(t,i){let a=t*this.numCols+i;return t&&(a-=this._firstRowOffset),a==this.activeCell}_focusActiveCell(t=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,ne.q)(1)).subscribe(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(t||(this._skipNextFocus=!0),i.focus())})})}_isRangeStart(t){return Xn(t,this.startValue,this.endValue)}_isRangeEnd(t){return Jn(t,this.startValue,this.endValue)}_isInRange(t){return Qn(t,this.startValue,this.endValue,this.isRange)}_isComparisonStart(t){return Xn(t,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(t,i,a){if(!this._isComparisonStart(t)||this._isRangeStart(t)||!this._isInRange(t))return!1;let s=this.rows[i][a-1];if(!s){const r=this.rows[i-1];s=r&&r[r.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(t,i,a){if(!this._isComparisonEnd(t)||this._isRangeEnd(t)||!this._isInRange(t))return!1;let s=this.rows[i][a+1];if(!s){const r=this.rows[i+1];s=r&&r[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(t){return Jn(t,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(t){return Qn(t,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(t){return this.comparisonStart===this.comparisonEnd&&t===this.comparisonStart}_isPreviewStart(t){return Xn(t,this.previewStart,this.previewEnd)}_isPreviewEnd(t){return Jn(t,this.previewStart,this.previewEnd)}_isInPreview(t){return Qn(t,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(t){let i;if($n(t)?i=t:$n(t.parentNode)&&(i=t.parentNode),i){const a=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(a&&s)return this.rows[parseInt(a)][parseInt(s)]}return null}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[o.TTD],attrs:Np,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(t,i){1&t&&(o.YNc(0,Hp,3,6,"tr",0),o.YNc(1,Zp,3,2,"tr",1)),2&t&&(o.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),o.xp6(1),o.Q6J("ngForOf",i.rows))},dependencies:[B.O5,B.sg,B.mk],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),n})();function $n(n){return"TD"===n.nodeName}function Xn(n,e,t){return null!==t&&e!==t&&n<t&&n===e}function Jn(n,e,t){return null!==e&&e!==t&&n>=e&&n===t}function Qn(n,e,t,i){return i&&null!==e&&null!==t&&e!==t&&n>=e&&n<=t}class dt{constructor(e,t){this.start=e,this.end=t}}let Zt=(()=>{class n{constructor(t,i){this.selection=t,this._adapter=i,this._selectionChanged=new it.x,this.selectionChanged=this._selectionChanged,this.selection=t}updateSelection(t,i){const a=this.selection;this.selection=t,this._selectionChanged.next({selection:t,source:i,oldValue:a})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(t){return this._adapter.isDateInstance(t)&&this._adapter.isValid(t)}}return n.\u0275fac=function(t){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ef=(()=>{class n extends Zt{constructor(t){super(null,t)}add(t){super.updateSelection(t,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const t=new n(this._adapter);return t.updateSelection(this.selection,this),t}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(O._A))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Yo={provide:Zt,deps:[[new o.FiY,new o.tp0,Zt],O._A],useFactory:function af(n,e){return n||new ef(e)}},Yi=new o.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Zo=(()=>{class n{constructor(t,i,a,s,r){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=a,this._dir=s,this._rangeStrategy=r,this._rerenderSubscription=Rt.w0.EMPTY,this.selectedChange=new o.vpe,this._userSelection=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){const i=this._activeDate,a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof dt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Yt.O)(null)).subscribe(()=>this._init())}ngOnChanges(t){const i=t.comparisonStart||t.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(t){const i=t.value,a=this._dateAdapter.getYear(this.activeDate),s=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.createDate(a,s,i);let l,c;this._selected instanceof dt?(l=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):l=c=this._getDateInCurrentMonth(this._selected),(l!==i||c!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:t.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(t){const i=this._activeDate,a=this._isRtl();switch(t.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,a?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case A.Ku:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case A.VM:this.activeDate=t.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case A.K5:case A.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&t.preventDefault());case A.hY:return void(null!=this._previewEnd&&!(0,A.Vb)(t)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:t}),t.preventDefault(),t.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===A.L_||t.keyCode===A.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let t=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(t)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(t){this._matCalendarBody._focusActiveCell(t)}_previewChanged({event:t,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const t=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((r,l)=>({long:r,narrow:i[l]}));this._weekdays=s.slice(t).concat(s.slice(0,t))}_createWeekCells(){const t=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let a=0,s=this._firstWeekOffset;a<t;a++,s++){7==s&&(this._weeks.push([]),s=0);const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),a+1),l=this._shouldEnableDate(r),c=this._dateAdapter.format(r,this._dateFormats.display.dateA11yLabel),d=this.dateClass?this.dateClass(r,"month"):void 0;this._weeks[this._weeks.length-1].push(new Gn(a+1,i[a],c,l,d,this._getCellCompareValue(r),r))}}_shouldEnableDate(t){return!!t&&(!this.minDate||this._dateAdapter.compareDate(t,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(t,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(t))}_getDateInCurrentMonth(t){return t&&this._hasSameMonthAndYear(t,this.activeDate)?this._dateAdapter.getDate(t):null}_hasSameMonthAndYear(t,i){return!(!t||!i||this._dateAdapter.getMonth(t)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(t)!=this._dateAdapter.getYear(i))}_getCellCompareValue(t){if(t){const i=this._dateAdapter.getYear(t),a=this._dateAdapter.getMonth(t),s=this._dateAdapter.getDate(t);return new Date(i,a,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(t){t instanceof dt?(this._rangeStart=this._getCellCompareValue(t.start),this._rangeEnd=this._getCellCompareValue(t.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(t),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(t){return!this.dateFilter||this.dateFilter(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(O.sG,8),o.Y36(O._A,8),o.Y36(me.Is,8),o.Y36(Yi,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(t,i){if(1&t&&o.Gf(xe,5),2&t){let a;o.iGM(a=o.CRH())&&(i._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[o.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"mat-calendar-abbr"]],template:function(t,i){1&t&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o.YNc(3,jp,3,3,"th",2),o.qZA(),o.TgZ(4,"tr"),o._UZ(5,"th",3),o.qZA()(),o.TgZ(6,"tbody",4),o.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&t&&(o.xp6(3),o.Q6J("ngForOf",i._weekdays),o.xp6(3),o.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[xe,B.sg],encapsulation:2,changeDetection:0}),n})(),jo=(()=>{class n{constructor(t,i,a){this._changeDetectorRef=t,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=Rt.w0.EMPTY,this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),qo(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof dt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedYear(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Yt.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Xe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let a=0,s=[];a<24;a++)s.push(i+a),4==s.length&&(this._years.push(s.map(r=>this._createCellForYear(r))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(t){const i=t.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let a=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,a,1));this.selectedChange.emit(this._dateAdapter.createDate(i,a,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(t){const i=this._activeDate,a=this._isRtl();switch(t.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,a?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Xe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Xe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-240:-24);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?240:24);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===A.L_||t.keyCode===A.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_getActiveCell(){return Xe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(t){const i=this._dateAdapter.createDate(t,0,1),a=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Gn(t,a,a,this._shouldEnableYear(t),s)}_shouldEnableYear(t){if(null==t||this.maxDate&&t>this._dateAdapter.getYear(this.maxDate)||this.minDate&&t<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let a=this._dateAdapter.createDate(t,0,1);this._dateAdapter.getYear(a)==t;a=this._dateAdapter.addCalendarDays(a,1))if(this.dateFilter(a))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(t){if(this._selectedYear=null,t instanceof dt){const i=t.start||t.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else t&&(this._selectedYear=this._dateAdapter.getYear(t))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(O._A,8),o.Y36(me.Is,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(t,i){if(1&t&&o.Gf(xe,5),2&t){let a;o.iGM(a=o.CRH())&&(i._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(t,i){1&t&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&t&&(o.xp6(4),o.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[xe],encapsulation:2,changeDetection:0}),n})();function qo(n,e,t,i,a){const s=n.getYear(e),r=n.getYear(t),l=Uo(n,i,a);return Math.floor((s-l)/24)===Math.floor((r-l)/24)}function Xe(n,e,t,i){return function cf(n,e){return(n%e+e)%e}(n.getYear(e)-Uo(n,t,i),24)}function Uo(n,e,t){let i=0;return t?i=n.getYear(t)-24+1:e&&(i=n.getYear(e)),i}let Wo=(()=>{class n{constructor(t,i,a,s){this._changeDetectorRef=t,this._dateFormats=i,this._dateAdapter=a,this._dir=s,this._rerenderSubscription=Rt.w0.EMPTY,this.selectedChange=new o.vpe,this.monthSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(t){let i=this._activeDate;const a=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(a,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(t){this._selected=t instanceof dt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t)),this._setSelectedMonth(t)}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,Yt.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(t){const i=t.value,a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(a);const s=this._dateAdapter.getNumDaysInMonth(a);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(t){const i=this._activeDate,a=this._isRtl();switch(t.keyCode){case A.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?1:-1);break;case A.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,a?-1:1);break;case A.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case A.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case A.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case A.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case A.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?-10:-1);break;case A.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,t.altKey?10:1);break;case A.K5:case A.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),t.preventDefault()}_handleCalendarBodyKeyup(t){(t.keyCode===A.L_||t.keyCode===A.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:t}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(a=>this._createCellForMonth(a,t[a]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(t){return t&&this._dateAdapter.getYear(t)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(t):null}_createCellForMonth(t,i){const a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1),s=this._dateAdapter.format(a,this._dateFormats.display.monthYearA11yLabel),r=this.dateClass?this.dateClass(a,"year"):void 0;return new Gn(t,i.toLocaleUpperCase(),s,this._shouldEnableMonth(t),r)}_shouldEnableMonth(t){const i=this._dateAdapter.getYear(this.activeDate);if(null==t||this._isYearAndMonthAfterMaxDate(i,t)||this._isYearAndMonthBeforeMinDate(i,t))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,t,1);this._dateAdapter.getMonth(s)==t;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(t,i){if(this.maxDate){const a=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return t>a||t===a&&i>s}return!1}_isYearAndMonthBeforeMinDate(t,i){if(this.minDate){const a=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return t<a||t===a&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(t){this._selectedMonth=t instanceof dt?this._getMonthInCurrentYear(t.start)||this._getMonthInCurrentYear(t.end):this._getMonthInCurrentYear(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.sBO),o.Y36(O.sG,8),o.Y36(O._A,8),o.Y36(me.Is,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(t,i){if(1&t&&o.Gf(xe,5),2&t){let a;o.iGM(a=o.CRH())&&(i._matCalendarBody=a.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(t,i){1&t&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&t&&(o.xp6(4),o.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[xe],encapsulation:2,changeDetection:0}),n})(),df=0,hf=(()=>{class n{constructor(t,i,a,s,r){this._intl=t,this.calendar=i,this._dateAdapter=a,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+df++,this.calendar.stateChanges.subscribe(()=>r.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-Xe(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),a=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),r=this._dateAdapter.getYearName(this._dateAdapter.createDate(a,0,1));return this._intl.formatYearRange(s,r)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(t,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(t)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(t)==this._dateAdapter.getYear(i):qo(this._dateAdapter,t,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36($e),o.Y36((0,o.Gpc)(()=>ea)),o.Y36(O._A,8),o.Y36(O.sG,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:qp,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(t,i){1&t&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return i.currentPeriodClicked()}),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.O4$(),o.TgZ(5,"svg",3),o._UZ(6,"polygon",4),o.qZA()(),o.kcU(),o._UZ(7,"div",5),o.Hsn(8),o.TgZ(9,"button",6),o.NdJ("click",function(){return i.previousClicked()}),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return i.nextClicked()}),o.qZA()()()),2&t&&(o.xp6(2),o.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),o.xp6(1),o.uIk("id",i._buttonDescriptionId),o.xp6(1),o.Oqu(i.periodButtonText),o.xp6(1),o.ekj("mat-calendar-invert","month"!==i.calendar.currentView),o.xp6(4),o.Q6J("disabled",!i.previousEnabled()),o.uIk("aria-label",i.prevButtonLabel),o.xp6(1),o.Q6J("disabled",!i.nextEnabled()),o.uIk("aria-label",i.nextButtonLabel))},dependencies:[zi.lW,_e.Qr],encapsulation:2,changeDetection:0}),n})(),ea=(()=>{class n{constructor(t,i,a,s){this._dateAdapter=i,this._dateFormats=a,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this._userSelection=new o.vpe,this.stateChanges=new it.x,this._intlChanges=t.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get selected(){return this._selected}set selected(t){this._selected=t instanceof dt?t:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get minDate(){return this._minDate}set minDate(t){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get maxDate(){return this._maxDate}set maxDate(t){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get activeDate(){return this._clampedActiveDate}set activeDate(t){this._clampedActiveDate=this._dateAdapter.clampDate(t,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(t){const i=this._currentView!==t?t:null;this._currentView=t,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Ge.C5(this.headerComponent||hf),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(t){const i=t.minDate||t.maxDate||t.dateFilter;if(i&&!i.firstChange){const a=this._getCurrentViewComponent();a&&(this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(t){const i=t.value;(this.selected instanceof dt||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(t)}_yearSelectedInMultiYearView(t){this.yearSelected.emit(t)}_monthSelectedInYearView(t){this.monthSelected.emit(t)}_goToDateInView(t,i){this.activeDate=t,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(t){return new(t||n)(o.Y36($e),o.Y36(O._A,8),o.Y36(O.sG,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(t,i){if(1&t&&(o.Gf(Zo,5),o.Gf(Wo,5),o.Gf(jo,5)),2&t){let a;o.iGM(a=o.CRH())&&(i.monthView=a.first),o.iGM(a=o.CRH())&&(i.yearView=a.first),o.iGM(a=o.CRH())&&(i.multiYearView=a.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[o._Bn([Yo]),o.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(t,i){1&t&&(o.YNc(0,Up,0,0,"ng-template",0),o.TgZ(1,"div",1),o.YNc(2,Wp,1,8,"mat-month-view",2),o.YNc(3,Gp,1,6,"mat-year-view",3),o.YNc(4,$p,1,6,"mat-multi-year-view",4),o.qZA()),2&t&&(o.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),o.xp6(1),o.Q6J("ngSwitch",i.currentView),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngSwitchCase","multi-year"))},dependencies:[Zo,Wo,jo,Ge.Pl,_e.kH,B.RF,B.n9],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-abbr{text-decoration:none}\n'],encapsulation:2,changeDetection:0}),n})();const Go={transformPanel:(0,E.X$)("transformPanel",[(0,E.eR)("void => enter-dropdown",(0,E.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,E.F4)([(0,E.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,E.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,E.eR)("void => enter-dialog",(0,E.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,E.F4)([(0,E.oB)({opacity:0,transform:"scale(0.7)"}),(0,E.oB)({transform:"none",opacity:1})]))),(0,E.eR)("* => void",(0,E.jt)("100ms linear",(0,E.oB)({opacity:0})))]),fadeInCalendar:(0,E.X$)("fadeInCalendar",[(0,E.SB)("void",(0,E.oB)({opacity:0})),(0,E.SB)("enter",(0,E.oB)({opacity:1})),(0,E.eR)("void => *",(0,E.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let uf=0;const $o=new o.OlP("mat-datepicker-scroll-strategy"),ff={provide:$o,deps:[Dt.aV],useFactory:function pf(n){return()=>n.scrollStrategies.reposition()}},gf=(0,O.pj)(class{constructor(n){this._elementRef=n}});let mf=(()=>{class n extends gf{constructor(t,i,a,s,r,l){super(t),this._changeDetectorRef=i,this._globalModel=a,this._dateAdapter=s,this._rangeSelectionStrategy=r,this._subscriptions=new Rt.w0,this._animationDone=new it.x,this._actionsPortal=null,this._closeButtonText=l.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(t){const i=this._model.selection,a=t.value,s=i instanceof dt;if(s&&this._rangeSelectionStrategy){const r=this._rangeSelectionStrategy.selectionFinished(a,i,t.event);this._model.updateSelection(r,this)}else a&&(s||!this._dateAdapter.sameDate(a,i))&&this._model.add(a);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Zt),o.Y36(O._A),o.Y36(Yi,8),o.Y36($e))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(t,i){if(1&t&&o.Gf(ea,5),2&t){let a;o.iGM(a=o.CRH())&&(i._calendar=a.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(t,i){1&t&&o.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&t&&(o.d8E("@transformPanel",i._animationState),o.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[o.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0)(1,"mat-calendar",1),o.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),o.qZA(),o.YNc(2,Xp,0,0,"ng-template",2),o.TgZ(3,"button",3),o.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),o._uU(4),o.qZA()()),2&t&&(o.ekj("mat-datepicker-content-container-with-actions",i._actionsPortal),o.xp6(1),o.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),o.xp6(1),o.Q6J("cdkPortalOutlet",i._actionsPortal),o.xp6(1),o.ekj("cdk-visually-hidden",!i._closeButtonFocused),o.Q6J("color",i.color||"primary"),o.xp6(1),o.Oqu(i._closeButtonText))},dependencies:[ea,zi.lW,_e.mK,B.mk,Ge.Pl],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[Go.transformPanel,Go.fadeInCalendar]},changeDetection:0}),n})(),Xo=(()=>{class n{constructor(t,i,a,s,r,l,c){this._overlay=t,this._ngZone=i,this._viewContainerRef=a,this._dateAdapter=r,this._dir=l,this._model=c,this._inputStateChanges=Rt.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this.openedStream=new o.vpe,this.closedStream=new o.vpe,this._opened=!1,this.id="mat-datepicker-"+uf++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new it.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(t){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(t){this._color=t}get touchUi(){return this._touchUi}set touchUi(t){this._touchUi=(0,tt.Ig)(t)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(t){const i=(0,tt.Ig)(t);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(t){this._restoreFocus=(0,tt.Ig)(t)}get panelClass(){return this._panelClass}set panelClass(t){this._panelClass=(0,tt.du)(t)}get opened(){return this._opened}set opened(t){(0,tt.Ig)(t)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(t){const i=t.xPosition||t.yPosition;if(i&&!i.firstChange&&this._overlayRef){const a=this._overlayRef.getConfig().positionStrategy;a instanceof Dt._G&&(this._setConnectedPositions(a),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(t){this._model.add(t)}_selectYear(t){this.yearSelected.emit(t)}_selectMonth(t){this.monthSelected.emit(t)}_viewChanged(t){this.viewChanged.emit(t)}registerInput(t){return this._inputStateChanges.unsubscribe(),this.datepickerInput=t,this._inputStateChanges=t.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(t){this._actionsPortal=t}removeActions(t){t===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,ae.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe((0,ne.q)(1)).subscribe(()=>this._destroyOverlay())}const t=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(t)):t()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(t){t.datepicker=this,t.color=this.color,t._actionsPortal=this._actionsPortal}_openOverlay(){this._destroyOverlay();const t=this.touchUi,i=this.datepickerInput.getOverlayLabelId(),a=new Ge.C5(mf,this._viewContainerRef),s=this._overlayRef=this._overlay.create(new Dt.X_({positionStrategy:t?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[t?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:t?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(t?"dialog":"popup")})),r=s.overlayElement;r.setAttribute("role","dialog"),i&&r.setAttribute("aria-labelledby",i),t&&r.setAttribute("aria-modal","true"),this._getCloseStream(s).subscribe(l=>{l&&l.preventDefault(),this.close()}),this._componentRef=s.attach(a),this._forwardContentValues(this._componentRef.instance),t||this._ngZone.onStable.pipe((0,ne.q)(1)).subscribe(()=>s.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(t)}_setConnectedPositions(t){const i="end"===this.xPosition?"end":"start",a="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",r="top"===s?"bottom":"top";return t.withPositions([{originX:i,originY:r,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:r},{originX:a,originY:r,overlayX:a,overlayY:s},{originX:a,originY:s,overlayX:a,overlayY:r}])}_getCloseStream(t){return(0,ie.T)(t.backdropClick(),t.detachments(),t.keydownEvents().pipe((0,Zn.h)(i=>i.keyCode===A.hY&&!(0,A.Vb)(i)||this.datepickerInput&&(0,A.Vb)(i,"altKey")&&i.keyCode===A.LH)))}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Dt.aV),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36($o),o.Y36(O._A,8),o.Y36(me.Is,8),o.Y36(Zt))},n.\u0275dir=o.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[o.TTD]}),n})(),_f=(()=>{class n extends Xo{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[o._Bn([Yo,{provide:Xo,useExisting:n}]),o.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2,changeDetection:0}),n})();class Zi{constructor(e,t){this.target=e,this.targetElement=t,this.value=this.target.value}}let bf=(()=>{class n{constructor(t,i,a){this._elementRef=t,this._dateAdapter=i,this._dateFormats=a,this.dateChange=new o.vpe,this.dateInput=new o.vpe,this.stateChanges=new it.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Rt.w0.EMPTY,this._localeSubscription=Rt.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!r||this._matchesFilter(r)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMinDate();return!l||!r||this._dateAdapter.compareDate(l,r)<=0?null:{matDatepickerMin:{min:l,actual:r}}},this._maxValidator=s=>{const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),l=this._getMaxDate();return!l||!r||this._dateAdapter.compareDate(l,r)>=0?null:{matDatepickerMax:{max:l,actual:r}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(t){this._assignValueProgrammatically(t)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(t){const i=(0,tt.Ig)(t),a=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&a.blur&&a.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(t){this._model=t,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const a=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(a),this._cvaOnChange(a),this._onTouched(),this._formatValue(a),this.dateInput.emit(new Zi(this,this._elementRef.nativeElement)),this.dateChange.emit(new Zi(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(t){(function xf(n,e){const t=Object.keys(n);for(let i of t){const{previousValue:a,currentValue:s}=n[i];if(!e.isDateInstance(a)||!e.isDateInstance(s))return!0;if(!e.sameDate(a,s))return!0}return!1})(t,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(t){this._validatorOnChange=t}validate(t){return this._validator?this._validator(t):null}writeValue(t){this._assignValueProgrammatically(t)}registerOnChange(t){this._cvaOnChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_onKeydown(t){t.altKey&&t.keyCode===A.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),t.preventDefault())}_onInput(t){const i=this._lastValueValid;let a=this._dateAdapter.parse(t,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(a),a=this._dateAdapter.getValidDateOrNull(a),this._dateAdapter.sameDate(a,this.value)?(t&&!this.value&&this._cvaOnChange(a),i!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(a),this._cvaOnChange(a),this.dateInput.emit(new Zi(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Zi(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(t){this._elementRef.nativeElement.value=t?this._dateAdapter.format(t,this._dateFormats.display.dateInput):""}_assignValue(t){this._model?(this._assignValueToModel(t),this._pendingValue=null):this._pendingValue=t}_isValidValue(t){return!t||this._dateAdapter.isValid(t)}_parentDisabled(){return!1}_assignValueProgrammatically(t){t=this._dateAdapter.deserialize(t),this._lastValueValid=this._isValidValue(t),t=this._dateAdapter.getValidDateOrNull(t),this._assignValue(t),this._formatValue(t)}_matchesFilter(t){const i=this._getDateFilter();return!i||i(t)}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(O._A,8),o.Y36(O.sG,8))},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[o.TTD]}),n})();const yf={provide:W.JU,useExisting:(0,o.Gpc)(()=>ia),multi:!0},vf={provide:W.Cf,useExisting:(0,o.Gpc)(()=>ia),multi:!0};let ia=(()=>{class n extends bf{constructor(t,i,a,s){super(t,i,a),this._formField=s,this._closedSubscription=Rt.w0.EMPTY,this._validator=W.kI.compose(super._getValidators())}set matDatepicker(t){t&&(this._datepicker=t,this._closedSubscription=t.closedStream.subscribe(()=>this._onTouched()),this._registerModel(t.registerInput(this)))}get min(){return this._min}set min(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(t){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(t));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(t){const i=this._matchesFilter(this.value);this._dateFilter=t,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(t){return t}_assignValueToModel(t){this._model&&this._model.updateSelection(t,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(t){return t.source!==this}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(o.SBq),o.Y36(O._A,8),o.Y36(O.sG,8),o.Y36(Vi,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(t,i){1&t&&o.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&t&&(o.Ikx("disabled",i.disabled),o.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[o._Bn([yf,vf,{provide:zo,useExisting:n}]),o.qOj]}),n})(),Mf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),Cf=(()=>{class n{constructor(t,i,a){this._intl=t,this._changeDetectorRef=i,this._stateChanges=Rt.w0.EMPTY;const s=Number(a);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(t){this._disabled=(0,tt.Ig)(t)}ngOnChanges(t){t.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(t){this.datepicker&&!this.disabled&&(this.datepicker.open(),t.stopPropagation())}_watchStateChanges(){const t=this.datepicker?this.datepicker.stateChanges:(0,Wn.of)(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Wn.of)(),a=this.datepicker?(0,ie.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Wn.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,ie.T)(this._intl.changes,t,i,a).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(o.Y36($e),o.Y36(o.sBO),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(t,i,a){if(1&t&&o.Suo(a,Mf,5),2&t){let s;o.iGM(s=o.CRH())&&(i._customIcon=s.first)}},viewQuery:function(t,i){if(1&t&&o.Gf(Jp,5),2&t){let a;o.iGM(a=o.CRH())&&(i._button=a.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(t,i){1&t&&o.NdJ("click",function(s){return i._open(s)}),2&t&&(o.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),o.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[o.TTD],ngContentSelectors:tf,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(t,i){1&t&&(o.F$t(Kp),o.TgZ(0,"button",0,1),o.YNc(2,Qp,2,0,"svg",2),o.Hsn(3),o.qZA()),2&t&&(o.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),o.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),o.xp6(2),o.Q6J("ngIf",!i._customIcon))},dependencies:[zi.lW,B.O5],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),Df=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[$e,ff],imports:[[B.ez,zi.ot,Dt.U8,_e.rt,Ge.eL,O.BQ],Yn.ZD]}),n})();function wf(n,e){if(1&n&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij(" ",t.validationMessages.EXPENSE_REQUIRED," ")}}function kf(n,e){if(1&n&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij(" ",t.validationMessages.EXPENSE_INVALID," ")}}function Af(n,e){if(1&n&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij(" ",t.validationMessages.AMOUNT_REQUIRED," ")}}function Sf(n,e){if(1&n&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.hij(" ",t.validationMessages.AMOUNT_INVALID," ")}}function Tf(n,e){if(1&n&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function Of(n,e){if(1&n&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(t.validationMessages.MODE_REQUIRED)}}function Ef(n,e){if(1&n&&(o.TgZ(0,"mat-option",22),o._uU(1),o.qZA()),2&n){const t=e.$implicit;o.Q6J("value",t.id),o.xp6(1),o.hij(" ",t.name," ")}}function Pf(n,e){if(1&n&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(t.validationMessages.CATEGORY_REQUIRED)}}function If(n,e){if(1&n&&(o.TgZ(0,"mat-error"),o._uU(1),o.qZA()),2&n){const t=o.oxw(2);o.xp6(1),o.Oqu(t.validationMessages.DATE_REQUIRED)}}function Rf(n,e){if(1&n){const t=o.EpF();o.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),o._uU(4),o.qZA()(),o.TgZ(5,"div",6)(6,"div",7)(7,"div")(8,"mat-form-field",8)(9,"mat-label",9),o._uU(10),o.qZA(),o._UZ(11,"input",10),o.YNc(12,wf,2,1,"mat-error",11),o.YNc(13,kf,2,1,"mat-error",11),o.qZA()(),o.TgZ(14,"div")(15,"mat-form-field",8)(16,"mat-label",9),o._uU(17),o.qZA(),o._UZ(18,"input",12),o.YNc(19,Af,2,1,"mat-error",11),o.YNc(20,Sf,2,1,"mat-error",11),o.qZA()(),o.TgZ(21,"div")(22,"mat-form-field",8)(23,"mat-label",9),o._uU(24),o.qZA(),o.TgZ(25,"mat-select",13),o.YNc(26,Tf,2,2,"mat-option",14),o.qZA(),o.YNc(27,Of,2,1,"mat-error",11),o.qZA()(),o.TgZ(28,"div")(29,"mat-form-field",8)(30,"mat-label",9),o._uU(31),o.qZA(),o.TgZ(32,"mat-select",15),o.YNc(33,Ef,2,2,"mat-option",14),o.qZA(),o.YNc(34,Pf,2,1,"mat-error",11),o.qZA()(),o.TgZ(35,"div")(36,"mat-form-field",8)(37,"mat-label",9),o._uU(38),o.qZA(),o.TgZ(39,"input",16),o.NdJ("click",function(){o.CHM(t);const a=o.MAs(43);return o.KtG(a.open())}),o.ALo(40,"date"),o.qZA(),o._UZ(41,"mat-datepicker-toggle",17)(42,"mat-datepicker",null,18),o.YNc(44,If,2,1,"mat-error",11),o.qZA()(),o.TgZ(45,"div")(46,"mat-form-field",8)(47,"mat-label",9),o._uU(48),o.qZA(),o._UZ(49,"input",19),o.qZA()()()(),o.TgZ(50,"div",20)(51,"button",21),o.NdJ("click",function(){o.CHM(t);const a=o.oxw();return o.KtG(a.addExpense())}),o._uU(52),o.qZA()()()()}if(2&n){const t=o.MAs(43),i=o.oxw();o.Q6J("@fadeIn",void 0),o.xp6(4),o.hij(" ",i.htmlLabel.TEXT.ADD_EXPENSE," "),o.xp6(1),o.Q6J("formGroup",i.addExpenseForm),o.xp6(5),o.Oqu(i.htmlLabel.TEXT.EXPENSE),o.xp6(1),o.Q6J("placeholder",i.htmlLabel.PLACEHOLDER.ENTER_EXPENSE),o.xp6(1),o.Q6J("ngIf",null==i.expense?null:i.expense.hasError("required")),o.xp6(1),o.Q6J("ngIf",null==i.expense?null:i.expense.hasError("invalidName")),o.xp6(4),o.Oqu(i.htmlLabel.TEXT.AMOUNT),o.xp6(1),o.Q6J("placeholder",i.htmlLabel.PLACEHOLDER.ENTER_AMOUNT),o.xp6(1),o.Q6J("ngIf",null==i.amount?null:i.amount.hasError("required")),o.xp6(1),o.Q6J("ngIf",null==i.amount?null:i.amount.hasError("invalidAmount")),o.xp6(4),o.Oqu(i.htmlLabel.TEXT.MODE),o.xp6(2),o.Q6J("ngForOf",i.modeOptions),o.xp6(1),o.Q6J("ngIf",null==i.mode?null:i.mode.hasError("required")),o.xp6(4),o.Oqu(i.htmlLabel.TEXT.CATEGORY),o.xp6(2),o.Q6J("ngForOf",i.categoryOptions),o.xp6(1),o.Q6J("ngIf",null==i.category?null:i.category.hasError("required")),o.xp6(4),o.Oqu(i.htmlLabel.TEXT.DATE),o.xp6(1),o.s9C("max",o.xi3(40,25,i.today,"yyyy-MM-dd")),o.Q6J("matDatepicker",t),o.xp6(2),o.Q6J("for",t),o.xp6(3),o.Q6J("ngIf",null==i.date?null:i.date.hasError("required")),o.xp6(4),o.Oqu(i.htmlLabel.TEXT.NOTE),o.xp6(1),o.Q6J("placeholder",i.htmlLabel.PLACEHOLDER.ENTER_NOTE),o.xp6(3),o.Oqu(i.htmlLabel.BUTTON.ADD_EXPENSE)}}let Ff=(()=>{class n{constructor(t,i,a){this._formBuilder=t,this._snackBarService=i,this._expenseService=a,this._ngUnsubscribe=new it.x,this.htmlLabel=P.uW,this.validationMessages=P.X3.ERROR,this.today=new Date,this.snackBarConfig=P.Sn,this.loadSpinner=!1,this.categoryOptions=[],this.modeOptions=[]}ngOnInit(){this.addExpenseForm=this._formBuilder.group({expense:["",[W.kI.required,n=>{let e=n.value;if(e&&e.trim().length>0){let t=e.match(/\w/g);return!t||t.length<3?{invalidName:!0}:null}return e&&0==e.trim().length?{invalidName:!0}:null}]],amount:["",[W.kI.required,n=>{let e=n.value;return e&&e.length?P.uX.AMOUNT_REGEX.test(e)?null:{invalidAmount:!0}:null}]],category:["",[W.kI.required]],mode:["",[W.kI.required]],date:["",[W.kI.required]],note:[""]}),this._loadSharedData()}_loadSharedData(){var t=this;return(0,Vo.Z)(function*(){t.loadSpinner=!0,t._expenseService.getSharedData().pipe((0,rt.R)(t._ngUnsubscribe.asObservable())).subscribe(i=>{i&&(t.categoryOptions=i.categoryOptions||[],t.modeOptions=i.modeOptions||[],t.loadSpinner=!1)})})()}addExpense(){var t=this;return(0,Vo.Z)(function*(){if(t.addExpenseForm.valid){t.loadSpinner=!0;const i=t.addExpenseForm.value;i.category=t.categoryOptions.find(s=>s.id==i.category).name,i.mode=t.modeOptions.find(s=>s.id==i.mode).name,i.date=new Date(i.date).toDateString();let a=yield t._expenseService.addExpense(t.addExpenseForm.value);a?(t._snackBarService.showSnackBar(500==a.status?P.X3.ERROR.SERVER_ERROR:a.message,t.snackBarConfig.DELAY,a.status<400?t.snackBarConfig.SUCCESS:t.snackBarConfig.ERROR),201==a.status&&t.addExpenseForm.reset()):t._snackBarService.showSnackBar(P.X3.ERROR.SERVER_ERROR,t.snackBarConfig.DELAY,t.snackBarConfig.ERROR),t.loadSpinner=!1}else t._snackBarService.showSnackBar(P.X3.ERROR.FILL_ALL,t.snackBarConfig.DELAY,t.snackBarConfig.ERROR)})()}get expense(){return this.addExpenseForm.get("expense")}get amount(){return this.addExpenseForm.get("amount")}get mode(){return this.addExpenseForm.get("mode")}get category(){return this.addExpenseForm.get("category")}get date(){return this.addExpenseForm.get("date")}ngOnDestroy(){this._ngUnsubscribe.next(),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(W.qu),o.Y36(Bo.o),o.Y36(Hn.$))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-add-expense"]],decls:2,vars:2,consts:[["class","add-expense-main",4,"ngIf"],[3,"isLoading"],[1,"add-expense-main"],[1,"add-expense-form-main"],[1,"header"],[1,"align-center","text-medium","weight-600"],[1,"form",3,"formGroup"],[1,"form-container"],["appearance","outline",1,"full-width"],[1,"text-small","weight-500"],["matInput","","type","text","autocomplete","off","formControlName","expense",1,"text-small",3,"placeholder"],[4,"ngIf"],["matInput","","type","text","autocomplete","off","formControlName","amount",1,"text-small",3,"placeholder"],["formControlName","mode"],["class","text-small","ngClass","option",3,"value",4,"ngFor","ngForOf"],["formControlName","category"],["matInput","","formControlName","date","readonly","",1,"text-small",2,"cursor","pointer",3,"matDatepicker","max","click"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","text","autocomplete","off","formControlName","note",1,"text-small",3,"placeholder"],[1,"d-flex","justify-content-center","align-items-center"],[1,"btn","btn-primary","mt-1",3,"click"],["ngClass","option",1,"text-small",3,"value"]],template:function(t,i){1&t&&(o.YNc(0,Rf,53,28,"div",0),o._UZ(1,"app-spinner",1)),2&t&&(o.Q6J("ngIf",i.categoryOptions.length&&i.modeOptions.length),o.xp6(1),o.Q6J("isLoading",i.loadSpinner))},dependencies:[B.mk,B.sg,B.O5,W.Fj,W.JJ,W.JL,W.sg,W.u,Mu,To,zn,Au,Vp,Lo,O.ey,_f,ia,Cf,Hi.O,B.uU],styles:[".add-expense-main[_ngcontent-%COMP%]{width:100%;padding:10px 15px;min-height:100dvh - 50px}.add-expense-form-main[_ngcontent-%COMP%]{width:100%;background-color:var(--top-section-card-background);border:1px solid var(--top-section-card-border-color);box-shadow:var(--top-section-card-shadow);border-radius:20px;padding:30px 25px}.add-expense-form-main[_ngcontent-%COMP%] > div.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px}.text-small[_ngcontent-%COMP%]{color:var(--sidebar-item-text-color)}.text-big[_ngcontent-%COMP%], .text-medium[_ngcontent-%COMP%]{color:var(--top-section-card-amount-text-color)}.form-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:30px;row-gap:25px}.full-width[_ngcontent-%COMP%]{width:100%}.option[_ngcontent-%COMP%]:hover{background-color:red}.option[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3234387c}@media screen and (max-width: 600px){.form-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],data:{animation:[(0,E.X$)("fadeIn",[(0,E.eR)(":enter",[(0,E.oB)({opacity:0}),(0,E.jt)("300ms ease-in",(0,E.oB)({opacity:1}))])])]}}),n})(),Bf=(()=>{class n{constructor(t){this._expenseService=t,this._ngUnsubscribe=new it.x,this.isLoading=!1,this.expenseData$=new Ui.X(null)}ngOnInit(){this.isLoading=!0,this._expenseService.getExpenseData().pipe((0,rt.R)(this._ngUnsubscribe.asObservable())).subscribe(t=>{t&&(this.expenseData$.next({tableData:t.allExpenses,title:"All Expenses",options:{isCustomColumn:!1,canSearchAnDownload:!0,canSort:!0,limit:10}}),this.isLoading=!1)})}ngOnDestroy(){this._ngUnsubscribe.next(),this._ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(o.Y36(Hn.$))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-show-expense"]],decls:3,vars:2,consts:[[1,"show-expense-main"],[3,"inputData$"],[3,"isLoading"]],template:function(t,i){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"app-table-view",1),o.qZA(),o._UZ(2,"app-spinner",2)),2&t&&(o.xp6(1),o.Q6J("inputData$",i.expenseData$.asObservable()),o.xp6(1),o.Q6J("isLoading",i.isLoading))},dependencies:[Hi.O,Un],styles:[".show-expense-main[_ngcontent-%COMP%]{width:100%;padding:10px 20px;min-height:100vh}"]}),n})();var Nf=T(919);let na=(()=>{class n{constructor(t,i){this._authService=t,this._router=i}canActivate(t,i){return!!this._authService.isLoggedIn()||(this._router.navigate([P.Z6.ERROR_PAGE],{queryParams:{code:403}}),!1)}}return n.\u0275fac=function(t){return new(t||n)(o.LFG(Nf.e),o.LFG(qi.F0))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hf=[{path:"",redirectTo:P.Z6.DASHBOARD,pathMatch:"full"},{path:P.Z6.DASHBOARD,component:Ep,canActivate:[na]},{path:P.Z6.ADD_EXPENSE,component:Ff,canActivate:[na]},{path:P.Z6.LIST_EXPENSE,component:Bf,canActivate:[na]}];let zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qi.Bz.forChild(Hf),qi.Bz]}),n})(),Yf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[B.ez]}),n})();var Zf=T(6046),jf=T(4989);let qf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Bo.o],imports:[B.ez,zf,Yf,W.u5,W.UX,Bp,Bi,Qu,O.XK,Df,Zf.ZX,jf.h,Hi.O,Un]}),n})()}}]);